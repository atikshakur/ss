/*
  (c) 2011 - 2013 Stefan Gabos
  @license    http://www.gnu.org/licenses/lgpl-3.0.txt GNU LESSER GENERAL PUBLIC LICENSE
  @package    Zebra_DatePicker
 jQuery Form Plugin
 version: 3.45.0-2013.10.17
 Requires jQuery v1.5 or later
 Copyright (c) 2013 M. Alsup
 Examples and documentation at: http://malsup.com/jquery/form/
 Project repository: https://github.com/malsup/form
 Dual licensed under the MIT and GPL licenses.
 https://github.com/malsup/form#copyright-and-license
 jQuery Mousewheel 3.1.13

 Copyright 2015 jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a};$jscomp.createTemplateTagFirstArgWithRaw=function(a,e){a.raw=e;return a};$jscomp.findInternal=function(a,e,f){a instanceof String&&(a=String(a));for(var b=a.length,c=0;c<b;c++){var d=a[c];if(e.call(f,d,c,a))return{i:c,v:d}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,e,f){if(a==Array.prototype||a==Object.prototype)return a;a[e]=f.value;return a};$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var e=0;e<a.length;++e){var f=a[e];if(f&&f.Math==Math)return f}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");var $jscomp$lookupPolyfilledValue=function(a,e){var f=$jscomp.propertyToPolyfillSymbol[e];if(null==f)return a[e];f=a[f];return void 0!==f?f:a[e]};$jscomp.polyfill=function(a,e,f,b){e&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,e,f,b):$jscomp.polyfillUnisolated(a,e,f,b))};
$jscomp.polyfillUnisolated=function(a,e,f,b){f=$jscomp.global;a=a.split(".");for(b=0;b<a.length-1;b++){var c=a[b];c in f||(f[c]={});f=f[c]}a=a[a.length-1];b=f[a];e=e(b);e!=b&&null!=e&&$jscomp.defineProperty(f,a,{configurable:!0,writable:!0,value:e})};
$jscomp.polyfillIsolated=function(a,e,f,b){var c=a.split(".");a=1===c.length;b=c[0];b=!a&&b in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var d=0;d<c.length-1;d++){var h=c[d];h in b||(b[h]={});b=b[h]}c=c[c.length-1];f=$jscomp.IS_SYMBOL_NATIVE&&"es6"===f?b[c]:null;e=e(f);null!=e&&(a?$jscomp.defineProperty($jscomp.polyfills,c,{configurable:!0,writable:!0,value:e}):e!==f&&($jscomp.propertyToPolyfillSymbol[c]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(c):$jscomp.POLYFILL_PREFIX+c,c=$jscomp.propertyToPolyfillSymbol[c],
$jscomp.defineProperty(b,c,{configurable:!0,writable:!0,value:e})))};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,f){return $jscomp.findInternal(this,a,f).v}},"es6","es3");$jscomp.arrayIteratorImpl=function(a){var e=0;return function(){return e<a.length?{done:!1,value:a[e++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.SymbolClass=function(a,e){this.$jscomp$symbol$id_=a;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:e})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};
$jscomp.Symbol=function(){function a(f){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(f||"")+"_"+e++,f)}var e=0;return a}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};
$jscomp.iteratorFromArray=function(a,e){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var f=0,b={next:function(){if(f<a.length){var c=f++;return{value:e(c,a[c]),done:!1}}b.next=function(){return{done:!0,value:void 0}};return b.next()}};b[Symbol.iterator]=function(){return b};return b};$jscomp.polyfill("Array.prototype.entries",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a,f){return[a,f]})}},"es6","es3");
$jscomp.polyfill("Math.sign",function(a){return a?a:function(a){a=Number(a);return 0===a||isNaN(a)?a:0<a?1:-1}},"es6","es3");$jscomp.polyfill("Object.is",function(a){return a?a:function(a,f){return a===f?0!==a||1/a===1/f:a!==a&&f!==f}},"es6","es3");$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(a,f){var b=this;b instanceof String&&(b=String(b));var c=b.length;f=f||0;for(0>f&&(f=Math.max(f+c,0));f<c;f++){var d=b[f];if(d===a||Object.is(d,a))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(a,e,f){if(null==a)throw new TypeError("The 'this' value for String.prototype."+f+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+f+" must not be a regular expression");return a+""};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,f){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,f||0)}},"es6","es3");
$jscomp.polyfill("String.prototype.endsWith",function(a){return a?a:function(a,f){var b=$jscomp.checkStringArgs(this,a,"endsWith");a+="";void 0===f&&(f=b.length);f=Math.max(0,Math.min(f|0,b.length));for(var c=a.length;0<c&&0<f;)if(b[--f]!=a[--c])return!1;return 0>=c}},"es6","es3");
$jscomp.polyfill("Array.prototype.flat",function(a){return a?a:function(a){a=void 0===a?1:a;for(var e=[],b=0;b<this.length;b++){var c=this[b];Array.isArray(c)&&0<a?(c=Array.prototype.flat.call(c,a-1),e.push.apply(e,c)):e.push(c)}return e}},"es9","es5");bm.show_response_status=!1;$.form_no_textarea_autosize=!0;$.scrollbar_horizontal_without_bar_step="auto";$.extend($.paginator_config,{next:app.next,prev:app.prev,first:app.first,last:app.last});
(function(){var a=0;window.WCUIWidget=function(){};WCUIWidget.prototype={_createWidget:function(e,f){this.element=$(f);this.uuid=a++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=$();this.hoverable=$();this.focusable=$();this.options=$.extend({},this.options,this._getCreateOptions(),e);this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:$.noop,_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){this._destroy();
this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData($.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:$.noop,widget:function(){return this.element},option:function(a,f){var b=a,c;if(0===arguments.length)return $.widget.extend({},
this.options);if("string"===typeof a){b={};var d=a.split(".");a=d.shift();if(d.length){var h=b[a]=$.widget.extend({},this.options[a]);for(c=0;c<d.length-1;c++)h[d[c]]=h[d[c]]||{},h=h[d[c]];a=d.pop();if(1===arguments.length)return void 0===h[a]?null:h[a];h[a]=f}else{if(1===arguments.length)return void 0===this.options[a]?null:this.options[a];b[a]=f}}this._setOptions(b);return this},_setOptions:function(a){for(var e in a)this._setOption(e,a[e]);return this},_setOption:function(a,f){this.options[a]=
f;"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!f),f&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")));return this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(a,f,b){var c,d=this;"boolean"!==typeof a&&(b=f,f=a,a=!1);b?(f=c=$(f),this.bindings=this.bindings.add(f)):(b=f,f=this.element,c=this.widget());$.each(b,function(b,k){function h(){if(a||
!0!==d.options.disabled&&!$(this).hasClass("ui-state-disabled"))return("string"===typeof k?d[k]:k).apply(d,arguments)}"string"!==typeof k&&(h.guid=k.guid=k.guid||h.guid||$.guid++);var g=b.match(/^([\w:-]*)\s*(.*)$/);b=g[1]+d.eventNamespace;(g=g[2])?c.delegate(g,b,h):f.bind(b,h)})},_off:function(a,f){f=(f||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.unbind(f).undelegate(f);this.bindings=$(this.bindings.not(a).get());this.focusable=$(this.focusable.not(a).get());this.hoverable=
$(this.hoverable.not(a).get())},_delay:function(a,f){var b=this;return setTimeout(function(){return("string"===typeof a?b[a]:a).apply(b,arguments)},f||0)},_hoverable:function(a){this.hoverable=this.hoverable.add(a);this._on(a,{mouseenter:function(a){$(a.currentTarget).addClass("ui-state-hover")},mouseleave:function(a){$(a.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a);this._on(a,{focusin:function(a){$(a.currentTarget).addClass("ui-state-focus")},
focusout:function(a){$(a.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(a,f,b){var c,d=this.options[a];b=b||{};f=$.Event(f);f.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase();f.target=this.element[0];if(a=f.originalEvent)for(c in a)c in f||(f[c]=a[c]);this.element.trigger(f,b);return!($.isFunction(d)&&!1===d.apply(this.element[0],[f].concat(b))||f.isDefaultPrevented())}}})();
(function(){var a={active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,disabled:[],load_on_activate:!1,all_deactivable:!1,ajax_caller:bm.ajax,loader_template:"",content_on_load_error:"",beforeActivate:null,beforeLoad:null,load:null,loadError:null,hashnavigation:!1},e=0,f=function(b,c){c=this.options=$.extend({},a,c);this.running=!1;this.element=b;this.bindings=$();this.hoverable=$();this.focusable=$();this._handlers={};this.eventNamespace="tabs-"+e++;this.element.toggleClass("bmui-tab-collapsible",
c.collapsible).delegate(".bmui-tab-header","focus."+this.eventNamespace,function(){$(this).closest(".bmui-tab-header").is(".bmui-state-disabled")&&this.blur()});this._processTabs();c.disabled=$.unique(c.disabled.concat($.map(this.tabs.filter("[data-tabify-disabled], .bmui-state-disabled"),function(a){return a.index})));c.active=this._initialActive();this.active=this.options.active?this._findTab(c.active):$();this._refresh();this.active.length&&this._load(c.active);var d=this;if(this.options.hashnavigation)$(window).on("hashchange",
function(){var a=window.location.hash;if(a&&(a=a.substring(1),!0!==d.options.disabled)){if(d.options.disabled&&d.options.disabled.contains(a)){var b=d.getTabIndex(a)-1;for(a=void 0;0<=b;b--){var c=d.tabs.eq(b)[0].index;if(!d.options.disabled.contains(c)){a=c;break}}a&&(b=bm.path(location),b.fragment=a,history.pushState("tabify","expected tab disabled",b.full))}else d._getTab(a).length||(a=void 0);a&&d.activate(a)}})};f.prototype={activate:function(a,c){(a=this._findTab(a))&&a[0]!==this.active[0]&&
(a.length||(a=this.active),this._eventHandler({target:a,currentTarget:a,preventDefault:$.noop,silent:c}))},add:function(a){if(a.template instanceof $){var b=a.template;var d=this.tabs.index(b)}else b=$(a.template||'<div>                     <span class="icon"></span>                       <span class="title"></span>                     <span class="close"></span>                   </div>'),a.title&&b.find(".title").text(a.title),a.tip&&b.attr("title",a.tip),a.close_on_header||b.find(".close").remove(),
a.icon_on_header||b.find(".icon").remove(),b.addClass("bmui-tab-header "+(a.clazz||"")),a.load_url&&b.attr("data-tabify-url",a.load_url),a.index||(a.index=(new Date).getTime()),b.attr("data-tabify-tab-id",a.index),a.after?(d=this._findTab(a.after))&&d.length?(d.after(b),d=this.tabs.index(d)+1):(this.headercontainer.append(b),d=this.tabs.length):a.before?(d=this._findTab(a.before))&&d.length?(d.before(b),d=this.tabs.index(d)):(this.headercontainer.prepend(b),d=0):(this.headercontainer.append(b),d=
this.tabs.length-1);a.panel&&a.panel.length?(a.panel.addClass("bmui-tab-panel"),b[0].panel=a.panel,a.panel.parent().length||this.panelcontainer.append(b[0].panel)):(b[0].panel=$("<div class='bmui-tab-panel' id='bmui-tab-"+a.index+"'></div>"),this.panelcontainer.append(b[0].panel));Array.prototype.splice.call(this.tabs,d,0,b[0]);this._processTab(b[0]);this._refresh();a.active&&this._setOption("active",b[0].index);return{tab:b,panel:b[0].panel,index:b[0].index}},destroy:function(){this._destroy();this.element.unbind("."+
this.eventNamespace).removeData(this.widgetFullName).removeData($.camelCase(this.widgetFullName));this.widget().unbind("."+this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled bmui-state-disabled");this.bindings.unbind("."+this.eventNamespace);this.hoverable.removeClass("bmui-state-hover");this.focusable.removeClass("bmui-state-focus")},disable:function(a){if(a)!0===this.options.disabled&&(this.options.disabled=[]),this.tabs.filter("[data-tabify-tab-id='"+a+
"']").length&&!this.options.disabled.contains(a)&&(this.options.disabled.push(a),this._setupDisabled());else return this._setOptions({disabled:!0})},each:function(a){this.tabs.each(function(b,d){a.call({tab:$(d),panel:d.panel,index:d.index},b)});return this},enable:function(a){if(a)!1!==this.options.disabled&&this.tabs.filter("[data-tabify-tab-id='"+a+"']").length&&this.options.disabled.contains(a)&&(this.options.disabled.remove(a),this._setupDisabled());else return this._setOptions({disabled:!1})},
getActive:function(){return this.active?this.active.attr("data-tabify-tab-id"):null},getTabHash:function(a){return{tab:this.tabs.filter("[data-tabify-tab-id='"+a+"']"),panel:this.element.find(this._sanitizeSelector("#bmui-tab-"+a))}},getTabIndex:function(a){return this._getTabIndex(this._getTab(a))},hasIndex:function(a){return(a=this._findTab(a))&&a.length},isContentLoaded:function(a){return!this._findTab(a).nat.load_url},option:function(a,c){var b=a,h;if("string"===typeof a){b={};var k=a.split(".");
a=k.shift();if(k.length){var e=b[a]=$.extend({},this.options[a]);for(h=0;h<k.length-1;h++)e[k[h]]=e[k[h]]||{},e=e[k[h]];a=k.pop();if(1===arguments.length)return void 0===e[a]?null:e[a];e[a]=c}else{if(1===arguments.length)return void 0===this.options[a]?null:this.options[a];b[a]=c}}this._setOptions(b)},remove:function(a){if((a=this._findTab(a))&&a.length){var b=this._getPanelForTab(a),d=this.tabs.index(a),h=this.panels.index(b);Array.prototype.splice.call(this.tabs,d,1);Array.prototype.splice.call(this.panels,
h,1);this.options.all_deactivable||this.active[0]!=a[0]||(h=this.tabs.eq(d),h.length||(h=this.tabs.eq(d-1)),h.length&&this._setOption("active",h[0].index));a.add(b).remove()}},refresh:function(){var a=this.options;a.disabled=$.map(this.tabs.filter(".bmui-state-disabled"),function(a){return a.index});this._processTabs();!1!==a.active&&this.tabs.length?this.active.length&&!$.contains(this.tabs[0],this.active[0])?this.tabs.length===a.disabled.length?(a.active=!1,this.active=$()):this.activate(this._findNextTab(this.tabs.index(a.active)-
1,!1)):a.active=-1<this.tabs.index(this.active)?this.active:null:(a.active=!1,this.active=$());this._refresh()},reload:function(a,c){a=this._findTab(a);a.addClass("reloading");a[0].load_url=c||a.attr("data-tabify-url");this.active[0]==a[0]&&this._eventHandler({target:a,currentTarget:a,preventDefault:$.noop})},_ajaxSettings:function(a,c,d){var b=this;return{url:a.load_url,dataType:"html",beforeSend:function(a,c){return bm.trigger(b,b.element,"tab","beforeLoadRequestSend",[$.extend({jqXHR:a,ajaxSettings:c},
d)])}}},_findNextTab:function(a,c){function b(){a>h&&(a=0);0>a&&(a=h);return a}for(var h=this.tabs.length-1;-1!==$.inArray(b(),this.options.disabled);)a=c?a+1:a-1;return a},_createPanel:function(a){return $("<div>").attr("id","bmui-tab-"+a).addClass("bmui-tab-panel").data("bmui-tab-destroy",!0)},_delay:function(a,c){var b=this;return setTimeout(function(){return("string"===typeof a?b[a]:a).apply(b,arguments)},c||0)},_destroy:function(){this.xhr&&this.xhr.abort();this.element.removeClass("bmui-tab bmui-tab-collapsible");
this.headercontainer.removeClass("bmui-tab-header-container").removeAttr("role");this.tabs.add(this.panels).each(function(){$.data(this,"bmui-tab-destroy")?$(this).remove():$(this).removeClass("bmui-state-default bmui-state-active bmui-state-disabled bmui-corner-top bmui-corner-bottom bmui-widget-content bmui-tab-active bmui-tab-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")});
this.tabs.each(function(){var a=$(this),c=a.data("bmui-tab-aria-controls");c?a.attr("aria-controls",c).removeData("bmui-tab-aria-controls"):a.removeAttr("aria-controls")});this.panels.removeClass("bmui-state-visible");"content"!==this.options.heightStyle&&this.panels.css("height","")},_focusable:function(a){this.focusable=this.focusable.add(a);a.on("focusin."+this.eventNamespace,function(a){$(a.currentTarget).addClass("bmui-state-focus")});a.on("focusout."+this.eventNamespace,function(a){$(a.currentTarget).removeClass("bmui-state-focus")})},
_focusNextTab:function(a,c){a=this._findNextTab(a,c);this.tabs.eq(a).focus();return a},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):$()}},_getHederContainer:function(){var a=this.options.header_container?this.options.header_container instanceof $?this.options.header_container:this.element.find(this.options.header_container):this.element.find("> .bmui-tab-header-container");a.length||(a=this.element);return a},_getPanelContainer:function(){return this.options.bodies_container?
this.options.bodies_container instanceof $?this.options.bodies_container:this.element.find(this.options.bodies_container):this.element.find("> .bmui-tab-body-container")},_getPanelForTab:function(a){if(!a||!a.length)return null;if(a[0].panel)return a[0].panel;a=a.attr("data-aria-controls");return this.panelcontainer.find("> "+this._sanitizeSelector("#bmui-tab-"+a))},_getTab:function(a){return this.tabs.filter("[data-tabify-tab-id='"+a+"']")},_getTabIndex:function(a){return a.length?this.tabs.index(a):
-1},_handlePageNav:function(a){if(a.altKey&&a.keyCode===browser.key.PAGE_UP)return this.activate(this._focusNextTab(this.tabs.index(this.active)-1,!1)),!0;if(a.altKey&&a.keyCode===browser.key.PAGE_DOWN)return this.activate(this._focusNextTab(this.tabs.index(this.active)+1,!0)),!0},_hoverable:function(a){this.hoverable=this.hoverable.add(a);a.on("mouseenter."+this.eventNamespace,function(a){$(a.currentTarget).addClass("bmui-state-hover")});a.on("mouseleave."+this.eventNamespace,function(a){$(a.currentTarget).removeClass("bmui-state-hover")})},
_eventHandler:function(a){var b=this.options,d=this.active,h=$(a.currentTarget),k=h.closest(".bmui-tab-header"),e=k[0]===d[0],g=e&&b.collapsible,l=g?$():this._getPanelForTab(k),f=d.length?this._getPanelForTab(d):$();d={oldIndex:d.length?d[0].index:-1,oldTab:d,oldPanel:f,newIndex:g?"":k[0].index,newTab:g?$():k,newPanel:l};if(a.silent||!(k.hasClass("bmui-state-disabled")||k.hasClass("bmui-tab-loading")||this.running||e&&!b.collapsible&&!h.hasClass("reloading")||!1===bm.trigger(this,this.element,"tab",
"beforeActivate",[d])))b.active=g?!1:k[0].index,this.active=e&&!h.hasClass("reloading")?$():k,h.removeClass("reloading"),this.xhr&&this.xhr.abort(),f.length||l.length||$.error("jQuery UI Tabs: Mismatching fragment identifier."),h.is(".iframe-tab")?this._loadIframe(k,a):l.length&&this._load(k,a),this._toggle(a,d)},_findTab:function(a){if("number"==typeof a)return this.tabs.eq(a);if("string"===typeof a||a instanceof String)return this.tabs.filter("[data-tabify-tab-id='"+a+"']");if(a instanceof $){var b=
a.closest(".bmui-tab-header",this.element);b=b.length?b:a.closest(".bmui-tab-panel",this.element);if(b.length){var d;this.tabs.each(function(){if(b[0]==this||b[0]==this.panel[0])return d=$(this),!1});if(d)return d}}return a||null},_initialActive:function(){var a=this.options.active,c=location.hash.substring(1);if(!a&&c)if(this.options.disabled.contains(c))for(var d=this.getTabIndex(c)-1;0<=d;d--){var h=this.tabs.eq(d)[0].index;if(!this.options.disabled.contains(h)){a=h;d=bm.path(location);d.fragment=
a;history.pushState("tabify","expected tab disabled",d.full);break}}else this.tabs.each(function(b,d){if($(d).attr("aria-controls")===c)return a=d.index,!1});a||(d=this.tabs.filter(".bmui-tab-active"),d.length&&(a=d[0].index));a||(a=this.tabs.length?this.tabs[0].index:null);return a},_load:function(a,c){var b=this,h=this._findTab(a),k=this._getPanelForTab(h),e={index:h[0].index,tab:h,panel:k};if(h[0].load_url){this.options.loader_template&&k.append(this.options.loader_template);var g=this._ajaxSettings(h[0],
c,e);bm.trigger(b,b.element,"tab","beforeLoad",[$.extend(g,e)]);(this.xhr=this.options.ajax_caller(g))&&"canceled"!==this.xhr.statusText&&(h.addClass("bmui-tab-loading"),k.addClass("bmui-tab-loading"),k.attr("aria-busy","true"),this.xhr.always(function(){setTimeout(function(){"abort"===status&&b.panels.stop(!1,!0);h.addClass("bmui-tab-loading-error");h.removeClass("bmui-tab-loading");k.removeClass("bmui-tab-loading");k.removeAttr("aria-busy")},1)}).done(function(a){setTimeout(function(){k.html(a).updateUi();
bm.handleUrlNavigation(g.url,k);bm.trigger(b,b.element,"tab","load",[e]);b.options.load_on_activate||(h[0].load_url=null)},1)}).fail(function(a,g,d){setTimeout(function(){k.html(b.options.content_on_load_error||(app.production?"":d));bm.trigger(b,b.element,"tab","error",[e])},1)}).always(function(a){setTimeout(function(){a===b.xhr&&delete b.xhr},1)}))}},_loadIframe:function(a,c){var b=this._findTab(a);a=this._getPanelForTab(b);c=b.attr("data-iframe-url");b=b.attr("data-iframe-tab");a.html('<iframe  style="\n    height: 600px;\n    width: 100%;\n" class="customer-profile-iframe-tab-'+
b+'" src="'+c+'" frameBorder="0" allowFullScreen allow-same-origin scrolling="no"></iframe>')},_panelKeydown:function(a){this._handlePageNav(a)||a.ctrlKey&&a.keyCode===browser.key.UP&&this.active.focus()},_processTab:function(a){var b,d,h=$(a).attr("id"),k=$(a).attr("aria-controls");a.load_url=$(a).attr("data-tabify-url");a.index=b=$(a).attr("data-tabify-tab-id");a.index||(a.index=b="index-"+bm.getUUID(),$(a).attr("data-tabify-tab-id",b));a.panel=d=a.panel||this.panelcontainer.find("> #bmui-tab-"+
b);d.length||(d=this._createPanel(b),d.appendTo(this.panelcontainer),d.attr("aria-live","polite"),a.panel=d);this.panels=this.panels.add(d);a=$(a);k&&a.data("bmui-tab-aria-controls",k);a.attr({"aria-controls":b,"aria-labelledby":h});d.attr("aria-labelledby",h)},_processTabs:function(){var a=this;this.headercontainer=this._getHederContainer().attr("role","tablist");this.panelcontainer=this._getPanelContainer();this.tabs=this.headercontainer.find("> .bmui-tab-header-group > .bmui-tab-group-headers > .bmui-tab-header, > .bmui-tab-header").addClass("bmui-state-default").attr({role:"tab",
tabIndex:-1});this.panels=$();this.tabs.each(function(b,d){a._processTab(d)});this.panels.addClass("bmui-tab-panel").attr("role","tabpanel")},_refresh:function(){this._setupDisabled();this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).removeClass("bmui-state-visible").attr({"aria-expanded":"false","aria-hidden":"true"});if(this.active.length){this.active.addClass("bmui-tab-active bmui-state-active").attr({"aria-selected":"true",
tabIndex:0});if(this.options.hashnavigation&&location.hash!="#"+this.active[0].index){var a=bm.path(location);a.fragment=this.active[0].index;history.pushState("tabify",a.fragment+"tab activated",a.full)}this._getPanelForTab(this.active).addClass("bmui-state-visible").attr({"aria-expanded":"true","aria-hidden":"false"})}else this.tabs.eq(0).attr("tabIndex",0)},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},_setOption:function(a,c){this.options[a]=
c;"disabled"===a&&this._setupDisabled();if("active"===a)this.activate(c);else if("disabled"===a)this._setupDisabled(c);else return"collapsible"===a&&(this.element.toggleClass("bmui-tab-collapsible",c),c||!1!==this.options.active||this.activate(0)),"event"===a&&this._setupEvents(c),"heightStyle"===a&&this._setupHeightStyle(c),this},_setOptions:function(a){for(var b in a)this._setOption(b,a[b]);return this},_setupDisabled:function(a){a="undefined"==typeof a?this.options.disabled:a;var b=$(),d=$();!0===
a?b=this.tabs:!1===a?d=this.tabs:this.tabs.each(function(c){-1<$.inArray(this.index,a)||-1<$.inArray(c,a)?b=b.add($(this)):d=d.add($(this))});b.addClass("bmui-state-disabled").attr("aria-disabled","true");d.removeClass("bmui-state-disabled").removeAttr("aria-disabled");this.options.disabled=b.length?b.length==this.tabs.length?!0:a:!1},_setupEvents:function(a){var b=this,d={keydown:$.proxy(this._tabKeydown,this)};a&&$.each(a.split(" "),function(a,c){d[c]=$.proxy(b._eventHandler,b)});$.extend(this._handlers,
d);this.tabs.add(this.panels).off("."+this.eventNamespace);this.tabs.find(".close").off("."+this.eventNamespace).on("click."+this.eventNamespace,function(){var a=$(this).closest(".bmui-tab-header"),d=b._getPanelForTab(a),c=a[0].index;!1!==bm.trigger(b,b.element,"tab","beforeRemove",[{tab:a,panel:d,index:c}])&&(b.remove(c),bm.trigger(b,b.element,"tab","remove",[{tab:a,panel:d,index:c}]))});this.panels.on("keydown."+this.eventNamespace,$.proxy(this._panelKeydown,this));this._setupTabEvents(this.tabs)},
_setupHeightStyle:function(a){var b=this.element.parent();if("fill"===a){var d=b.height();d-=this.element.outerHeight()-this.element.height();this.element.siblings(":visible").each(function(){var a=$(this),b=a.css("position");"absolute"!==b&&"fixed"!==b&&(d-=a.outerHeight(!0))});this.element.children().not(this.panels).each(function(){d-=$(this).outerHeight(!0)});this.panels.each(function(){$(this).height(Math.max(0,d-$(this).innerHeight()+$(this).height()))}).css("overflow","auto")}else"auto"===
a&&(d=0,this.panels.each(function(){d=Math.max(d,$(this).height("").height())}).height(d))},_setupTabEvents:function(a){var b=this;$.each(this._handlers,function(d,c){a.on(d+"."+b.eventNamespace,$.proxy(c,b))});this._focusable(a);this._hoverable(a)},_tabKeydown:function(a){var b=$(this[0].document.activeElement).closest(".bmui-tab-header"),d=this.tabs.index(b),h=!0;if(!this._handlePageNav(a)){switch(a.keyCode){case browser.key.RIGHT:case browser.key.DOWN:d++;break;case browser.key.UP:case browser.key.LEFT:h=
!1;d--;break;case browser.key.END:d=this.tabs.length-1;break;case browser.key.HOME:d=0;break;case browser.key.SPACE:a.preventDefault();clearTimeout(this.activating);this.activate(d);return;case browser.key.ENTER:a.preventDefault();clearTimeout(this.activating);this.activate(d===this.tabs.index(this.active)?!1:d);return;default:return}clearTimeout(this.activating);d=this._focusNextTab(d,h);if(!a.ctrlKey){b.attr("aria-selected","false");var k=this.tabs.eq(d).attr("aria-selected","true");this.activating=
this._delay(function(){this.option("active",k[0].index)},this.delay)}}},_toggle:function(a,c){var b=c.newPanel,h=c.oldPanel;this.running=!0;c.oldTab.closest(".bmui-tab-header").removeClass("bmui-tab-active bmui-state-active");h.removeClass("bmui-state-visible");c.newTab.closest(".bmui-tab-header").addClass("bmui-tab-active bmui-state-active");if(this.options.hashnavigation&&location.hash!="#"+c.newTab[0].index){var k=bm.path(location);k.fragment=c.newTab[0].index;history.pushState("tabify",k.fragment+
"tab activated",k.full)}b.addClass("bmui-state-visible");this.running=!1;a.silent||bm.trigger(this,this.element,"tab","activate",[c]);h.attr({"aria-expanded":"false","aria-hidden":"true"});c.oldTab.attr("aria-selected","false");b.length&&h.length?c.oldTab.attr("tabIndex",-1):b.length&&this.tabs.filter(function(){return 0===$(this).attr("tabIndex")}).attr("tabIndex",-1);b.attr({"aria-expanded":"true","aria-hidden":"false"});c.newTab.attr({"aria-selected":"true",tabIndex:0})}};bm.jquerify("tabify",
f)})();bm.ui_updaters&&bm.ui_updaters.push(function(){this.find(".bmui-tab").tabify({loader_template:'<div class="mask-overlay"><span class="loader"></span></div>'}).on("tab:beforeLoad",function(a,e){e.panel.addClass("masked-div")}).on("tab:load tab:error",function(a,e){e.panel.removeClass("masked-div")})});
(function(a){function e(b){var d=b.data;b.isDefaultPrevented()||(b.preventDefault(),a(b.target).ajaxSubmit(d))}function f(b){var d=b.target,g=a(d);if(!g.is("[type=submit],[type=image]")){d=g.closest("[type=submit]");if(0===d.length)return;d=d[0]}var c=this;c.clk=d;"image"==d.type&&(void 0!==b.offsetX?(c.clk_x=b.offsetX,c.clk_y=b.offsetY):"function"==typeof a.fn.offset?(g=g.offset(),c.clk_x=b.pageX-g.left,c.clk_y=b.pageY-g.top):(c.clk_x=b.pageX-d.offsetLeft,c.clk_y=b.pageY-d.offsetTop));setTimeout(function(){c.clk=
c.clk_x=c.clk_y=null},100)}function b(){if(a.fn.ajaxSubmit.debug){var b="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(b):window.opera&&window.opera.postError&&window.opera.postError(b)}}var c=void 0!==a("<input type='file'/>").get(0).files;var d=void 0!==window.FormData;var h=!!a.fn.prop;a.fn.attr2=function(){if(!h)return this.attr.apply(this,arguments);var a=this.prop.apply(this,arguments);return a&&a.jquery||"string"===typeof a?a:
this.attr.apply(this,arguments)};a.fn.ajaxSubmit=function(k){function e(b){b=a.param(b,k.traditional).split("&");var g=b.length,d=[],c;for(c=0;c<g;c++){b[c]=b[c].replace(/\+/g," ");var l=b[c].split("=");d.push([decodeURIComponent(l[0]),decodeURIComponent(l[1])])}return d}function g(b){for(var d=new FormData,g=0;g<b.length;g++)d.append(b[g].name,b[g].value);if(k.extraData)for(b=e(k.extraData),g=0;g<b.length;g++)b[g]&&d.append(b[g][0],b[g][1]);k.data=null;g=a.extend(!0,{},a.ajaxSettings,k,{contentType:!1,
processData:!1,cache:!1,type:x||"POST"});k.uploadProgress&&(g.xhr=function(){var b=a.ajaxSettings.xhr();b.upload&&b.upload.addEventListener("progress",function(a){var b=0,g=a.loaded||a.position,d=a.total;a.lengthComputable&&(b=Math.ceil(g/d*100));k.uploadProgress(a,g,d,b)},!1);return b});g.data=null;var c=g.beforeSend;g.beforeSend=function(a,b){b.data=k.formData?k.formData:d;c&&c.call(this,a,b)};return g.ajax_caller(g)}function l(g,d,c){function e(a){var g=null;try{a.contentWindow&&(g=a.contentWindow.document)}catch(Q){b("cannot get iframe.contentWindow document: "+
Q)}if(g)return g;try{g=a.contentDocument?a.contentDocument:a.document}catch(Q){b("cannot get iframe.contentDocument: "+Q),g=a.document}return g}function B(){function g(){try{var a=e(u).readyState;b("state = "+a);a&&"uninitialized"==a.toLowerCase()&&setTimeout(g,50)}catch(fa){b("Server abort: ",fa," (",fa.name,")"),m(2),t&&clearTimeout(t),t=void 0}}var d=f.attr2("target"),c=f.attr2("action");w.setAttribute("target",ba);x&&!/post/i.test(x)||w.setAttribute("method","POST");c!=r.url&&w.setAttribute("action",
r.url);r.skipEncodingOverride||x&&!/post/i.test(x)||f.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});r.timeout&&(t=setTimeout(function(){p=!0;m(1)},r.timeout));var l=[];try{if(r.extraData)for(var h in r.extraData)r.extraData.hasOwnProperty(h)&&(a.isPlainObject(r.extraData[h])&&r.extraData[h].hasOwnProperty("name")&&r.extraData[h].hasOwnProperty("value")?l.push(a('<input type="hidden" name="'+r.extraData[h].name+'">').val(r.extraData[h].value).appendTo(w)[0]):l.push(a('<input type="hidden" name="'+
h+'">').val(r.extraData[h]).appendTo(w)[0]));"json"==(r.dataType||"html")&&l.push(a('<input type="hidden" name="jsonashtml">').val("true").appendTo(w)[0]);l.push(a('<input type="hidden" name="xhriniframe">').val("true").appendTo(w)[0]);r.iframeTarget||W.appendTo("body");u.attachEvent?u.attachEvent("onload",m):u.addEventListener("load",m,!1);setTimeout(g,15);try{w.submit()}catch(ka){document.createElement("form").submit.apply(w)}}finally{w.setAttribute("action",c),d?w.setAttribute("target",d):f.removeAttr("target"),
a(l).remove()}}function m(g){if(!C.aborted&&!R)if(L=e(u),L||(b("cannot access response document"),g=2),1===g&&C)C.abort("timeout"),E.reject(C,"timeout");else if(2==g&&C)C.abort("server abort"),E.reject(C,"error","server abort");else if(L&&L.location.href!=r.iframeSrc||p){u.detachEvent?u.detachEvent("onload",m):u.removeEventListener("load",m,!1);g="success";var d;try{if(p)throw"timeout";var c="xml"==r.dataType||L.XMLDocument||a.isXMLDoc(L);b("isXml="+c);if(!c&&window.opera&&(null===L.body||!L.body.innerHTML)&&
--G){b("requeing onLoad callback, DOM not available");setTimeout(m,250);return}var l=L.body?L.body:L.documentElement;C.responseText=l?l.innerHTML:null;C.responseXML=L.XMLDocument?L.XMLDocument:L;c&&(r.dataType="xml");C.getResponseHeader=function(a){return{"content-type":r.dataType}[a.toLowerCase()]};l&&(C.status=Number(l.getAttribute("status"))||C.status,C.statusText=l.getAttribute("statusText")||C.statusText);var h=(r.dataType||"html").toLowerCase(),k=/(json|script|text)/.test(h);if(k||r.textarea){var f=
L.getElementsByTagName("textarea")[0];if(f)C.responseText=f.value,C.status=Number(f.getAttribute("status"))||C.status,C.statusText=f.getAttribute("statusText")||C.statusText;else if(k){var B=L.getElementsByTagName("pre")[0],x=L.getElementsByTagName("body")[0];B?C.responseText=B.textContent?B.textContent:B.innerText:x&&(C.responseText=x.textContent?x.textContent:x.innerText)}}else"xml"==h&&!C.responseXML&&C.responseText&&(C.responseXML=n(C.responseText));try{ja=z(C,h,r)}catch(Y){g="parsererror",C.error=
d=Y||g}}catch(Y){b("error caught: ",Y),g="error",C.error=d=Y||g}C.aborted&&(b("upload aborted"),g=null);C.status&&(g=200<=C.status&&300>C.status||304===C.status?"success":"error");"success"===g?(r.success&&r.success.call(r.context,ja,"success",C),E.resolve(C.responseText,"success",C),q&&a.event.trigger("ajaxSuccess",[C,r])):g&&(void 0===d&&(d=C.statusText),r.error&&r.error.call(r.context,C,g,d),E.reject(C,"error",d),q&&a.event.trigger("ajaxError",[C,r,d]));q&&a.event.trigger("ajaxComplete",[C,r]);
q&&!--a.active&&a.event.trigger("ajaxStop");r.complete&&r.complete.call(r.context,C,g);R=!0;r.timeout&&clearTimeout(t);setTimeout(function(){r.iframeTarget?W.attr("src",r.iframeSrc):W.remove();C.responseXML=null},100)}}var w=f[0],A,q,p,t,E=a.Deferred();E.abort=function(a){C.abort(a)};if(g)for(A=0;A<D.length;A++){var y=a(D[A]);h?y.prop("disabled",!1):y.removeAttr("disabled")}if(d)var r=c;else k.on_login=function(){l(g,!0,r)},k=bm._modified_ajax_settings(k),r=a.extend(!0,{},a.ajaxSettings,k);r.context=
r.context||r;var ba="jqFormIO"+(new Date).getTime();if(r.iframeTarget){var W=a(r.iframeTarget);(c=W.attr2("name"))?ba=c:W.attr2("name",ba)}else W=a('<iframe name="'+ba+'" src="'+r.iframeSrc+'" />'),W.css({position:"absolute",top:"-1000px",left:"-1000px"});var u=W[0];var C={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(g){var d="timeout"===g?"timeout":"aborted";b("aborting upload... "+
d);this.aborted=1;try{u.contentWindow.document.execCommand&&u.contentWindow.document.execCommand("Stop")}catch(Q){}W.attr("src",r.iframeSrc);C.error=d;r.error&&r.error.call(r.context,C,d,g);q&&a.event.trigger("ajaxError",[C,r,d]);r.complete&&r.complete.call(r.context,C,d)}};(q=r.global)&&0===a.active++&&a.event.trigger("ajaxStart");q&&a.event.trigger("ajaxSend",[C,r]);if(r.beforeSend&&!1===r.beforeSend.call(r.context,C,r))return r.global&&a.active--,E.reject(),E;if(C.aborted)return E.reject(),E;(d=
w.clk)&&(c=d.name)&&!d.disabled&&(r.extraData=r.extraData||{},r.extraData[c]=d.value,"image"==d.type&&(r.extraData[c+".x"]=w.clk_x,r.extraData[c+".y"]=w.clk_y));d=a("meta[name=csrf-token]").attr("content");(c=a("meta[name=csrf-param]").attr("content"))&&d&&(r.extraData=r.extraData||{},r.extraData[c]=d);r.forceSync?B():setTimeout(B,10);var ja,L,G=50,R,n=a.parseXML||function(a,b){window.ActiveXObject?(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a)):b=(new DOMParser).parseFromString(a,
"text/xml");return b&&b.documentElement&&"parsererror"!=b.documentElement.nodeName?b:null},F=a.parseJSON||function(a){return window.eval("("+a+")")},z=function(b,g,d){var c=b.getResponseHeader("content-type")||"",l="xml"===g||!g&&0<=c.indexOf("xml");b=l?b.responseXML:b.responseText;l&&"parsererror"===b.documentElement.nodeName&&a.error&&a.error("parsererror");d&&d.dataFilter&&(b=d.dataFilter(b,g));"string"===typeof b&&("json"===g||!g&&0<=c.indexOf("json")?b=F(b):("script"===g||!g&&0<=c.indexOf("javascript"))&&
a.globalEval(b));return b};return E}if(!this.length)return b("ajaxSubmit: skipping submit process - no element selected"),this;var f=this;"function"==typeof k?k={success:k}:void 0===k&&(k={});var x=k.type||this.attr2("method");var A=k.url||this.attr2("action");(A=(A="string"===typeof A?a.trim(A):"")||window.location.href||"")&&(A=(A.match(/^([^#]+)/)||[])[1]);k=a.extend(!0,{url:A,success:a.ajaxSettings.success,type:x||a.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":
"about:blank",ajax_caller:bm.ajax},k);A={};this.trigger("form-pre-serialize",[this,k,A]);if(A.veto)return b("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(k.beforeSerialize&&!1===k.beforeSerialize(this,k))return b("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var E=k.traditional;void 0===E&&(E=a.ajaxSettings.traditional);var D=[],q=this.formToArray(k.semantic,D);if(k.data){k.extraData=k.data;var p=a.param(k.data,E)}if(k.beforeSubmit&&!1===k.beforeSubmit(q,this,
k))return b("ajaxSubmit: submit aborted via beforeSubmit callback"),this;this.trigger("form-submit-validate",[q,this,k,A]);if(A.veto)return b("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;A=a.param(q,E);p&&(A=A?A+"&"+p:p);"GET"==k.type.toUpperCase()?(k.url+=(0<=k.url.indexOf("?")?"&":"?")+A,k.data=null):k.data=A;var w=[];k.resetForm&&w.push(function(){f.resetForm()});k.clearForm&&w.push(function(){f.clearForm(k.includeHidden)});if(!k.dataType&&k.target){var t=k.success||function(){};
w.push(function(b){var g=k.replaceTarget?"replaceWith":"html";a(k.target)[g](b).each(t,arguments)})}else k.success&&w.push(k.success);k.success=function(a,b,g){for(var d=k.context||this,c=0,l=w.length;c<l;c++)w[c].apply(d,[a,b,g||f,f])};if(k.error){var y=k.error;k.error=function(a,b,g){y.apply(k.context||this,[a,b,g,f])}}if(k.complete){var W=k.complete;k.complete=function(a,b){W.apply(k.context||this,[a,b,f])}}p=a("input[type=file]:enabled",this);p=p.filter(function(){return""!=this.value});p=0<p.length;
A="multipart/form-data"==f.attr("enctype")||"multipart/form-data"==f.attr("encoding");E=c&&d;b("fileAPI :"+E);var L;!1!==k.iframe&&(k.iframe||(p||A)&&!E)?k.closeKeepAlive?a.get(k.closeKeepAlive,function(){L=l(q)}):L=l(q):(p||A)&&E?((p=this.data("form-extra-data"))&&(a.isArray(p)?p.everyCustomFunc(function(){q.push(this)}):q.push(p)),L=g(q)):L=k.ajax_caller(k);f.removeData("jqxhr").data("jqxhr",L);for(p=0;p<D.length;p++)D[p]=null;this.trigger("form-submit-notify",[this,k]);return this};a.fn.ajaxForm=
function(d){d=d||{};d.delegation=d.delegation&&a.isFunction(a.fn.on);d.ajax_caller=d.ajax_caller||a.ajax_caller||a.ajax;if(!d.delegation&&0===this.length){var c=this.selector,g=this.context;if(!a.isReady&&c)return b("DOM not ready, queuing ajaxForm"),a(function(){a(c,g).ajaxForm(d)}),this;b("terminating; zero elements found by selector"+(a.isReady?"":" (DOM not ready)"));return this}return d.delegation?(a(document).off("submit.form-plugin",this.selector,e).off("click.form-plugin",this.selector,f).on("submit.form-plugin",
this.selector,d,e).on("click.form-plugin",this.selector,d,f),this):this.ajaxFormUnbind().bind("submit.form-plugin",d,e).bind("click.form-plugin",d,f)};a.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};a.fn.formToArray=function(b,d){var g=[];if(0===this.length)return g;var l=this[0],h=b?l.getElementsByTagName("*"):l.elements;if(!h)return g;var k,e,f;var m=0;for(f=h.length;m<f;m++){var q=h[m];if((k=q.name)&&!q.disabled)if(b&&l.clk&&"image"==q.type)l.clk==q&&
(g.push({name:k,value:a(q).val(),type:q.type}),g.push({name:k+".x",value:l.clk_x},{name:k+".y",value:l.clk_y}));else if((e=a.fieldValue(q,!0))&&e.constructor==Array){d&&d.push(q);var p=0;for(q=e.length;p<q;p++)g.push({name:k,value:e[p]})}else if(c&&"file"==q.type)if(d&&d.push(q),e=q.files,e.length)for(p=0;p<e.length;p++)g.push({name:k,value:e[p],type:q.type});else g.push({name:k,value:"",type:q.type});else null!==e&&"undefined"!=typeof e&&(d&&d.push(q),g.push({name:k,value:e,type:q.type,required:q.required}))}!b&&
l.clk&&(b=a(l.clk),d=b[0],(k=d.name)&&!d.disabled&&"image"==d.type&&(g.push({name:k,value:b.val()}),g.push({name:k+".x",value:l.clk_x},{name:k+".y",value:l.clk_y})));return g};a.fn.formSerialize=function(b){return a.param(this.formToArray(b))};a.fn.fieldSerialize=function(b){var d=[];this.each(function(){var g=this.name;if(g){var c=a.fieldValue(this,b);if(c&&c.constructor==Array)for(var h=0,k=c.length;h<k;h++)d.push({name:g,value:c[h]});else null!==c&&"undefined"!=typeof c&&d.push({name:this.name,
value:c})}});return a.param(d)};a.fn.fieldValue=function(b){for(var d=[],g=0,c=this.length;g<c;g++){var h=a.fieldValue(this[g],b);null===h||"undefined"==typeof h||h.constructor==Array&&!h.length||(h.constructor==Array?a.merge(d,h):d.push(h))}return d};a.fieldValue=function(b,d){var g=b.name,c=b.type,h=b.tagName.toLowerCase();void 0===d&&(d=!0);if(d&&(!g||b.disabled||"reset"==c||"button"==c||("checkbox"==c||"radio"==c)&&!b.checked||("submit"==c||"image"==c)&&b.form&&b.form.clk!=b||"select"==h&&-1==
b.selectedIndex))return null;if("select"==h){h=b.selectedIndex;if(0>h)return null;d=[];b=b.options;g=(c="select-one"==c)?h+1:b.length;for(h=c?h:0;h<g;h++){var e=b[h];if(e.selected){var k=e.value;k||(k=e.attributes&&e.attributes.value&&!e.attributes.value.specified?e.text:e.value);if(c)return k;d.push(k)}}return d}return a(b).val()};a.fn.clearForm=function(b){return this.each(function(){a("input,select,textarea",this).clearFields(b)})};a.fn.clearFields=a.fn.clearInputs=function(b){var d=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;
return this.each(function(){var g=a(this),c=this.type,h=this.tagName.toLowerCase();d.test(c)||"textarea"==h?this.value="":"checkbox"==c||"radio"==c?g.prop("checked",!1):"select"==h?this.selectedIndex=-1:"file"==c?/MSIE/.test(navigator.userAgent)?a(this).replaceWith(a(this).clone(!0)):a(this).val(""):b&&(!0===b&&/hidden/.test(c)||"string"==typeof b&&a(this).is(b))&&(this.value="")})};a.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&
!this.reset.nodeType)&&this.reset()})};a.fn.enable=function(a){void 0===a&&(a=!0);return this.each(function(){this.disabled=!a})};a.fn.selected=function(b){void 0===b&&(b=!0);return this.each(function(){var d=this.type;"checkbox"==d||"radio"==d?this.checked=b:"option"==this.tagName.toLowerCase()&&(d=a(this).parent("select"),b&&d[0]&&"select-one"==d[0].type&&d.find("option").selected(!1),this.selected=b)})};a.fn.ajaxSubmit.debug=!1})(jQuery);
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function e(d){var h=d||window.event,l=k.call(arguments,1),e,m=0,D=0,q=0,p=0,w=0;if(d=a.event.fix(h),d.type="mousewheel","detail"in h&&(D=-1*h.detail),"wheelDelta"in h&&(D=h.wheelDelta),"wheelDeltaY"in h&&(D=h.wheelDeltaY),"wheelDeltaX"in h&&(m=-1*h.wheelDeltaX),"axis"in h&&h.axis===h.HORIZONTAL_AXIS&&(m=-1*D,D=0),e=0===D?m:D,"deltaY"in h&&(D=-1*h.deltaY,e=D),"deltaX"in
h&&(m=h.deltaX,0===D&&(e=-1*m)),0!==D||0!==m){if(1===h.deltaMode){var t=a.data(this,"mousewheel-line-height");e*=t;D*=t;m*=t}else 2===h.deltaMode&&(t=a.data(this,"mousewheel-page-height"),e*=t,D*=t,m*=t);if(q=Math.max(Math.abs(D),Math.abs(m)),(!c||c>q)&&(c=q,g.settings.adjustOldDeltas&&"mousewheel"===h.type&&0===q%120&&(c/=40)),g.settings.adjustOldDeltas&&"mousewheel"===h.type&&0===q%120&&(e/=40,m/=40,D/=40),e=Math[1<=e?"floor":"ceil"](e/c),m=Math[1<=m?"floor":"ceil"](m/c),D=Math[1<=D?"floor":"ceil"](D/
c),g.settings.normalizeOffset&&this.getBoundingClientRect)h=this.getBoundingClientRect(),p=d.clientX-h.left,w=d.clientY-h.top;return d.deltaX=m,d.deltaY=D,d.deltaFactor=c,d.offsetX=p,d.offsetY=w,d.deltaMode=0,l.unshift(d,e,m,D),b&&clearTimeout(b),b=setTimeout(f,200),(a.event.dispatch||a.event.handle).apply(this,l)}}function f(){c=null}var b,c,d=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],
k=Array.prototype.slice;if(a.event.fixHooks)for(var m=d.length;m;)a.event.fixHooks[d[--m]]=a.event.mouseHooks;var g=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var b=h.length;b;)this.addEventListener(h[--b],e,!1);else this.onmousewheel=e;a.data(this,"mousewheel-line-height",g.getLineHeight(this));a.data(this,"mousewheel-page-height",g.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var b=h.length;b;)this.removeEventListener(h[--b],
e,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height");a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){b=a(b);var d=b["offsetParent"in a.fn?"offsetParent":"parent"]();return d.length||(d=a("body")),parseInt(d.css("fontSize"),10)||parseInt(b.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},
unmousewheel:function(a){return this.unbind("mousewheel",a)}})});
(function(){function a(a){var e=a.handler,b=(a.namespace||"").toLowerCase().split("."),c=[],d;$.each(b,function(){""!=this&&"autocomplete"!=this&&/^(key|alt|ctrl|meta|shift)_/.test(this)?c.push(/^key_/.test(this)?this.substring(4):this):d=d?d+("."+this):this});0!=c.length&&(a.namespace=d,a.handler=function(a){if(this===a.target||!/textarea|select/i.test(a.target.nodeName)&&"text"!==a.target.type&&"true"!=$(a.target).prop("contenteditable")){var b=$.hotkeys.specialKeys[a.which||a.keyCode],d=String.fromCharCode(a.which).toLowerCase(),
g="",h={};a.altKey&&"alt"!==b&&(g+="alt_");a.ctrlKey&&"ctrl"!==b&&(g+="ctrl_");a.metaKey&&!a.ctrlKey&&"meta"!==b&&(g+="meta_");a.shiftKey&&"shift"!==b&&(g+="shift_");b?h[g+b]=!0:(h[g+d]=!0,h[g+$.hotkeys.shiftNums[d]]=!0,"shift_"===g&&(h[$.hotkeys.shiftNums[d]]=!0));b=0;for(d=c.length;b<d;b++)if(h[c[b]])return e.apply(this,arguments)}})}$.hotkeys={version:"0.8+",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",
35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",188:",",190:".",191:"/",224:"meta"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?",
"\\":"|"}};$.each(["keydown","keyup","keypress"],function(){$.event.special[this]={add:a}})})();
var CHECKERS={validateByLength:function(a,e,f){var b=!0;if(a)a=a.trim();else return!0;switch(f){case "range":if(a<parseFloat(e[0],10)||a>parseFloat(e[1],10))b=!1;break;case "max":a>parseFloat(e[0],10)&&(b=!1);break;case "min":a<parseFloat(e[0],10)&&(b=!1);break;case "multipleOf":0!=a%parseInt(e[0],10)&&(b=!1);break;case "gt":a<=parseFloat(e[0],10)&&(b=!1);break;case "gte":a<parseFloat(e[0],10)&&(b=!1);break;case "lt":a>=parseFloat(e[0],10)&&(b=!1);break;case "lte":a>parseFloat(e[0],10)&&(b=!1);break;
case "rangelength":a=a.byteCount();if(a<parseFloat(e[0],10)||a>parseFloat(e[1],10))b=!1;break;case "maxlength":a.byteCount()>parseFloat(e[0],10)&&(b=!1);break;case "minlength":a.byteCount()<parseFloat(e[0],10)&&(b=!1);break;case "default":b=!1}return b},validateByCompare:function(a,e,f,b){var c=e,d=!0,h=function(a){var b=0;a=a.split("").reverse().join("");for(var d=a.length-1;0<=d;d--)b+=Math.pow(26,d)*(a.charCodeAt(d)-65+1);return b},k=function(a){for(var b="";0<a;){a--;var d=a%26;b=String.fromCharCode(d+
65)+b;a=(a-d)/26}return b};if("number"==f){if(16<a.length||16<e.length)return{msg_template:$.i18n.prop("num.of.digits.less.than.n",[16])};a=parseFloat(a,10);e=parseFloat(e,10)}else"date"===f?(a=Date.parse(a),e=Date.parse(e)):"alphabetic"==f&&(c=k(e),a=h(a));switch(b.split(" ")[0]){case "gt":if(a<=e){d=!1;var m="value.must.greater"}break;case "gte":a<e&&(d=!1,m="value.must.greater.equal");break;case "diff":f=b.split(" ")[1];b=a-e;f&&(parseInt(f),a<e&&(d=!1,m="value.must.greater.equal",c=a+b));break;
case "eq":a!=e&&(d=!1,m="value.must.equal");break;case "ne":a==e&&(d=!1,m="value.must.not.equal");break;case "lte":a>e&&(d=!1,m="value.must.less.equal");break;case "lt":a>=e&&(d=!1,m="value.must.less");break;case "mod":0!=a%e&&(d=!1,m="value.must.multiple.of");break;case "default":d=!1,m="unsupported.comparison.type"}return d||{msg_template:m,msg_params:[c]}},validateUrl:function(a){return/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)+)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},
detectWhitespace:function(a){return/^\S*$/i.test(a)}},VALIDATION_RULES={alphabetic:{check:function(a){return a?/^[a-zA-Z ]+$/.test(a):!0},msg_template:"enter.valid.alphabetic"},alphanumeric:{check:function(a){return a?/^[a-zA-Z0-9]+$/.test(a):!0},msg_template:"enter.valid.alphanumeric"},cardnumber:{check:function(a,e){a=$.trim(a);var f={visa:/^4[0-9]{12}(?:[0-9]{3})?$/,master:/^5[1-5][0-9]{14}$/,diners:/^3(?:0[0-5]|[68][0-9])[0-9]{11}$/,unionpay:/^(62|88)\d+$/,amex:/^3[47][0-9]{13}$/,custom:/^\d+$/};
e=e.filter("this != ''");0==e.length&&(e=["custom"]);for(var b=!1,c=0;c<e.length;c++)if(f[e[c].trim()].test(a)){b=!0;break}return b},msg_template:"incorrect.card.number"},commaSeparated4digit:{check:function(a){return a?/^[1-9]\d{0,3}(?:(?:,[1-9]\d{0,3})*)$/.test(a):!0},msg_template:"enter.comma.seperated.four.digit.numeric"},compare:{check:function(a,e){if(!a)return!0;a=CHECKERS.validateByCompare(a,$("#"+e[0].trim()).val(),e[1].trim(),e[2].trim());return!0!==a?{msg_template:a.msg_template,msg_params:a.msg_params}:
!0}},eq:{check:function(a,e){return(e=$("#"+e[0].trim()).val())&&!a?{msg_template:"field.required"}:a!=e?{msg_params:[e]}:!0},msg_template:"value.must.equal"},creditCardExpiryDate:{check:function(a,e){if(!a||!$("#"+e[0].trim()).val())return!0;var f=(new Date).getMonth()+1,b=(new Date).getFullYear().toString().substring(2,4);e=$("#"+e[0].trim()).val();return e<b||a<f&&e<=b?{msg_template:"card.expired"}:!0}},cardExpiryDate:{check:function(a,e){a&&a.contains("/")?a=a.substring(0,5):a&&(a=a.substring(0,
4));a=a.split("/").join("");0<a.length&&(a=a.match(/.{1,2}/g).join("/"),$("#"+e).val(a));a=a.split("/");e=(new Date).getMonth()+1;var f=(new Date).getFullYear().toString().substring(2,4),b=a[0];if(12<b||1>b)return{msg_template:"invalid.month"};a=a[1];return a<f||b<e&&a<=f?{msg_template:"card.expired"}:!0}},anyCreditCardNumber:{response:function(a,e,f){e=e.replace(/\D/g,"");e=e.replace(/(.{4})/g,"$1 ");e=e.trim();$("#"+f).val(e);return a},check:function(a,e){a=a.split(" ").join("");if(/[^0-9-]+/.test(a))return this.response(!1,
a,e);for(var f=0,b,c=!1,d=a.length-1;0<=d;d--)b=a.charAt(d),b=parseInt(b,10),c&&9<(b*=2)&&(b-=9),f+=b,c=!c;return 0==f%10?this.response(!0,a,e):this.response(!1,a,e)},msg_template:"enter.valid.creditcard"},creditcard:{check:function(a){if(/[^0-9-]+/.test(a))return!1;var e=0,f=!1;a=a.replace(/\D/g,"");for(var b=a.length-1;0<=b;b--){var c=a.charAt(b);c=parseInt(c,10);f&&9<(c*=2)&&(c-=9);e+=c;f=!f}return 0==e%10?!0:!1},msg_template:"enter.valid.creditcard"},cvv:{check:function(a){return a?2<a.length&&
5>a.length&&/^\d+$/.test(a):!0},msg_template:"cvv.invalid"},date:{check:function(a,e){if(!a)return!0;var f="yyyy-MM-dd";e&&(f=e);this.msg_params=[f];return!!Date.parseExact(a,f)},msg_template:"date.should.formatted"},digits:{check:function(a){return(a=$.trim(a))?16<a.length?(this.msg_template=$.i18n.prop("num.of.digits.less.than.n",[16]),!1):/^\d+$/.test(a):!0},msg_template:"only.digits.allowed"},either_required:{check:function(a,e){var f=$("#"+e[0]).val();if(a||f)return!0;this.msg_params=[e[1],e[2]];
return!1},msg_template:"either.required"},email:{check:function(a,e){return a?(new RegExp("^\\s*"+(e?'(((([^<>()[\\]\\\\.,;:\\s@"]+(\\.[^<>()[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,})))|([^<>,;]+\\s*<(([^<>()[\\]\\\\.,;:\\s@"]+(\\.[^<>()[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))>))':'(((([^<>()[\\]\\\\.,;:\\s@"]+(\\.[^<>()[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,})))|([^<>,;]+\\s*<(([^<>()[\\]\\\\.,;:\\s@"]+(\\.[^<>()[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))>))([,;]\\s*(((([^<>()[\\]\\\\.,;:\\s@"]+(\\.[^<>()[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,})))|([^<>,;]+\\s*<(([^<>()[\\]\\\\.,;:\\s@"]+(\\.[^<>()[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))>)))*;?')+
"\\s*$")).test(a):!0},msg_template:"enter.valid.email"},single_email:{check:function(a){return a?VALIDATION_RULES.email.check(a,!0):!0},msg_template:"enter.valid.email"},empty:{check:function(a){return $.trim(a)?!1:!0},msg_template:"field.must.empty"},eval:{check:function(a,e){try{return eval(e[0])}catch(f){return!1}},msg_template:"entry.invalid"},"drop-file-required":{check:function(a,e,f){if(a)return!0;var b=f.attr("name");a=f.closest("form").data("form-extra-data");if(!a)return!1;if(window.File){if(a.value instanceof
File&&a.name==b)return!0;if($.isArray(a)){var c;a.everyCustomFunc(function(){if(this.value instanceof window.File&&this.name==b)return c=this,!1});if(c)return!0}}return!1},msg_template:"no.file.selected"},"function":{check:function(a,e,f){try{return bm.prop(window,e[0]).call(f,a,VALIDATION_RULES["function"])}catch(b){return!1}},msg_template:"entry.invalid"},gt:{check:function(a,e){return!0!==CHECKERS.validateByLength(a,e,"gt")?{msg_params:e}:!0},msg_template:"value.must.greater"},gte:{check:function(a,
e){return!0!==CHECKERS.validateByLength(a,e,"gte")?{msg_params:e}:!0},msg_template:"value.must.greater.equal"},lt:{check:function(a,e){return!0!==CHECKERS.validateByLength(a,e,"lt")?{msg_params:e}:!0},msg_template:"value.must.less"},lte:{check:function(a,e){return!0!==CHECKERS.validateByLength(a,e,"lte")?{msg_params:e}:!0},msg_template:"value.must.less.equal"},hexColor:{check:function(a){if(a=$.trim(a))return/^#?[0-9a-fA-F]{6}$/.test(a)},msg_template:"invalid.hexadecimal.color"},hexDigit:{check:function(a){return(a=
$.trim(a))?/[0-9a-fA-F]$/.test(a):!0},msg_template:"invalid.hexadecimal.digit"},identifier:{check:function(a,e){return a?"multi"==e?/^[a-zA-Z_][a-zA-Z_0-9]*(\s+[a-zA-Z_][a-zA-Z_0-9]*)*$/.test(a):/^[a-zA-Z_][a-zA-Z_0-9]*$/.test(a):!0},msg_template:"only.alphanumeric.underscore.supported"},least_selection:{check:function(a,e,f){return!!f.find(":checked").length},msg_template:"least.option.must.select"},match:{check:function(a,e){return a&&!(new RegExp(e[0])).test(a)?{msg_template:"invalid.format.use.like",
msg_params:[e[1]]}:!0}},max:{check:function(a,e){return!0!==CHECKERS.validateByLength(a,e,"max")?{msg_params:e}:!0},msg_template:"value.must.less.equal"},maxlength:{check:function(a,e){return!0!==CHECKERS.validateByLength(a,e,"maxlength")?{msg_params:e}:!0},msg_template:"enter.no.more.characters"},maxprecision:{check:function(a,e){var f=1==e.length?void 0:e[0],b=1==e.length?e[0]:e[1];e=new RegExp("^(\\+|-)?\\d"+(f?"{0,"+f+"}":"*")+"(?:\\.\\d{0,"+b+"})?$");f?(this.msg_template="maximum.number.precision.allowed",
f=[f,b]):(this.msg_template="maximum.precision.allowed",f=[b]);return e.test(a)?!0:{msg_params:f}}},maxInteger:{check:function(a,e){var f=new RegExp("^(\\+|-)?\\d"+(e?"{0,"+e+"}":"*")+"?$");this.msg_template="maximum.integral.digits.allowed";e=[e];return f.test(a)?!0:{msg_params:e}}},price:{check:function(a){return VALIDATION_RULES.number.check.apply(this,[a,[]])?VALIDATION_RULES.maxprecision.check.apply(this,[a,[9,+app.maxPricePrecision]]):{msg_template:"enter.valid.price"}}},integer:{check:function(a){return VALIDATION_RULES.maxInteger.check.apply(this,
[a,9])}},min:{check:function(a,e){return!0!==CHECKERS.validateByLength(a,e,"min")?{msg_params:e}:!0},msg_template:"value.must.greater.equal"},minlength:{check:function(a,e){return!0!==CHECKERS.validateByLength(a,e,"minlength")?{msg_params:e}:!0},msg_template:"enter.least.characters"},multipleOf:{check:function(a,e){return!0!==CHECKERS.validateByLength(a,e,"multipleOf")?{msg_params:e}:!0},msg_template:"value.must.multiple.of"},number:{check:function(a){return(a=$.trim(a))?/^(\+|-)?\d*(?:\.\d+)?$/.test(a):
!0},msg_template:"enter.valid.number"},percent_number:{check:function(a){a=$.trim(a);return"%"==a?!1:a?/^(\+|-)?\d*(?:\.\d+)?%?$/.test(a):!0},msg_template:"enter.valid.number"},partial_url:{check:function(a){return(a=$.trim(a))?/^(((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)+)(:\d*)?))?(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a):
!0},msg_template:"enter.valid.url"},phone:{check:function(a){return(a=$.trim(a))?/^\+?[0-9\(\)\-\.\s]+$/.test(a):!0},msg_template:"phone.invalid"},postCode:{check:function(a){a=$.trim(a);return 10<a.length?!1:a?/^\+?[0-9\-A-z\s]+$/.test(a):!0},msg_template:"post.code.invalid"},range:{check:function(a,e){return!0!==CHECKERS.validateByLength(a,e,"range")?{msg_params:e}:!0},msg_template:"value.must.between"},rangelength:{check:function(a,e){return!0!==CHECKERS.validateByLength(a,e,"rangelength")?{msg_params:e}:
!0},msg_template:"value.must.length.between"},required:{check:function(a,e){return $.trim(a)?!0:!1},msg_template:"field.required"},password:{check:function(a,e){return a?/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_+=[\]{}|\\:',./<>?])[A-Za-z\d!@#$%^&*()_+=[\]{}|\\:',./<>?]{8,}$/.test(a):!0},msg_template:"password.strength.msg"},restricted_chars:{check:function(a,e){var f=0;return a&&($.each(e,function(){f=a.indexOf(this);if(-1<f)return!1}),-1<f)?{msg_params:[e.join(",")]}:!0},msg_template:"characters.not.supported"},
url:{check:function(a){return(a=$.trim(a))&&"#"===a?!0:a?/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)+)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a):
!0},msg_template:"enter.valid.url"},site_base_url:{check:function(a){if(a&&"#"===a)return!0;if(a){if(!CHECKERS.detectWhitespace(a))return{msg_template:"please.remove.whitespace.from.url"};if(!CHECKERS.validateUrl(a))return{msg_template:"enter.valid.url"}}return!0}},user_name:{check:function(a){return a?null!=a.match(/^[A-Za-z][A-Za-z0-9_]{5,29}$/):!0},msg_template:"enter.valid.user.name"},alias_name:{check:function(a){return a?/[a-zA-Z0-9][a-zA-Z0-9-]{1,61}[a-zA-Z0-9](?:\.[a-zA-Z]{2,})+/.test(a):
!0},msg_template:"enter.valid.domain.name"},domain_name:{check:function(a){return a?null!=a.match(/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])$/):!0},msg_template:"enter.valid.domain.name"},url_folder:{check:function(a){return a?/^(([a-z]|\d|-|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+$/i.test(a):!0},msg_template:"enter.valid.url.path"},file_name_temp:{check:function(a){return a?/^(([a-z]|\d|-|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+$/i.test(a):
!0},msg_template:"enter.valid.file.name"},non_symbolic:{check:function(a){return a?/^( *[a-zA-Z0-9\-_]+)+$/.test(a):!0},msg_template:"enter.valid.non.symbolic"},alphanumeric_and_underscore:{check:function(a){return a?/^[a-zA-Z0-9+_]*$/.test(a):!0},msg_template:"enter.valid.format"},skip:{},skip_next:{},check:{},check_next:{},fail:{}},ValidationRule=function(){function a(a,f){for(var b=!0,c=f;b;){c=a.indexOf("]",c);if(-1==c)throw Error("No Param Terminator ']'");(b="]"==a.charAt(c+1))&&(c+=2)}return a.substring(f,
c)}return{addRule:function(a,f){VALIDATION_RULES[a]=f},getRule:function(a){return VALIDATION_RULES[a]},createRules:function(e,f){f=f||0;var b=e.length;if(f>=b)return[];var c=e.indexOf(" ",f);-1==c&&(c=b);var d=e.indexOf("[",f);-1==d&&(d=b);var h=e.indexOf("@",f);-1==h&&(h=b);var k=e.indexOf("}",f);-1==k&&(k=b);var m=e.indexOf("{",f);-1==m&&(m=b);c=e.substring(f,Math.min(d,h,c,k,m));if(""==c)return ValidationRule.createRules(e,f+1);var g=VALIDATION_RULES[c];if(null==g)throw Error("Invalid Rule Format/Name");
var l=[];g={rule:g};l.push(g);var B=f+c.length;f=function(){for(;"@"==e.charAt(h);){a:{var a=e,b=h+1;var d={condition:{}};var c=a.charAt(b);if("i"==c)d.condition.type="if",b+=3;else if("v"==c){d.condition.type="if";d.parsedIndex=b+6;d.condition.check_type="self";d.condition.selector=":visible";break a}else if("h"==c){d.condition.type="if";d.parsedIndex=b+5;d.condition.check_type="self";d.condition.selector=":hidden";break a}else d.condition.type="not",b+=4;if("g"==a.charAt(b)){b+=7;c=a.indexOf("}",
b);if(-1==c)throw Error("Invalid Rule Format/Name");d.condition.check_type="global";d.condition.selector=a.substring(b,c)}else if("t"==a.charAt(b)){b+=5;c=a.indexOf("}",b);if(-1==c)throw Error("Invalid Rule Format/Name");d.condition.check_type="this";d.condition.selector=a.substring(b,c)}else if("s"==a.charAt(b)){b+=5;c=a.indexOf("}",b);if(-1==c)throw Error("Invalid Rule Format/Name");d.condition.check_type="self";d.condition.selector=a.substring(b,c)}else{d.condition.check_type="rule";b+=5;c=a.indexOf("}",
b+1);for(var l=a.indexOf("{",b+1);-1!=c&&-1!=l&&l<c;)c=a.indexOf("}",c+1),l=a.indexOf("{",l+1);if(-1==c)throw Error("Invalid Rule Format/Name");a=a.substring(b,c);d.condition.rules=ValidationRule.createRules(a)}d.parsedIndex=c}g.condition?$.isArray(g.condition)?g.condition.push(d.condition):g.condition=[g.condition,d.condition]:g.condition=d.condition;h=d.parsedIndex+1}B=h};B==d&&d!=b?(m=a(e,d+1),B+=m.length+2,g.param=m.replace(/\]\]/g,"]").exSplit(),h==B&&d!=b&&f()):h==B&&m!=b&&f();B!=b&&" "==e.charAt(B)&&
(b=ValidationRule.createRules(e,B+1),$.each(b,function(){l.push(this)}));return l}}}();
(function(){function a(b,c){for(var d=c.length,h=null,g=0;g<d;g++){var l=c[g];if("undefined"!=typeof l.error)return l.error;var e=!0;if(l.condition)for(var f=$.isArray(l.condition)?l.condition:[l.condition],A=f.length-1;-1<A;A--){var E=!0,D=f[A];switch(D.check_type){case "global":0==$(D.selector).length&&(E=!1);break;case "self":":blank"==D.selector?(E=b.val(),E=""==$.trim(E)):E=b.is(D.selector);break;case "this":E=0!=b.find(D.selector).length;break;case "rule":E=null==a(b,D.rules)}if("if"==D.type&&
!E||"not"==D.type&&E){e=!1;break}}f=l.rule;if(f==VALIDATION_RULES.skip)if(e)break;else continue;if(f==VALIDATION_RULES.skip_next)e&&g++;else{if(f==VALIDATION_RULES.check)if(e)continue;else break;if(f==VALIDATION_RULES.check_next)e||g++;else if(f==VALIDATION_RULES.fail){if(e)return(c=b.attr("message_params_"+g)||b.attr("message_params"))&&(c=c.split(" ")),{msg_template:b.attr("message_template_"+g)||b.attr("message_template")||"entry.invalid",msg_params:c||[],rule:f}}else if(e&&(e=l.param,e=f.check(b.val(),
e,b),!0!==e&&(h=b.attr("message_template_"+g)||b.attr("message_template"),"field.required"==l.rule.msg_template&&b.attr("required-validation-message")&&(h=b.attr("required-validation-message")),h||(h=e.msg_template||f.msg_template),h||(h=""),(l=(l=b.attr("message_params_"+g)||b.attr("message_params"))?l.exSplit(" "):e.msg_params||f.msg_params)||(l=[]),h={msg_template:h,msg_params:l,rule:f})),null!=h)break}}return h}var e={validate_on:{text:["blur"],password:["blur"],select:["change"],radio:["change"],
file:["change"],checkbox:["change"],container:["change"]},validate_on_call_only:!1,clear_on_focus:!0,show_error:!0,attribute_name:"validation",error_class:"validation-error",re_init_on_valid:!1,error_position:"after",error_parent_ref_class:void 0,show_error_close:!0,error_template:"<div class='errorlist'><span class='pointer'></span><span class='close-btn'></span><div class='message-block message-text'></div></div>",displayError:void 0},f=0,b=function(a,b){this.fields=[];this.elm=a;this.instance_count=
f++;var d=a.config("validation");$.extend(!0,this,e,d,b);this.attribute_name=d.attr||this.attribute_name;this.attach(a.find("["+this.attribute_name+"]"))};window.ValidationPanel=b;b.prototype={attach:function(a,b){var d=this;a.each(function(){var a=$(this);a.on("jqclean",function(){d.detach(a)});var g=new c(a,d,b);a.data("validator-filed-inst",g);d.fields.push(g)})},isValid:function(){$.each(this.fields,function(){this.validate()});var a=!0;$.each(this.fields,function(){if(!this.valid)return a=!1});
return a},detach:function(a){a.length&&(a=a[0]);var b=-1;$.each(this.fields,function(d){if(this.elm[0]==a)return b=d,this.destroy(),!1});-1<b&&this.fields.splice(b,1)},getValidatorRules:function(a){a.length&&(a=a[0]);var b;$.each(this.fields,function(){if(this.elm[0]==a)return b=this.validatorRules,!1});return b},addValidatorRule:function(a,b,c){a.length&&(a=a[0]);var d=!1;$.each(this.fields,function(){if(this.elm[0]==a){var g="string"==typeof b?ValidationRule.createRules(b):[{rule:{check:b,msg_template:c}}];
var h=this;$.each(g,function(){h.validatorRules.push(this)});d=!0;return!1}});d||this.attach($(a),this)},destroy:function(){$.each(this.fields,function(){this.destroy()});this.fields=[]},reInit:function(){this.destroy();this.attach(this.elm.find("["+this.attribute_name+"]"),this)},position:function(){this.fields.each(function(){this.valid||this.showError(this.error)})},state:function(){return this.fields.collect("valid").all()}};var c=function(a,b,c){this.elm=a;var d=a.config("validation");this.options=
$.extend(!0,{},bm.omit(b,["fields","elm","instance_count"],!0),d,c);this.instance_count=f++;this.valid=!0;this.options.displayError&&(this.showError=this.options.displayError);this.options.error_position=a.attr("error-position")||(b.elm?b.elm.attr("error-position"):void 0)||this.options.error_position;this.options.validate_on_call_only=a.attr("validate-on")?"call-only"==a.attr("validate-on"):"call-only"==this.options.validate_on||this.options.validate_on_call_only;if(this.options.attribute_name)if(a=
a.attr(this.options.attribute_name),""==$.trim(a))this.validatorRules=[];else try{this.validatorRules=ValidationRule.createRules(a)}catch(g){this.validatorRules=[{error:"invalid.rule.format.name"}];return}else this.validatorRules=[];this.options.detached||this.initEvents()};window.ValidationField={createDetachedField:function(a,b){b=$.extend({detached:!0},b);return new c(a,$.extend(!0,{},e,b))},validateAs:function(b,c){try{return a(b,ValidationRule.createRules(c))}catch(k){return{msg_template:$.i18n.prop("unable.validate"),
msg_params:[],rule:void 0}}}};c.prototype={initEvents:function(){var a=this.elm,b=".validator_"+this.instance_count;a.off(b);var c=this;a.on("validate"+b,function(){c.validate()});if(!this.options.validate_on_call_only){var e=function(a,b){var d=a.is("select")?"select":a.is("textarea")?"text":a.is("[type='file']")?"file":a.is("[type='text']")?"text":a.is("[type='password']")?"password":a.is("[type='radio']")?"radio":a.is("[type='checkbox']")?"checkbox":"container";var g=a.attr("validate-on");g=g?
g.split(","):c.options.validate_on[d];$.isArray(g)||(g=[g]);$.each(g,function(){switch(""+this){case "immediate":a.on("ichange"+b,function(){c.validate()});break;default:a.on(this+b,function(){c.validate()})}})};e(a,b);var g=this.elm.attr("depends");g&&(g=$(g),g.length&&(b=a.attr("id"),b||(b=bm.getUUID(),a.attr("id",b)),b=".validator_"+this.instance_count+"_"+b,a.off(b),e(g,b)))}this.options.clear_on_focus&&a.bind("focus"+b,function(){c.clear()})},validate:function(){function b(a){c.valid=!1;c.error=
a;a.validator=c;!1!==c.elm.trigger("invalid",a)&&c.options.show_error&&c.showError(a)}var c=this,e=c.elm,f=c.validatorRules;if(!f)return!0;c.clear();try{var g=a(e,f);null!=g?b(g):(c.valid=!0,c.elm.trigger("valid"))}catch(l){b({msg_template:l.message,msg_params:[],rule:void 0})}return c.valid},clear:function(){if(this.errorBlock){var a=this.elm.removeClass(this.options.error_class).attr("error-on");a?(a=$("#"+a),a.removeClass(this.options.error_class)):a=this.elm;if("inline"==this.options.error_position){var b=
a;a.find(".inline-error-target").length&&(b=a.find(".inline-error-target"));if("password"==b.attr("type")){if(b=a[0].inlineErrorProxy)b.remove(),delete a[0].inlineErrorProxy;a.css("visibility","visible")}else a=b.attr("value-cache"),b.val(a),b.removeAttr("value-cache")}this.errorBlock.siblings(".message-block").length?this.errorBlock.remove():(this.errorBlock.closest(".errorlist").remove(),this.elm.removeClass("error-field-error"));this.errorBlock=null;this.elm.trigger("clear-error")}},destroy:function(){this.clear();
this.elm.off(".validator_"+this.instance_count)},showError:function(a){this.errorBlock&&this.clear();var b="function"==typeof this.options.error_template?this.options.error_template.call(this,a):$(this.options.error_template);this.elm.addClass("error-field-error");var d=this.elm.addClass(this.options.error_class).attr("error-on");d?(d=$("#"+d),d.addClass(this.options.error_class)):d=this.elm;var c=b.find(".message-block"),g=c.is(".message-text")?c:c.find(".message-text");g.append($.i18n.prop(a.msg_template,
a.msg_params));b.addClass(this.options.error_position);d.closest(".form-row").find(".errorlist").remove();switch(this.options.error_position){case "inline":d.find(".inline-error-target").length&&(d=d.find(".inline-error-target"));if("password"==d.attr("type")){var l=d.clone();l.attr("type","text");d.after(l);l.val(g.text()).addClass("inline-error");l.focus(function(){l.remove();d.css("visibility","visible")[0].focus();delete d[0].inlineErrorProxy}).css({position:"absolute"}).offset(d.offset());d.css("visibility",
"hidden");d[0].inlineErrorProxy=l}else a=d.val(),d.val(g.text()).addClass("inline-error"),d.attr("value-cache",a);break;case "after":g=d.next(".errorlist");g.length&&g.remove();d.after(b);break;case "before":g=d.prev(".errorlist");g.length?g.find(".message-block:last").after(c):d.before(b);break;case "parent-after":a=this.options.error_parent_ref_class?d.closest("."+this.options.error_parent_ref_class):d.parent();g=a.next(".errorlist");g.length?g.find(".message-block:last").after(c):a.after(b);break;
case "parent-before":a=this.options.error_parent_ref_class?d.closest("."+this.options.error_parent_ref_class):d.parent();g=a.prev(".errorlist");g.length?g.find(".message-block:last").after(c):a.before(b);break;case "none":break;default:switch(b.addClass("positioned-error"),a=this.options.error_position.substring(11),g=d.next(".errorlist"),g.length?g.find(".message-block:last").after(c):(d.after(b),g=b),a){case "up":g.position({my:"left bottom",at:"left+50 top-"+g.bottomRib(!0,!1,!1),of:d,collision:"none"});
break;case "below":g.position({my:"left top",at:"left+50 bottom+"+g.topRib(!0,!1,!1),of:d,collision:"none"});break;case "right":g.position({my:"left top",at:"right+"+g.leftRib(!0,!1,!1)+" top-"+.33*g.outerHeight(),of:d,collision:"none"});break;case "left":g.position({my:"right top",at:"left-"+g.leftRib(!0,!1,!1)+" top-"+.33*g.outerHeight(),of:d,collision:"none"})}}this.errorBlock=c;this.options.show_error_close?b.find(".close-btn").click(function(){b.hide()}):b.find(".close-btn").remove()},isValid:function(){this.validate();
return this.valid}};$.extend($.fn,{attachValidator:function(a){return this.each(function(){var d=$(this),c=new b(d,a||{});d.data("validator-inst",c)})},valid:function(a){var b=!0;this.each(function(){var d=$(this),c=d.data("validator-inst")||d.data("validator-filed-inst");if(c){if("string"==typeof a)return c[a]();c.re_init_on_valid&&c.reInit()}else d.attachValidator(a||{}),c=d.data("validator-inst");d=c.isValid();b=b&&d});return b},clearValidator:function(){this.each(function(){var a=$(this),b=a.data("validator-inst");
b&&(b.destroy(),a.removeData("validator-inst"))})},updateValidator:function(a){this.clearValidator();return this.attachValidator(a||{})},clearValidationMessage:function(a){this.find(".errorlist").remove();this.find(".validation-error").removeClass("validation-error").removeClass("error-field-error")}});window.validation={setDefaults:function(a){$.extend(e,a,{validate_on:$.extend({},e.validate_on,a.validate_on)})}}})();
var POPUP_STATICS={z_index:{active:8E3,modal_base:3E3,no_modal:1E3,always_up:79990},active_stack:[],next_instance_identifier:1,modal_mask:void 0,minimized_placeholder:void 0},_popup_defaults={clazz:"",minimized_clazz:"",animation_clazz:"",closing_animation_clazz:"",closing_animation_duration:300,show_title:!0,title:null,minimized_title:null,draggable:!1,drag_handle:".title-bar",drag_cancel:":input",disable_text_selection:!1,resizable:!1,maximizable:!1,minimizable:!1,modal:!0,show_close:!0,masking:!0,
close_on_mask_click:!1,close_on_blur:!1,close_on_escape:!0,auto_close:!1,reset_close_timer_on_hover:!0,width:"auto",max_width:null,height:"auto",top:null,left:null,ui_position:null,is_fixed:!1,is_center:!0,is_always_up:!1,always_up_z_index:void 0,auto_active:!0,auto_active_on_focus:!0,ajax_url:void 0,ajax_caller:bm.ajax,ajax_settings:{},on_load_loader:!0,content:"",act_as_body:!1,content_clazz:"",template:'<div>        <div class="title-bar fee-identical-sewc-elm fee-popup__header">            <span class="title fee-identical-sewc-elm fee-popup__title title"></span>            <span class="window-corner-toolbar fee-identical-sewc-elm fee-popup__close">                <span class="minimize fee-identical-sewc-elm"></span>                <span class="maximize fee-identical-sewc-elm"></span>                <span class="close fee-identical-sewc-elm"></span>            </span>        </div>        <div class="content fee-identical-sewc-elm fee-popup__body"></div>    </div>',
minimized_content:"",minimized_template:'<div class="fee-identical-sewc-elm">        <span class="title fee-identical-sewc-elm"></span>        <span class="content fee-identical-sewc-elm"></span>    </div>',parent:void 0,events:{beforeClose:void 0,close:void 0,beforeMinimize:void 0,minimize:void 0,beforeRestore:void 0,restore:void 0,maximize:void 0,beforeMaximize:void 0,render:void 0,beforeRender:void 0,beforeInactive:void 0,inactive:void 0,beforeActive:void 0,active:void 0,content_loaded:void 0}},
POPUP=function(a){$.extend(this,_popup_defaults,a);this.instance_identifier=POPUP_STATICS.next_instance_identifier++;this.z_index=this.is_always_up?this.always_up_z_index||POPUP_STATICS.z_index.always_up:this.modal?POPUP_STATICS.z_index.modal_base+=10:POPUP_STATICS.z_index.no_modal;this.is_active=this.is_rendered=!1;this.event_handlers=$({});this.parent&&this.parent.addChild(this);this.createPopup();this.render();this.auto_active&&this.setActive()},_p=POPUP.prototype;
_p.addChild=function(a){this.childs||(this.childs=[]);this.childs.push(a);var e=this;a.on("close",function(){var a=e.childs.indexOf(this);e.childs.splice(a,1)})};_p.one=function(a,e){this.event_handlers.one(a,$.proxy(e,this.el))};_p.on=function(a,e){this.event_handlers.on(a,$.proxy(e,this.el))};_p.off=function(a){this.event_handlers.off(a)};
_p.trigger=function(a,e){e||(e=[this]);var f;this.events[a]&&(f=this.events[a].apply(this.el,e));!1!==f&&(f=this.event_handlers.trigger(a,e));return!1!==f?this.el.trigger("wcui-popup-"+a,e):!1};_p.render=function(){this.trigger("beforeRender");this.setMask();this.setContent();this.bindEvents();this.trigger("render");this.is_rendered=!0};
_p.createPopup=function(){this.el||(this.el=$(this.template));this.content_clazz&&this.el.find(">.content").addClass(this.content_clazz);this.el.css({position:this.is_fixed?"fixed":"absolute",left:this.left||-1E4,top:this.top||-1E4,width:this.width,maxWidth:this.max_width,height:this.height,zIndex:this.z_index}).appendTo(this.parent?this.parent.el:document.body);this.el.addClass(this.clazz+" popup "+this.animation_clazz);this.show_title||(this.show_close||this.maximizable||this.minimizable?this.el.find(".title-bar").removeClass("title-bar").addClass("no-title-bar"):
this.el.find(".title-bar").remove());this.show_close||this.el.find("span.close").remove();this.maximizable||this.el.find("span.maximize").remove();this.minimizable||this.el.find("span.minimize").remove();this.show_title&&this.title&&this.el.find(".title").html(this.title);this.el.attr("id","popup-"+this.instance_identifier);this.el.attr("tabindex","-1")};
_p.setMask=function(){if(this.modal){POPUP_STATICS.modal_mask&&POPUP_STATICS.modal_mask.remove();POPUP_STATICS.modal_mask=$("<div></div>").appendTo(document.body);var a=["popup-mask"];this.clazz.split(" ").everyCustomFunc(function(){$.trim(this)&&a.push(this+"-mask")});POPUP_STATICS.modal_mask.attr("class",a.join(" ")).css({zIndex:this.z_index-5}).show()}};_p.hideMask=function(){this.modal&&1<=POPUP_STATICS.active_stack.count("this.modal && !this.is_hidden")&&POPUP_STATICS.modal_mask.hide()};
_p.setContent=function(a){var e=this,f=this.el.find(".content:first");f.length||(f=this.el);if(a||!this.ajax_url)(a=a||this.content)&&f.html(a),this.position(),e.trigger("content_loaded");else{this.el.addClass("ajax-loading");this.on_load_loader&&f.html('<span class="loader"></span>');if(!this.is_rendered){var b=this.width;"auto"==b&&(b=300);var c=this.height;"auto"==c&&(c=300);this.position(void 0,b,c)}this.ajax_caller($.extend({url:this.ajax_url,dataType:"html",response:function(){e.el.removeClass("ajax-loading")},
success:function(a){f.html(a);e.trigger("ajax_loaded");"auto"==e.width&&e.el.width("auto");"auto"==e.height&&e.el.height("auto");e.position();e.trigger("content_loaded")},error:function(b,c,k){e.el.addClass("http-"+b.status+"-error");a=$("<div class='ajax-loading-error'></div>").append(k);f.html(a);e.trigger("content_loading_error")}},this.ajax_settings))}};
_p.position=function(a,e,f){var b=-2E3>this.el.offset().left?"css":"animate";if(a)this.el[b](a);else if(!this.ui_position||this.ui_position.auto||this.left||this.top)if(this.is_center){var c=$(window).height(),d=$(window).width();a=f||this.el.outerHeight();var h=e||this.el.outerWidth();d=this.left||d/2-h/2;c=this.top||c/2-a/2;if(!this.is_fixed){var k=$(window).scrollTop(),m=$(window).scrollLeft();d+=m;c+=k}d={left:Math.max(20,d),top:Math.max(20,c)};this.adjust_popup_height_width_content&&(d.width=
h?h:this.width,d.height=a?a:this.height);e&&(d.width=e);f&&(d.height=f);this.el[b](d)}else this.el[b]({left:this.left||100,top:this.top||100,width:e||this.width,height:f||this.height});else{d=this.ui_position;if(!d.using&&"animate"==b){var g=this;d=$.extend({},d,{using:function(a){g.el.animate(a)}})}this.el.position(d)}};
_p.setActive=function(){if(!this.is_active){var a=this;if(0<POPUP_STATICS.active_stack.length){var e=!0;this.masking&&(e=POPUP_STATICS.active_stack[POPUP_STATICS.active_stack.length-1].setInactive());if(!1===e)return}this.trigger("beforeActive");this.el.find(".inactive-mask").hide();a.el.removeClass("inactive");setTimeout(function(){a.el.addClass("active")},200);this.el.css({zIndex:Math.max(this.z_index,POPUP_STATICS.z_index.active)});e=POPUP_STATICS.active_stack.find(this.instance_identifier+" == this.instance_identifier");
-1<e&&POPUP_STATICS.active_stack.splice(e,1);POPUP_STATICS.active_stack.push(this);this.trigger("active");this.is_active=!0;for(e=this;!e.modal&&e.parent;)e=e.parent;e.modal&&e.setMask();this.el.focus()}};
_p.setInactive=function(){if(!this.act_as_body&&this.is_active){if(!1===this.trigger("beforeInactive"))return!1;var a=this;this.el.removeClass("active").addClass("inactive");this.el.css({zIndex:this.z_index});var e=this.el.find(".inactive-mask");e.length||(e=$("<div class='inactive-mask'></div>").appendTo(this.el),e.on("mousedown",function(){a.setActive()}));e.show();this.trigger("inactive");this.is_active=!1;this.hideMask()}};
_p.bindEvents=function(){var a=this;this.el.find(".close").click(function(){a.close(1)});!0===this.close_on_mask_click&&POPUP_STATICS.modal_mask&&POPUP_STATICS.modal_mask.bind("click.popup-mask-click-"+this.instance_identifier).click(function(){a.is_active&&a.close(1)});!0===this.close_on_blur&&$(document).bind("mousedown.popup-out-click-"+this.instance_identifier,function(b){var d=a.el;d.is(b.target)||0!==d.has(b.target).length||a.is_active&&a.close(1)});this.close_on_escape&&$(document).bind("keyup.key_esc.popup-escape-"+
this.instance_identifier,function(){a.is_active&&a.close(1)});this.auto_close&&(this.resetCloseTimer(),this.reset_close_timer_on_hover&&this.el.hover(function(){a.clearCloseTimer()},function(){a.resetCloseTimer()}));this.auto_active_on_focus&&this.el.bind("focus",function(){a.setActive()});if(this.draggable){a=this;var e="*"==this.drag_handle?this.el:this.el.find(this.drag_handle),f=this.el.offset(),b=e.offset(),c=b.top-f.top,d=b.left-f.left;this.el.draggable({handle:"*"==this.drag_handle?void 0:
e,cancel:this.drag_cancel,disable_text_selection:this.disable_text_selection,stop:function(){var b=e.offset(),f=!1;b.left<-1*e.outerWidth()+50&&(b.left=5,f=!0);b.top<-1*e.outerHeight()+50&&(b.top=5,f=!0);f&&a.el.offset({left:b.left-d,top:b.top-c})},start:function(){a.animation_clazz&&a.el.removeClass(a.animation_clazz)}})}};_p.clearCloseTimer=function(){this.auto_close_timer&&(clearTimeout(this.auto_close_timer),this.auto_close_timer=null)};
_p.resetCloseTimer=function(){this.clearCloseTimer();var a=this;this.auto_close_timer=setTimeout(function(){a.auto_close_timer=null;a.close(0)},this.auto_close)};
_p.unbindEvents=function(){!0===this.close_on_mask_click&&POPUP_STATICS.modal_mask&&POPUP_STATICS.modal_mask.unbind("click.popup-mask-click-"+this.instance_identifier);!0===this.close_on_blur&&$(document).unbind("mousedown.popup-out-click-"+this.instance_identifier);this.close_on_escape&&$(document).unbind("keyup.key_esc.popup-escape-"+this.instance_identifier);this.clearCloseTimer()};
(function(){function a(){if(this.is_active&&POPUP_STATICS.active_stack.length)for(var a;;)if(a=POPUP_STATICS.active_stack[POPUP_STATICS.active_stack.length-1])if(a.is_closed||a.is_hidden)POPUP_STATICS.active_stack.pop();else{a.setActive();break}else break}_p.close=function(e){var f=this;if(!1!==this.trigger("beforeClose",[e])){this.unbindEvents();this.closing_animation_clazz?(this.el.removeClass("active").removeClass(this.animation_clazz).addClass(this.closing_animation_clazz),setTimeout(function(){f.el.remove()},
this.closing_animation_duration)):this.el.remove();this.hideMask();this.is_active&&POPUP_STATICS.active_stack.pop();this.is_closed=!0;a.call(this);var b=$("#webcommander-page").find(".popup:not(.notification, .floating-panel-popup)").length;!f.not_enable_body_scroll&&1>=b&&bm.enableBackgroundScroll();this.trigger("close",[e])}};_p.hide=function(){this.el.hide();this.hideMask();this.is_hidden=!0}})();_p.show=function(){this.el.show();this.setActive();this.is_hidden=!1};_p.getDom=function(){return this.el};
$.prototype.popup=function(a){var e=this.data("popup-inst");if("string"==typeof a&&e)return $.isFunction(e[a])?e[a](Array.prototype.splice.call(arguments,1)):e[a];e||(e=new POPUP($.extend({},a,{el:this})),this.data("popup-inst",e));return this};
(function(){function a(a){var b=this,d=this.data("form-inst");d.submitButton||(d.submitButton=this.find("[type='submit'], .submit-button"),1<d.submitButton.length&&this.attr("class").split(" ").everyCustomFunc(function(){var a=d.submitButton.filter("."+this+"-submit");if(a.length)return d.submitButton=a,!1}));d.disable_on_invalid=this.attr("disable-on-invalid")?"true"==this.attr("disable-on-invalid"):(a.hasOwnProperty("disable_on_invalid"),d.disable_on_invalid);$.each(c,function(){this.call(b,a)})}
var e={preSubmit:void 0,disable_on_submit:!0,disable_on_invalid:!0,text_change_on_submit:!0},f="very.weak weak better medium strong strongest".split(" "),b="very-weak weak better medium strong strongest".split(" "),c=$.form_care_functions={checkbox:function(){this.find("input:checkbox[name][uncheck-value]").pairuncheck()},auto_toggle:function(){bm.autoToggle&&bm.autoToggle(this)},textarea:function(){$.form_no_textarea_autosize||this.find("textarea:not('.no-auto-size')").autosize()},events:function(a){var b=
this,c=a.elm;b.is(c)&&this.bind("submit",function(){return browser.ie&&8==browser.version&&b.data("ie8-prevent-submit")?(b.removeData("ie8-prevent-submit"),!1):d.submit.call(a)});c.is("form")||(b.find("input, textarea").bind("keydown.key_return",function(){c.triggerHandler("submit");if(browser.ie&&8==browser.version){var a=c.closest("form");a.length&&a.data("ie8-prevent-submit",!0)}else return!1}),b.is(c)&&(a.submitButton.click(function(){b.triggerHandler("submit")}),b.find(".reset-button").click(function(){b.triggerHandler("reset")})))},
validation:function(a){var b=a.validation_config||{},d=this.attr("error-position");d?b.error_position=d:window.app&&app.is_front_end&&(d=this.attr("validation-config-key"))&&(d=app.config["validation_"+d+"_error_position"])&&(b.error_position=d);this.is(a.elm)?this.attachValidator(b):a.elm.obj(ValidationPanel).attach(this.find("[validation]"),b)},restrict:function(){this.find(":text[restrict], :password[restrict]").each(function(){var a=$(this);a[a.attr("restrict")]()})},unique:function(){var a=this,
b=this.attr("action")||this.attr("unique-action");if(b){var d=b.lastIndexOf("/");b=b.substring(0,d)+"/";var c=this.find("input[name=id]").length,l=0;this.find(".unique").each(function(){var d=$(this);bm.unique({url:b+(d.attr("unique-action")||"isUnique"),restoreUrl:b+(d.attr("unique-restore")||"restoreFromTrash"),editMode:c,elm:d,form:a,uniqueFieldCount:l+=1,fieldError:!1,inTrash:!1})})}},focus_on_row:function(){this.find(".form-row > input").focus(function(){$(this).parent().addClass("active-row")}).blur(function(){$(this).parent().removeClass("active-row")})},
disable_on_invalid:function(a){if(a.disable_on_invalid){var b=!1;this.find("[validation]").each(function(){var c=bm.getUUID();$(this).bind("invalid.form_js",function(g){if(g.target==g.currentTarget){d.lock.call(a,c);if(!b&&(g=$(this),window.app&&!app.is_front_end)){var l=g.parents(".scrollable.vertical");l.length&&l.scrollTo(g,{offsetTop:"180"})}b=!0}}).bind("remove.form_js clear-error.form_js",function(g){g.target==g.currentTarget&&(d.unlock.call(a,c),b=!1)})})}},password_strength_meter:function(){var a=
this.find(".password-strength-meter");$.each(a,function(a,d){$(d).on("keyup",function(){var a=$(d).val(),c=0;6<a.length&&c++;a.match(/[a-z]/)&&a.match(/[A-Z]/)&&c++;a.match(/\d+/)&&c++;a.match(/.[!,@,#,$,%,^,&,*,?,_,~,-,(,)]/)&&c++;12<a.length&&c++;var e=$(d).siblings();$.each(e,function(a,b){if($(b).hasClass("password-meter-wrap"))return h=$(b),!1});if(!h){var h=$("<span class='password-meter-wrap'></span>");$(d).after(h)}e=h.find(".password-description");0==e.length&&h.append("<div class='password-description'></div>");
e.text($.i18n.prop(f[c]));0==a.length&&e.text("");e=h.find(".password-strength-bar");0==e.length&&h.append("<div class='password-strength-bar'></div>");e.removeClass();e.addClass("password-strength-bar "+b[c]);0==a.length&&e.removeClass()})})},abn_input_formatting:function(){var a=this.find(".abn-validation");a.on({keypress:function(a){var b=a.which;if(!(48<=b&&57>=b))return a.preventDefault(),!1},keyup:function(b){var d=b.which;b=a.val();var c="";if(!(37<=d&&40>=d)&&8!=d&&(b=b.replace(/\s+/g,""),
2<b.length)){for(d=0;d<b.length;d++)2==d?c+=" ":5==d?c+=" ":8==d&&(c+=" "),c+=b[d];a.val(c)}}})}},d={append:function(a){var b=this;$.each(c,function(){this.call(a,b)})},lock:function(a){this.lock||(this.lock={});this.lock[a]=!0;this.submitButton&&this.submitButton.attr("disabled","disabled");this.elm.trigger("lock")},unlock:function(a){this.lock&&this.lock[a]&&delete this.lock[a];$.isEmptyObject(this.lock)&&(this.submitButton&&this.submitButton.removeAttr("disabled"),this.elm.trigger("unlock"))},
prop:function(a,b){return bm.prop(this,a,b)},force_submit:function(a){var b=this,c=bm.getUUID();this.elm.addClass("submitting");d.lock.call(this,c);this.disable_on_submit&&this.submitButton&&(this.text_change_on_submit&&b.submitButton.each(function(){var a=this.jqObject;if(!a.is(".fixed-status")){var d=a.text();this.orgText=d;b.disable_button_text?a.text(b.disable_button_text):(d=d==$.i18n.prop("create")?$.i18n.prop("creating"):d==$.i18n.prop("update")?$.i18n.prop("updating"):$.i18n.prop("submitting"),
a.text(d+" ..."))}}),this.submitButton.attr("disabled","disabled"));var g=$.extend({},!0===this.ajax?{}:this.ajax);a=a||{};g.success&&a.success&&(a.success=a.success.blend(g.success));g.error&&a.error&&(a.error=a.error.blend(g.error));if(g.response||a.response)var e=function(){a.response&&a.response.apply(this,arguments);g.response&&g.response.apply(this,arguments)};g.complete&&a.complete&&(a.complete=a.complete.blend(g.complete));var h=$.extend({},g,a);this.elm.is("form")||(h.data=$.extend(this.elm.serializeObject(),
h.data),!h.url&&h.controller&&(h.url=app.baseUrl+h.controller+"/"+h.action));this.elm.ajaxSubmit($.extend(h,{response:function(a,g,l,h){b.elm.removeClass("submitting");d.unlock.call(b,c);"success"==a?b.elm.trigger("ajax-submit-success",[g,l,h]):b.elm.trigger("ajax-submit-error",[h,l,g]);b.disable_on_submit&&(b.text_change_on_submit&&b.submitButton.each(function(){$(this).text(this.orgText)}),b.submitButton.removeAttr("disabled","disabled"));e&&e.apply(b.elm,arguments)}}))},submit:function(a){if(!$.isEmptyObject(this.lock))return!1;
try{if(!this.elm.valid())return a&&a.invalid&&a.invalid.call(this.elm),!1;if(this.elm.attr("disabled"))return!1;var b=!0;if("function"===typeof this.preSubmit){a=a||(this.ajax?{}:null);if(a){var c=a.success;a.success=void 0}b=this.preSubmit.call(this.elm,a);a&&a.success&&c?a.success=a.success.blend(c):a&&c&&(a.success=c)}if(!1!==b&&this.ajax)return d.force_submit.call(this,a),!1;!1!==b&&this.disable_on_submit&&!this.ajax&&(this.onSubmitLockId=bm.getUUID(),d.lock.call(this,this.onSubmitLockId));return b}catch(g){return log(g.stack),
!1}},set_submit:function(a){this.submitButton=a}};$.fn.form=function(b){if("string"==typeof b){var c,h=Array.prototype.slice.call(arguments,1);this.each(function(){var a=$(this).data("form-inst");if(!a)return!0;c="function"==typeof d[b]?d[b].apply(a,h):a[b];if("undefined"!=typeof c)return!1});return"undefined"!=typeof c?c:this}this.each(function(){var d=$(this);if(!d.data("form-inst")){var c=$.extend({},e,b,{elm:d});d.data("form-inst",c);a.call(d,c)}});return this}})();
$.scrollbar_horizontal_without_bar_step=100;
(function(){function a(){var a=this.configs.vertical.add_margin_with_height?this.elm.outerHeight(!0):this.configs.vertical.reduce_padding_from_height?this.elm.height():this.elm.innerHeight();this.v_bar.height(a);var b=function(a,b,d){a=this["v_"+a+"_offset"];return 0<a?b+a:d+-1*a};a=b("left","+","-");var d=b("top","+","-");b=b("right","-","+");switch(this.configs.vertical.position){case "left":this.v_bar.position({my:"left top",at:"left"+a+" top"+d,of:this.elm});break;case "right":bm.posRefChangeLtoR(this.v_bar.position({my:"right top",
at:"right"+b+" top"+d,of:this.elm}))}}function e(){var a=this.configs.horizontal.add_margin_with_width?this.elm.outerWidth(!0):this.configs.horizontal.reduce_padding_from_width?this.elm.width():this.elm.innerWidth();this.configs.horizontal.width&&(a+=this.configs.horizontal.width);this.v_bar.width(a);var b=function(a,b,d){a=this["v_"+a+"_offset"];return 0<a?b+a:d+-1*a};a=b("left","+","-");b=b("bottom","-","+");switch(this.configs.horizontal.position){case "bottom":this.h_bar.position({my:"bottom left",
at:"bottom"+b+" left"+a,of:this.elm})}}function f(){if(this.ready_for_show){var a=this.elm.innerWidth(),b=this.elm[0].scrollWidth;if("always"==this.configs.visible_on||a<b){this.h_bar_shown?e.call(this):g.call(this,!1,!0);this.h_bar_shown&&(this.mouse_on_h||this.h_dragging?l.call(this,!1,!0):B.call(this,!1,!0));var d=this.h_bar.innerWidth();this.h_handler.css("width",bm.innerWidth(this.h_handler,a/b*d,!0));a=this.elm.scrollTop();this.h_handler.css("top",a/b*d)}else this.h_bar_shown&&x.call(this,!0,
!1,!0)}else this.h_bar_shown&&e.call(this)}function b(){var a=this,b=this.elm[0].setCapture;this.elm.mousemove(function(b){var d=a.elm.offset().top;d="bottom"==a.configs.horizontal.position?d+(a.elm.height()-a.h_bar.css("bottom").int()):d+a.h_bar.css("top").int();100>Math.abs(d-b.pageY)?(a.h_bar_in_area=!0,l.call(a,!1,!0),a.h_bar_shown||f.call(a,!0)):(a.h_bar_in_area=!1,a.h_hide_timer||!a.h_bar_shown||a.h_dragging||B.call(a,!1,!0))});this.h_bar.hover(function(){a.mouse_on_h=!0},function(){a.mouse_on_h=
!1});var d,c,g,e,h,k=function(d){a.h_dragging=!1;b?d.target.releaseCapture():(document.removeEventListener("mouseup",k,!0),document.removeEventListener("mousemove",m,!0));a.h_bar_in_area||x.call(a,!1,!0,!0)},m=function(b){if(a.h_dragging){bm.clearTextSelection();var l=c+(b.pageX-d);0>l&&(d=b.pageX,c=0);l+e>h&&(d=b.pageX,c=h-e);a.elm.scrollLeft(Math.round(l*g));a.update()}};this.h_handler.mousedown(function(l){d=l.pageX;c=a.h_handler.position().left;h=a.h_bar.innerWidth();g=a.elm[0].scrollWidth/h;
b?l.target.setCapture():(document.addEventListener("mouseup",k,!0),document.addEventListener("mousemove",m,!0));a.h_dragging=!0;e=a.h_handler.outerWidth()});b&&this.h_handler.mouseup(k).mousemove(m)}function c(a){var b=a.configs.horizontal.step||$.scrollbar_horizontal_without_bar_step;return b="auto"==b?a.elm.width():$.scrollbar_horizontal_without_bar_step}function d(a){var b=a.configs.horizontal.custom_step||$.scrollbar_horizontal_without_bar_step;b="auto"==b?a.elm.width():+b;return b=isNaN(b)?$.scrollbar_horizontal_without_bar_step:
b}function h(){var a=this;if(this.configs.use_bar)b.call(this);else{var g=0;this.configs.horizontal.handle.left.click(function(){g=a.configs.horizontal.custom_step?d(a):c(a);!a.elm.is(".content")&&E?a.elm.animate({scrollTop:"-="+g}):a.elm.animate({scrollLeft:"-="+g})});this.configs.horizontal.handle.right.click(function(){g=a.configs.horizontal.custom_step?d(a):c(a);!a.elm.is(".content")&&E?a.elm.animate({scrollTop:"+="+g}):a.elm.animate({scrollLeft:"+="+g})})}}function k(){var a=this,b=this.elm[0].setCapture;
this.elm.bind("mousewheel.scrollbar",function(b){var d=a.elm,c=d.scrollTop(),g=d[0].scrollHeight,e=d.innerHeight();if(0==c&&0<b.deltaY||0>b.deltaY&&c+e==g)return!0;d.scrollTop(c-b.deltaY*b.deltaFactor).trigger("vscroll");a.update();return!1});this.v_bar.hover(function(){a.mouse_on_v=!0},function(){a.mouse_on_v=!1});var d,c,g,e,l,h=function(d){a.v_dragging=!1;b?d.target.releaseCapture():(document.removeEventListener("mouseup",h,!0),document.removeEventListener("mousemove",f,!0));a.mouse_on_v||B.call(a,
!0,!1)},f=function(b){if(a.v_dragging){bm.clearTextSelection();var h=c+(b.pageY-d);0>h&&(d=b.pageY,c=0);h+e>l&&(d=b.pageY,c=l-e);a.elm.scrollTop(Math.round(h*g));a.update()}};this.v_handler.mousedown(function(k){d=k.pageY;c=a.v_handler.position().top;l=a.v_bar.innerHeight();g=a.elm[0].scrollHeight/l;b?k.target.setCapture():(document.addEventListener("mouseup",h,!0),document.addEventListener("mousemove",f,!0));a.v_dragging=!0;e=a.v_handler.outerHeight()});b&&this.v_handler.mouseup(h).mousemove(f)}
function m(){var a=this;$.fn.swipe&&a.elm.swipe({swipe:function(b,d){!a.configs.show_horizontal||"left"!=d&&"right"!=d||(b=a.configs.horizontal.step||$.scrollbar_horizontal_without_bar_step,b="auto"==b?a.elm.width():$.scrollbar_horizontal_without_bar_step,"right"==d?a.elm.animate({scrollLeft:"-="+b}):a.elm.animate({scrollLeft:"+="+b}));if(a.configs.show_vertical&&("up"==d||"down"==d))return d="up"==d?1:-1,b=a.elm.scrollTop(),a.elm.scrollTop(b-40*d),this.ready_for_show=!0,a.update(),!1},threshold:30})}
function g(b,d){this.configs.show_vertical&&b&&(this.v_bar.stop(!0,!0).show(),this.v_bar_shown&&a.call(this),this.v_bar_shown=!0);this.configs.show_horizontal&&d&&(this.h_bar.stop(!0,!0).show(),this.h_bar_shown&&e.call(this),this.h_bar_shown=!0)}function l(a,b){a&&this.v_hide_timer&&(clearTimeout(this.v_hide_timer),this.v_hide_timer=null,this.v_bar_shown&&g.call(this,a));b&&this.h_hide_timer&&(clearTimeout(this.h_hide_timer),this.h_hide_timer=null,this.h_bar_shown&&g.call(this,!1,b))}function B(a,
b){l(a,b);a&&(this.configs.hide_after?(g.call(this,a),this.v_hide_timer=setTimeout(function(){this.v_hide_timer=null;x.call(this,!0,!1)}.bind(this),this.configs.hide_after)):x.call(this,!0,!1));b&&(this.configs.hide_after?(g.call(this,!1,b),this.h_hide_timer=setTimeout(function(){this.h_hide_timer=null;x.call(this,!1,!0)}.bind(this),this.configs.hide_after)):x.call(this,!1,!0))}function x(a,b,d){arguments.length||(a=b=!0);if(this.v_bar_shown&&this.configs.show_vertical&&a){var c=function(){this.v_bar_shown=
!1}.bind(this);d?(this.v_bar.hide(),c()):this.v_bar.fadeOut(1500,c)}this.h_bar_shown&&this.configs.show_horizontal&&b&&(c=function(){this.h_bar_shown=!1}.bind(this),d?(this.h_bar.hide(),c()):this.h_bar.fadeOut(1500,c))}function A(){var a=this.container.find("tr:has(th)"),b=a.clone();a.copyDeepEvents(b,!0);var d=this.container.find("table");if(this.false_header_row)var c=this.false_header_row.closest("table");else c=$("<div class='scrollable-table-header-wrapper'><table class='scrollable-table-header'></table></div>"),
c=c.find("table"),d.copyEvents(c,!0);c.html(this.container.find("colgroup").clone()).append(b);this.false_header_row=c.find("tr:first");a.hide();return b}$.scrollbar={defaults:{show_vertical:!0,show_horizontal:!1,visible_on:"hover",hide_after:8E3,use_bar:!0,reduce_margin_from_offset:!1,add_padding_with_offset:!0,vertical:{position:"right",offset:void 0,top_offset:5,right_offset:5,left_offset:void 0,add_margin_with_height:!1,reduce_padding_from_height:!1},horizontal:{position:"bottom",offset:void 0,
top_offset:void 0,bottom_offset:5,left_offset:5,add_margin_with_width:!1,reduce_padding_from_width:!0,width:-10},swipe_scroll:!1}};$.tablescrollbar={defaults:{use_parent_as_wrapper:!0}};var E=!1,D=!1;window.Scrollbar=function(a,b){this.elm=a instanceof $?a:$(a);this.configs=$.extend(!0,{},$.scrollbar.defaults,b);this.init();this.render();this.bindEvents();this.ready_for_show="always"==this.configs.visible_on||"auto"==this.configs.visible_on;this.update()};var q=Scrollbar.prototype;q.init=function(){this.elm.addClass("scrollable");
var a=this.configs.reduce_margin_from_offset?{margin:!0,border:!0,padding:!1}:{margin:!1,border:!1,padding:this.configs.add_padding_with_offset};a=this.configs.reduce_margin_from_offset?{left:-1*this.elm.leftRib(a.margin,a.border,a.padding),top:-1*this.elm.topRib(a.margin,a.border,a.padding),right:-1*this.elm.rightRib(a.margin,a.border,a.padding),bottom:-1*this.elm.bottomRib(a.margin,a.border,a.padding)}:{left:this.elm.leftRib(a.margin,a.border,a.padding),top:this.elm.topRib(a.margin,a.border,a.padding),
right:this.elm.rightRib(a.margin,a.border,a.padding),bottom:this.elm.bottomRib(a.margin,a.border,a.padding)};this.v_top_offset=(null==this.configs.vertical.offset?this.configs.vertical.top_offset:this.configs.vertical.offset)+a.top;this.v_right_offset=(null==this.configs.vertical.offset?this.configs.vertical.right_offset:this.configs.vertical.offset)+a.right;this.v_left_offset=(null==this.configs.vertical.offset?this.configs.vertical.left_offset:this.configs.vertical.offset)+a.left;this.h_top_offset=
(null==this.configs.horizontal.offset?this.configs.horizontal.top_offset:offset)+a.top;this.h_bottom_offset=(null==this.configs.horizontal.offset?this.configs.horizontal.bottom_offset:offset)+a.bottom;this.h_left_offset=(null==this.configs.horizontal.offset?this.configs.horizontal.left_offset:offset)+a.left};q.update=function(){if(this.configs.show_vertical&&this.configs.use_bar)if(this.ready_for_show){var b=this.elm.innerHeight(),d=this.elm[0].scrollHeight;if("always"==this.configs.visible_on||b<
d){this.v_bar_shown?a.call(this):g.call(this,!0,!1);this.v_bar_shown&&(this.mouse_on_v||this.v_dragging?l.call(this,!0,!1):B.call(this,!0,!1));var c=this.v_bar.innerHeight();this.v_handler.css("height",bm.innerHeight(this.v_handler,b/d*c,!0));b=this.elm.scrollTop();this.v_handler.css("top",b/d*c)}else this.v_bar_shown&&x.call(this,!0,!1,!0)}else this.v_bar_shown&&a.call(this);this.configs.show_horizontal&&(this.configs.use_bar?f.call(this,!1):"auto"==this.configs.visible_on&&(d=this.elm.innerWidth(),
c=this.elm[0].scrollWidth,b=this.elm.innerHeight(),E=b<this.elm[0].scrollHeight&&d<b?!0:!1,(D=d<c&&d>b?!0:!1)||E?this.configs.horizontal.handle.left.is(":hidden")&&(this.elm.addClass("content-overflow"),this.configs.horizontal.handle.left.show(),this.configs.horizontal.handle.right.show()):this.configs.horizontal.handle.left.is(":visible")&&(this.elm.removeClass("content-overflow"),this.configs.horizontal.handle.left.hide(),this.configs.horizontal.handle.right.hide())));return this};q.render=function(){if(this.configs.show_vertical&&
this.configs.use_bar){this.elm.addClass("vertical-scroll").css("overflow-y","hidden");var b=this.v_bar="<div class='vertical scrollbar'></div>".jqObject.css("position","absolute").hide(),d=this.v_handler="<div class='scrollbar-handle'></div>".jqObject;b.append(d);this.elm.after(b);"static"==b.css("position")&&b.css("position","absolute");"auto"!=this.configs.vertical.position&&a.call(this)}this.configs.show_horizontal&&this.configs.use_bar&&(this.elm.addClass("horizontal-scroll").css("overflow-x",
"hidden"),b=this.h_bar="<div class='horizontal scrollbar'></div>".jqObject.css("position","absolute").hide(),d=this.h_handler="<div class='scrollbar-handle'></div>".jqObject,b.append(d),this.elm.after(b),"auto"!=this.configs.horizontal.position&&e.call(this));this.configs.swipe_scroll&&m.call(this)};q.destroy=function(){this.h_hide_timer&&clearTimeout(this.h_hide_timer);this.v_hide_timer&&clearTimeout(this.v_hide_timer);this.elm.removeClass("scrollable vertical horizontal").off("hover").off("mousewheel.scrollbar");
this.elm.is(this.elm)||this.elm.parent().unwrapInner();this.v_bar&&this.v_bar.remove();this.h_bar&&this.h_bar.remove()};q.bindEvents=function(){var a=this;"hover"==this.configs.visible_on&&this.elm.add(this.h_bar&&this.v_bar?this.h_bar.add(this.v_bar):this.h_bar||this.v_bar).hover(function(){this.ready_for_show=!0;l.call(this,!0,!0);setTimeout(function(){this.update()}.bind(this),0)}.bind(this),function(){this.v_dragging||this.h_dragging||(this.ready_for_show=!1,setTimeout(function(){this.mouse_on_v||
this.mouse_on_h||x.call(this)}.bind(this),0))}.bind(this));this.configs.show_vertical&&k.call(this);this.configs.show_horizontal&&h.call(this);this.elm.find(".scrollbar").on("remove",function(){a.destroy()})};var p=Scrollbar.prototype;window.TableScroll=function(a,b){b&&(b=$.extend({},$.tablescrollbar.defaults,b));p.constructor.call(this,a,b)};TableScroll.inherit(Scrollbar);q=TableScroll.prototype;q.init=function(){this.configs.show_horizontal=!1;this.configs.show_vertical=!1;this.container=this.elm.wrap("<div class='scrollable-table-wrapper'></div>").parent();
var a=A.call(this),b=this.false_header_row.closest(".scrollable-table-header-wrapper");this.container.before(b).css({marginTop:-1*parseFloat(a.find("th:first").css("border-bottom-width"))});this.top_row_height=b.outerHeight();"auto"==this.configs.vertical.height?(a=this.container.parent().height(),this.configs.vertical.height=a-this.top_row_height):this.configs.vertical.height-=this.top_row_height;this.container.scrollbar({show_vertical:!0,vertical:{offset:0,step:"auto"}})};q.height=function(a){p.height.call(this,
a-this.top_row_height)};q.destroy=function(){p.destroy.call(this);this.false_header_row.closest(".scrollable-table-header-wrapper").remove();var a=this.container.find("tr:has(th)");a=this.container.find("table").prepend(a.show());a.parent().replaceWith(a)};q.content=function(a){if(a){var b=a.parentsUntil("tr"),d=this.false_header_row;b.length&&b.each(function(){var a=$(this).index();d=d.children().eq(a)});b=a.index();d=d.children().eq(b);b=a.clone();a.copyDeepEvents(b,!0);d.replaceWith(b)}else A.call(this),
this.update();return this.container.find("table")};q.header=function(){return this.false_header_row}})();bm.jquerify("scrollbar",Scrollbar);bm.jquerify("tscrollbar",TableScroll);bm&&bm.ui_updaters&&bm.ui_updaters.push(function(){this.find(".scrollable").addBack(".scrollable").each(function(){var a=this.jqObject,e=a.scrollbar("inst");e?e.update():(e=a.config("scrollable"),a.is("table")?a.tscrollbar(e):a.scrollbar(e))})});
var Hashtable=function(){function a(b){var d;if("string"==typeof b)return b;if(typeof b.hashCode==g)return d=b.hashCode(),"string"==typeof d?d:a(d);if(typeof b.toString==g)return b.toString();try{return String(b)}catch(w){return Object.prototype.toString.call(b)}}function e(a,b){return a.equals(b)}function f(a,b){return typeof b.equals==g?b.equals(a):a===b}function b(a){return function(b){if(null===b)throw Error("null is not a valid "+a);if("undefined"==typeof b)throw Error(a+" must not be undefined");
}}function c(a,b,d,c){this[0]=a;this.entries=[];this.addEntry(b,d);null!==c&&(this.getEqualityFunction=function(){return c})}function d(a){return function(b){for(var d=this.entries.length,c,g=this.getEqualityFunction(b);d--;)if(c=this.entries[d],g(b,c[0]))switch(a){case A:return!0;case E:return c;case D:return[d,c[1]]}return!1}}function h(a){return function(b){for(var d=b.length,c=0,g=this.entries.length;c<g;++c)b[d+c]=this.entries[c][a]}}function k(a,b){return(a=a[b])&&a instanceof c?a:null}function m(b,
d){var e=this,h=[],f={},q=typeof b==g?b:a,p=typeof d==g?d:null;this.put=function(a,b){B(a);x(b);var d=q(a),g,e,l=null;return g=k(f,d),g?(e=g.getEntryForKey(a),e?(l=e[1],e[1]=b):g.addEntry(a,b)):(g=new c(d,a,b,p),h[h.length]=g,f[d]=g),l};this.get=function(a){B(a);var b=q(a);if(b=k(f,b))if(a=b.getEntryForKey(a))return a[1];return null};this.containsKey=function(a){B(a);var b=q(a);return(b=k(f,b))?b.containsKey(a):!1};this.containsValue=function(a){x(a);for(var b=h.length;b--;)if(h[b].containsValue(a))return!0;
return!1};this.clear=function(){h.length=0;f={}};this.isEmpty=function(){return!h.length};var A=function(a){return function(){for(var b=[],d=h.length;d--;)h[d][a](b);return b}};this.keys=A("keys");this.values=A("values");this.entries=A("getEntries");this.remove=function(a){B(a);var b=q(a),d=null,c=k(f,b);if(c&&(d=c.removeEntryForKey(a),null!==d&&!c.entries.length)){a:{for(a=h.length;a--;)if(c=h[a],b===c[0])break a;a=null}l(h,a);delete f[b]}return d};this.size=function(){for(var a=0,b=h.length;b--;)a+=
h[b].entries.length;return a};this.each=function(a){for(var b=e.entries(),d=b.length,c;d--;)c=b[d],a(c[0],c[1])};this.putAll=function(a,b){a=a.entries();for(var d,c,l,h=a.length,f=typeof b==g;h--;)d=a[h],c=d[0],d=d[1],f&&(l=e.get(c))&&(d=b(c,l,d)),e.put(c,d)};this.clone=function(){var a=new m(b,d);return a.putAll(e),a}}var g="function",l=typeof Array.prototype.splice==g?function(a,b){a.splice(b,1)}:function(a,b){var d;if(b===a.length-1)a.length=b;else{var c=a.slice(b+1);a.length=b;var g=0;for(d=c.length;g<
d;++g)a[b+g]=c[g]}},B=b("key"),x=b("value"),A=0,E=1,D=2;return c.prototype={getEqualityFunction:function(a){return typeof a.equals==g?e:f},getEntryForKey:d(E),getEntryAndIndexForKey:d(D),removeEntryForKey:function(a){return(a=this.getEntryAndIndexForKey(a))?(l(this.entries,a[0]),a[1]):null},addEntry:function(a,b){this.entries[this.entries.length]=[a,b]},keys:h(0),values:h(1),getEntries:function(a){for(var b=a.length,d=0,c=this.entries.length;d<c;++d)a[b+d]=this.entries[d].slice(0)},containsKey:d(A),
containsValue:function(a){for(var b=this.entries.length;b--;)if(a===this.entries[b][1])return!0;return!1}},m}();
(function(a){function e(a,b,d){this.dec=a;this.group=b;this.neg=d}function f(a,f){if(0==b.size())for(var h=0;h<d.length;h++){localeGroup=d[h];for(var g=0;g<localeGroup.length;g++)b.put(localeGroup[g],h)}h=".";g=",";0==f&&(-1!=a.indexOf("_")?a=a.split("_")[1].toLowerCase():-1!=a.indexOf("-")&&(a=a.split("-")[1].toLowerCase()));(a=b.get(a))&&(a=c[a])&&(h=a[0],g=a[1]);return new e(h,g,"-")}var b=new Hashtable,c=[[".",","],[",","."],[","," "],[".","'"]],d=["ae au ca cn eg gb hk il in jp sk th tw us".split(" "),
"at br de dk es gr it nl pt tr vn".split(" "),"cz fi fr ru se pl".split(" "),["ch"]];a.fn.formatNumber=function(b,d,c){return this.each(function(){null==d&&(d=!0);null==c&&(c=!0);var g;a(this).is(":input")?g=new String(a(this).val()):g=new String(a(this).text());g=a.formatNumber(g,b);d&&(a(this).is(":input")?a(this).val(g):a(this).text(g));if(c)return g})};a.formatNumber=function(b,d){d=a.extend({},a.fn.formatNumber.defaults,d);f(d.locale.toLowerCase(),d.isFullLocale);for(var c="",g=!1,e=0;e<d.format.length;e++){if(-1!=
"0#-,.".indexOf(d.format.charAt(e))){if(0==e&&"-"==d.format.charAt(e)){g=!0;continue}break}c+=d.format.charAt(e)}var h="";for(e=d.format.length-1;0<=e&&-1=="0#-,.".indexOf(d.format.charAt(e));e--)h=d.format.charAt(e)+h;d.format=d.format.substring(c.length);d.format=d.format.substring(0,d.format.length-h.length);b=new Number(b);return a._formatNumber(b,d,h,c,g)};a._formatNumber=function(b,d,c,g,e){d=a.extend({},a.fn.formatNumber.defaults,d);var l=f(d.locale.toLowerCase(),d.isFullLocale),h=l.dec,k=
l.group;l=l.neg;var m=!1;if(isNaN(b)){if(1!=d.nanForceZero)return null;b=0;m=!0}"%"==c&&(b*=100);var D="";if(-1<d.format.indexOf(".")){var q=h,p=d.format.substring(d.format.lastIndexOf(".")+1);1==d.round?b=new Number(b.toFixed(p.length)):(b=b.toString(),b=b.substring(0,b.lastIndexOf(".")+p.length+1),b=new Number(b));var w=new String((b%1).toFixed(p.length));w=w.substring(w.lastIndexOf(".")+1);for(var t=0;t<p.length;t++)if("#"==p.charAt(t)&&"0"!=w.charAt(t))q+=w.charAt(t);else{if("#"==p.charAt(t)&&
"0"==w.charAt(t)){if(w.substring(t).match("[1-9]")){q+=w.charAt(t);continue}break}"0"==p.charAt(t)&&(q+=w.charAt(t))}D+=q}else b=Math.round(b);t=Math.floor(b);0>b&&(t=Math.ceil(b));q="";-1==d.format.indexOf(".")?q=d.format:q=d.format.substring(0,d.format.indexOf("."));p="";if(0!=t||"#"!=q.substr(q.length-1)||m){m=new String(Math.abs(t));w=9999;-1!=q.lastIndexOf(",")&&(w=q.length-q.lastIndexOf(",")-1);var y=0;for(t=m.length-1;-1<t;t--)p=m.charAt(t)+p,y++,y==w&&0!=t&&(p=k+p,y=0);if(q.length>p.length&&
(t=q.indexOf("0"),-1!=t))for(t=q.length-t,m=q.length-p.length-1;p.length<t;)w=q.charAt(m),","==w&&(w=k),p=w+p,m--}return!p&&-1!==q.indexOf("0",q.length-1)&&(p="0"),D=p+D,0>b&&e&&0<g.length?g=l+g:0>b&&(D=l+D),d.decimalSeparatorAlwaysShown||D.lastIndexOf(h)==D.length-1&&(D=D.substring(0,D.length-1)),D=g+D+c,D};a.fn.parseNumber=function(b,d,c){null==d&&(d=!0);null==c&&(c=!0);var g;a(this).is(":input")?g=new String(a(this).val()):g=new String(a(this).text());if(b=a.parseNumber(g,b))if(d&&(a(this).is(":input")?
a(this).val(b.toString()):a(this).text(b.toString())),c)return b};a.parseNumber=function(b,d){d=a.extend({},a.fn.parseNumber.defaults,d);var c=f(d.locale.toLowerCase(),d.isFullLocale),g=c.dec,e=c.group;for(c=c.neg;-1<b.indexOf(e);)b=b.replace(e,"");b=b.replace(g,".").replace(c,"-");g="";e=!1;if("%"==b.charAt(b.length-1)||1==d.isPercentage)e=!0;for(d=0;d<b.length;d++)-1<"1234567890.-".indexOf(b.charAt(d))&&(g+=b.charAt(d));b=new Number(g);e&&(b/=100,d=g.indexOf("."),b=-1!=d?b.toFixed(g.length-d-1+
2):b.toFixed(g.length-1));return b};a.fn.parseNumber.defaults={locale:"us",decimalSeparatorAlwaysShown:!1,isPercentage:!1,isFullLocale:!1};a.fn.formatNumber.defaults={format:"#,###.00",locale:"us",decimalSeparatorAlwaysShown:!1,nanForceZero:!0,round:!0,isFullLocale:!1};Number.prototype.toFixed=function(b){return a._roundNumber(this,b)};a._roundNumber=function(a,b){var d=Math.pow(10,b||0);a=String(Math.round(a*d)/d);if(0<b)for(d=a.indexOf("."),-1==d?(a+=".",d=0):d=a.length-(d+1);d<b;)a+="0",d++;return a}})(jQuery);
(function(){var a={};this.tmpl=function c(f,b){f=/\W/.test(f)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+f.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):a[f]=a[f]||c(document.getElementById(f).innerHTML);return b?f(b):f}})();
(function(a){a.baseClass=function(e){return e=a(e),e.get(0).className.match(/([^ ]+)/)[1]};a.fn.addDependClass=function(e,f){var b=f?f:"-";return this.each(function(){var c=a.baseClass(this);c&&a(this).addClass(c+b+e)})};a.fn.removeDependClass=function(e,f){var b=f?f:"-";return this.each(function(){var c=a.baseClass(this);c&&a(this).removeClass(c+b+e)})};a.fn.toggleDependClass=function(e,f){var b=f?f:"-";return this.each(function(){var c=a.baseClass(this);c&&(a(this).is("."+c+b+e)?a(this).removeClass(c+
b+e):a(this).addClass(c+b+e))})}})(jQuery);
(function(a){function e(){this._init.apply(this,arguments)}e.prototype.oninit=function(){};e.prototype.events=function(){};e.prototype.onmousedown=function(){this.ptr.css({position:"absolute"})};e.prototype.onmousemove=function(a,b,c){this.ptr.css({left:b,top:c})};e.prototype.onmouseup=function(){};e.prototype.isDefault={drag:!1,clicked:!1,toclick:!0,mouseup:!1};e.prototype._init=function(){if(0<arguments.length){this.ptr=a(arguments[0]);this.outer=a(".draggable-outer");this.is={};a.extend(this.is,
this.isDefault);var e=this.ptr.offset();this.d={left:e.left,top:e.top,width:this.ptr.width(),height:this.ptr.height()};this.oninit.apply(this,arguments);this._events()}};e.prototype._getPageCoords=function(a){return a.targetTouches&&a.targetTouches[0]?{x:a.targetTouches[0].pageX,y:a.targetTouches[0].pageY}:{x:a.pageX,y:a.pageY}};e.prototype._bindEvent=function(a,b,c){this.supportTouches_?a.get(0).addEventListener(this.events_[b],c,!1):a.bind(this.events_[b],c)};e.prototype._events=function(){var e=
this;this.supportTouches_=browser.gc&&-1!=navigator.userAgent.indexOf("Mobile");this.events_={click:this.supportTouches_?"touchstart":"click",down:this.supportTouches_?"touchstart":"mousedown",move:this.supportTouches_?"touchmove":"mousemove",up:this.supportTouches_?"touchend":"mouseup"};this._bindEvent(a(document),"move",function(a){e.is.drag&&(a.stopPropagation(),a.preventDefault(),e._mousemove(a))});this._bindEvent(a(document),"down",function(a){e.is.drag&&(a.stopPropagation(),a.preventDefault())});
this._bindEvent(a(document),"up",function(a){e._mouseup(a)});this._bindEvent(this.ptr,"down",function(a){return e._mousedown(a),!1});this._bindEvent(this.ptr,"up",function(a){e._mouseup(a)});this.ptr.find("a").click(function(){e.is.clicked=!0;if(!e.is.toclick)return e.is.toclick=!0,!1}).mousedown(function(a){return e._mousedown(a),!1});this.events()};e.prototype._mousedown=function(e){this.is.drag=!0;this.is.clicked=!1;this.is.mouseup=!1;var b=this.ptr.offset(),c=this._getPageCoords(e);this.cx=c.x-
b.left;this.cy=c.y-b.top;a.extend(this.d,{left:b.left,top:b.top,width:this.ptr.width(),height:this.ptr.height()});this.outer&&this.outer.get(0)&&this.outer.css({height:Math.max(this.outer.height(),a(document.body).height()),overflow:"hidden"});this.onmousedown(e)};e.prototype._mousemove=function(a){this.is.toclick=!1;var b=this._getPageCoords(a);this.onmousemove(a,b.x-this.cx,b.y-this.cy)};e.prototype._mouseup=function(a){this.is.drag&&(this.is.drag=!1,this.outer&&this.outer.get(0)&&(browser.ff?this.outer.css({overflow:"hidden"}):
this.outer.css({overflow:"visible"}),browser.ie&&6==browser.version?this.outer.css({height:"100%"}):this.outer.css({height:"auto"})),this.onmouseup(a))};window.Draggable=e})(jQuery);
(function(a){function e(a){return"undefined"==typeof a?!1:a instanceof Array||!(a instanceof Object)&&"[object Array]"==Object.prototype.toString.call(a)||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice")?!0:!1}function f(){return this.init.apply(this,arguments)}function b(){Draggable.apply(this,arguments)}a.slider=function(b,c){var d=a(b);return d.data("jslider")||d.data("jslider",new f(b,c)),d.data("jslider")};
a.fn.slider=function(b,c){var d,f=arguments;return this.each(function(){var g=a.slider(this,b);if("string"==typeof b)switch(b){case "value":void 0!==f[1]&&void 0!==f[2]?(g=g.getPointers(),null!=g[0]&&null!=f[1]&&(g[0].set(f[1]),g[0].setIndexOver()),null!=g[1]&&null!=f[2]&&(g[1].set(f[2]),g[1].setIndexOver())):void 0!==f[1]?(g=g.getPointers(),null!=g[0]&&null!=f[1]&&(g[0].set(f[1]),g[0].setIndexOver())):d=g.getValue();break;case "prc":void 0!==f[1]&&void 0!==f[2]?(g=g.getPointers(),null!=g[0]&&null!=
f[1]&&(g[0]._set(f[1]),g[0].setIndexOver()),null!=g[1]&&null!=f[2]&&(g[1]._set(f[2]),g[1].setIndexOver())):void 0!==f[1]?(g=g.getPointers(),null!=g[0]&&null!=f[1]&&(g[0]._set(f[1]),g[0].setIndexOver())):d=g.getPrcValue();break;case "calculatedValue":var l=g.getValue().split(";");d="";for(var h=0;h<l.length;h++)d+=(0<h?";":"")+g.nice(l[h]);break;case "skin":g.setSkin(f[1])}else b||c||(e(d)||(d=[]),d.push(g))}),e(d)&&1==d.length&&(d=d[0]),d||this};var c={settings:{from:1,to:10,step:1,smooth:!0,limits:!0,
round:0,format:{format:"#,##0.##"},value:"5;7",dimension:""},className:"jslider",selector:".jslider-",template:tmpl('<span class="<%=className%>"><table><tr><td><div class="<%=className%>-bg"><i class="l"></i><i class="f"></i><i class="r"></i><i class="v"></i></div><div class="<%=className%>-pointer"></div><div class="<%=className%>-pointer <%=className%>-pointer-to"></div><div class="<%=className%>-label"><span><%=settings.from%></span></div><div class="<%=className%>-label <%=className%>-label-to"><span><%=settings.to%></span><%=settings.dimension%></div><div class="<%=className%>-value"><span></span><%=settings.dimension%></div><div class="<%=className%>-value <%=className%>-value-to"><span></span><%=settings.dimension%></div><div class="<%=className%>-scale"><%=scale%></div></td></tr></table></span>')};
f.prototype.init=function(b,e){this.settings=a.extend(!0,{},c.settings,e?e:{});this.inputNode=a(b).hide();this.settings.interval=this.settings.to-this.settings.from;this.settings.value=this.inputNode.attr("value");this.settings.calculate&&a.isFunction(this.settings.calculate)&&(this.nice=this.settings.calculate);this.settings.onstatechange&&a.isFunction(this.settings.onstatechange)&&(this.onstatechange=this.settings.onstatechange);this.is={init:!1};this.o={};this.create()};f.prototype.onstatechange=
function(){};f.prototype.create=function(){var d=this;this.domNode=a(c.template({className:c.className,settings:{from:this.nice(this.settings.from),to:this.nice(this.settings.to),dimension:this.settings.dimension},scale:this.generateScale()}));this.inputNode.after(this.domNode);this.drawScale();this.settings.skin&&0<this.settings.skin.length&&this.setSkin(this.settings.skin);this.sizes={domWidth:this.domNode.width(),domOffset:this.domNode.offset()};a.extend(this.o,{pointers:{},labels:{0:{o:this.domNode.find(c.selector+
"value").not(c.selector+"value-to")},1:{o:this.domNode.find(c.selector+"value").filter(c.selector+"value-to")}},limits:{0:this.domNode.find(c.selector+"label").not(c.selector+"label-to"),1:this.domNode.find(c.selector+"label").filter(c.selector+"label-to")}});a.extend(this.o.labels[0],{value:this.o.labels[0].o.find("span")});a.extend(this.o.labels[1],{value:this.o.labels[1].o.find("span")});d.settings.value.split(";")[1]||(this.settings.single=!0,this.domNode.addDependClass("single"));d.settings.limits||
this.domNode.addDependClass("limitless");this.domNode.find(c.selector+"pointer").each(function(a){var c=d.settings.value.split(";")[a];if(c){d.o.pointers[a]=new b(this,a,d);var e=d.settings.value.split(";")[a-1];e&&new Number(c)<new Number(e)&&(c=e);c=c<d.settings.from?d.settings.from:c;c=c>d.settings.to?d.settings.to:c;d.o.pointers[a].set(c,!0)}});this.o.value=this.domNode.find(".v");this.is.init=!0;a.each(this.o.pointers,function(a){d.redraw(this)});(function(b){a(window).resize(function(){b.onresize()})})(this)};
f.prototype.setSkin=function(a){this.skin_&&this.domNode.removeDependClass(this.skin_,"_");this.domNode.addDependClass(this.skin_=a,"_")};f.prototype.setPointersIndex=function(b){a.each(this.getPointers(),function(a){this.index(a)})};f.prototype.getPointers=function(){return this.o.pointers};f.prototype.generateScale=function(){if(this.settings.scale&&0<this.settings.scale.length){for(var a="",b=this.settings.scale,c=Math.round(100/(b.length-1)*10)/10,e=0;e<b.length;e++)a+='<span style="left: '+e*
c+'%">'+("|"!=b[e]?"<ins>"+b[e]+"</ins>":"")+"</span>";return a}return""};f.prototype.drawScale=function(){this.domNode.find(c.selector+"scale span ins").each(function(){a(this).css({marginLeft:-a(this).outerWidth()/2})})};f.prototype.onresize=function(){var b=this;this.sizes={domWidth:this.domNode.width(),domOffset:this.domNode.offset()};a.each(this.o.pointers,function(a){b.redraw(this)})};f.prototype.update=function(){this.onresize();this.drawScale()};f.prototype.limits=function(a,b){if(!this.settings.smooth){var d=
100*this.settings.step/this.settings.interval;a=Math.round(a/d)*d}d=this.o.pointers[1-b.uid];return d&&b.uid&&a<d.value.prc&&(a=d.value.prc),d&&!b.uid&&a>d.value.prc&&(a=d.value.prc),0>a&&(a=0),100<a&&(a=100),Math.round(10*a)/10};f.prototype.redraw=function(a){if(!this.is.init)return!1;this.setValue();this.o.pointers[0]&&this.o.pointers[1]&&this.o.value.css({left:this.o.pointers[0].value.prc+"%",width:this.o.pointers[1].value.prc-this.o.pointers[0].value.prc+"%"});this.o.labels[a.uid].value.html(this.nice(a.value.origin));
this.redrawLabels(a)};f.prototype.redrawLabels=function(a){function b(a,b,c){return b.margin=-b.label/2,label_left=b.border+b.margin,0>label_left&&(b.margin-=label_left),b.border+b.label/2>d.sizes.domWidth?(b.margin=0,b.right=!0):b.right=!1,a.o.css({left:c+"%",marginLeft:b.margin,right:"auto"}),b.right&&a.o.css({left:"auto",right:0}),b}var d=this,c=this.o.labels[a.uid],g=a.value.prc,e={label:c.o.outerWidth(),right:!1,border:g*this.sizes.domWidth/100};if(!this.settings.single){var f=this.o.pointers[1-
a.uid],x=this.o.labels[f.uid];switch(a.uid){case 0:e.border+e.label/2>x.o.offset().left-this.sizes.domOffset.left?(x.o.css({visibility:"hidden"}),x.value.html(this.nice(f.value.origin)),c.o.css({visibility:"visible"}),g=(f.value.prc-g)/2+g,f.value.prc!=a.value.prc&&(c.value.html(this.nice(a.value.origin)+"&nbsp;&ndash;&nbsp;"+this.nice(f.value.origin)),e.label=c.o.outerWidth(),e.border=g*this.sizes.domWidth/100)):x.o.css({visibility:"visible"});break;case 1:e.border-e.label/2<x.o.offset().left-this.sizes.domOffset.left+
x.o.outerWidth()?(x.o.css({visibility:"hidden"}),x.value.html(this.nice(f.value.origin)),c.o.css({visibility:"visible"}),g=(g-f.value.prc)/2+f.value.prc,f.value.prc!=a.value.prc&&(c.value.html(this.nice(f.value.origin)+"&nbsp;&ndash;&nbsp;"+this.nice(a.value.origin)),e.label=c.o.outerWidth(),e.border=g*this.sizes.domWidth/100)):x.o.css({visibility:"visible"})}}e=b(c,e,g);x&&(e={label:x.o.outerWidth(),right:!1,border:f.value.prc*this.sizes.domWidth/100},e=b(x,e,f.value.prc));this.redrawLimits()};f.prototype.redrawLimits=
function(){if(this.settings.limits){var a=[!0,!0];for(key in this.o.pointers)if(!this.settings.single||0==key){var b=this.o.labels[this.o.pointers[key].uid],c=b.o.offset().left-this.sizes.domOffset.left,e=this.o.limits[0];c<e.outerWidth()&&(a[0]=!1);e=this.o.limits[1];c+b.o.outerWidth()>this.sizes.domWidth-e.outerWidth()&&(a[1]=!1)}for(b=0;b<a.length;b++)a[b]?this.o.limits[b].fadeIn("fast"):this.o.limits[b].fadeOut("fast")}};f.prototype.setValue=function(){var a=this.getValue();this.inputNode.attr("value",
a);this.onstatechange.call(this,a)};f.prototype.getValue=function(){if(!this.is.init)return!1;var b=this,c="";return a.each(this.o.pointers,function(a){void 0!=this.value.prc&&!isNaN(this.value.prc)&&(c+=(0<a?";":"")+b.prcToValue(this.value.prc))}),c};f.prototype.getPrcValue=function(){if(!this.is.init)return!1;var b="";return a.each(this.o.pointers,function(a){void 0!=this.value.prc&&!isNaN(this.value.prc)&&(b+=(0<a?";":"")+this.value.prc)}),b};f.prototype.prcToValue=function(a){if(this.settings.heterogeneity&&
0<this.settings.heterogeneity.length)for(var b=this.settings.heterogeneity,d=0,c=this.settings.from,g=0;g<=b.length;g++){var e=b[g]?b[g].split("/"):[100,this.settings.to];e[0]=new Number(e[0]);e[1]=new Number(e[1]);if(a>=d&&a<=e[0])var f=c+(a-d)*(e[1]-c)/(e[0]-d);d=e[0];c=e[1]}else f=this.settings.from+a*this.settings.interval/100;return this.round(f)};f.prototype.valueToPrc=function(a,b){if(this.settings.heterogeneity&&0<this.settings.heterogeneity.length)for(var d=this.settings.heterogeneity,c=
0,g=this.settings.from,e=0;e<=d.length;e++){var f=d[e]?d[e].split("/"):[100,this.settings.to];f[0]=new Number(f[0]);f[1]=new Number(f[1]);if(a>=g&&a<=f[1])var h=b.limits(c+(a-g)*(f[0]-c)/(f[1]-g));c=f[0];g=f[1]}else h=b.limits(100*(a-this.settings.from)/this.settings.interval);return h};f.prototype.round=function(a){return a=Math.round(a/this.settings.step)*this.settings.step,this.settings.round?a=Math.round(a*Math.pow(10,this.settings.round))/Math.pow(10,this.settings.round):a=Math.round(a),a};f.prototype.nice=
function(b){return b=b.toString().replace(/,/gi,".").replace(/ /gi,""),a.formatNumber?a.formatNumber(new Number(b),this.settings.format||{}).replace(/-/gi,"&minus;"):new Number(b)};b.prototype=new Draggable;b.prototype.oninit=function(a,b,c){this.uid=b;this.parent=c;this.value={};this.settings=this.parent.settings};b.prototype.onmousedown=function(a){this._parent={offset:this.parent.domNode.offset(),width:this.parent.domNode.width()};this.ptr.addDependClass("hover");this.setIndexOver()};b.prototype.onmousemove=
function(a,b){a=this._getPageCoords(a);this._set(this.calc(a.x))};b.prototype.onmouseup=function(b){this.parent.settings.callback&&a.isFunction(this.parent.settings.callback)&&this.parent.settings.callback.call(this.parent,this.parent.getValue());this.ptr.removeDependClass("hover")};b.prototype.setIndexOver=function(){this.parent.setPointersIndex(1);this.index(2)};b.prototype.index=function(a){this.ptr.css({zIndex:a})};b.prototype.limits=function(a){return this.parent.limits(a,this)};b.prototype.calc=
function(a){return this.limits(100*(a-this._parent.offset.left)/this._parent.width)};b.prototype.set=function(a,b){this.value.origin=this.parent.round(a);this._set(this.parent.valueToPrc(a,this),b)};b.prototype._set=function(a,b){b||(this.value.origin=this.parent.prcToValue(a));this.value.prc=a;this.ptr.css({left:a+"%"});this.parent.redraw(this)}})(jQuery);
(function(a,e){function f(d){d=a.extend({},m,d||{});for(var g=a(this),e=0,f=g.length;e<f;e++){var l=g.eq(e),h=d;if(!l.hasClass("stepper-input")){h=a.extend({},h,l.data("stepper-options"));var k=parseFloat(l.attr("spin-min")),p=parseFloat(l.attr("spin-max")),w=parseFloat(l.attr("spin-initial-step")),t=parseFloat(l.attr("spin-step"))||1;l.addClass("stepper-input").wrap('<div class="stepper '+h.customClass+'" />').after('<span class="stepper-arrow up">'+h.labels.up+'</span><span class="stepper-arrow down">'+
h.labels.down+"</span>");var y=l.parent(".stepper");h=a.extend({$stepper:y,$input:l,$arrow:y.find(".stepper-arrow"),min:isNaN(k)?!1:k,max:isNaN(p)?!1:p,step:isNaN(t)?1:t,initial_step:isNaN(w)?void 0:w,timer:null,et_data:{up:{clazz:"",attr:{}},down:{clazz:"",attr:{}}}},h);h.et_data&&(k=h.et_data.up,p=h.et_data.down,y.find(".stepper-arrow.up").addClass(k.clazz).attr(k.attr),y.find(".stepper-arrow.down").addClass(p.clazz).attr(p.attr));k=String(h.step);k=-1<k.indexOf(".")?k.length-k.indexOf(".")-1:0;
h.digits=k;l.is(":disabled")&&y.addClass("disabled");y.on("keypress",".stepper-input",h,b);y.on("touchstart.stepper mousedown.stepper",".stepper-arrow",h,c);l.data("stepper",h)}}return g}function b(a){var b=a.data;if(38===a.keyCode||40===a.keyCode)a.preventDefault(),h(b,38===a.keyCode?b.step:-b.step)}function c(b){b.preventDefault();b.stopPropagation();d(b);var c=b.data;if(!c.$input.is(":disabled")&&!c.$stepper.hasClass("disabled")){var g=a(b.target).hasClass("up")?c.step:-c.step;c.timer=k(c.timer,
200,function(){h(c,g,!1)});h(c,g);a("body").on("touchend.stepper mouseup.stepper",c,d)}}function d(b){b.preventDefault();b.stopPropagation();(b=b.data.timer)&&clearInterval(b);a("body").off(".stepper")}function h(a,b){var c=parseFloat(a.$input.val()),d=b;d=-1==Math.sign(b)&&a.initial_step==c||1==Math.sign(b)&&a.initial_step&&0==c?a.initial_step==c&&-1==Math.sign(b)?0:a.initial_step:isNaN(c)?!1!==a.min?a.min:0:!1!==a.min&&c<a.min?a.min:d+c;b=(d-a.min)%a.step;0!==b&&(d-=b);!1!==a.max&&d>a.max&&(d=a.max,
a.$stepper.trigger("max"));!1!==a.min&&d<a.min&&(d=a.min,a.$stepper.trigger("min"));d!==c&&(b=Math.pow(10,a.digits),d=Math.round(d*b)/b,a.$input.trigger("before-step-change"),a.$input.val(d).trigger("change",[""+d,""+c]))}function k(a,b,c){a&&clearInterval(a);return setInterval(c,b)}var m={customClass:"",labels:{up:"Up",down:"Down"}},g={defaults:function(b){m=a.extend(m,b||{});return"object"===typeof this?a(this):!0},destroy:function(){return a(this).each(function(b){if(b=a(this).data("stepper"))b.$stepper.off(".stepper").find(".stepper-arrow").remove(),
b.$input.unwrap().removeClass("stepper-input")})},disable:function(){return a(this).each(function(b){if(b=a(this).data("stepper"))b.$input.attr("disabled","disabled"),b.$stepper.addClass("disabled")})},enable:function(){return a(this).each(function(b){if(b=a(this).data("stepper"))b.$input.attr("disabled",null),b.$stepper.removeClass("disabled")})}};a.fn.stepper=function(a){return g[a]?g[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==typeof a&&a?this:(a&&""==a.max&&delete a.max,
f.apply(this,arguments))};a.stepper=function(a){"defaults"===a&&g.defaults.apply(this,Array.prototype.slice.call(arguments,1))}})(jQuery,this);
(function(a){a.Zebra_DatePicker=function(e,f){var b={always_visible:!1,days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),days_abbr:!1,direction:0,disabled_dates:!1,enabled_dates:!1,first_day_of_week:1,format:"yyyy-MM-dd",header_navigation:["&#171;","&#187;"],inside:!0,lang_clear_date:"Clear date",months:"January February March April May June July August September October November December".split(" "),months_abbr:!1,offset:[5,-5],pair:!1,readonly_element:!0,select_other_months:!1,
show_clear_date:0,show_icon:!0,show_other_months:!0,show_select_today:"Today",show_week_number:!1,start_date:!1,strict:!1,view:"days",weekend_days:[0,6],zero_pad:!1,onChange:null,onClear:null,onSelect:null},c,d,h,k,m,g,l,B,x,A,E,D,q,p,w,t,y,W=0,L=0,ja=0,ba,C,K,T,U,O,M,P,J,ia,ca,na,r,da,pa,u,ma,ua,Z,G,R,n=this;n.settings={};var F=a(e),z=function(e){if(!e){n.settings=a.extend({},b,f);for(var H in F.data())0===H.indexOf("zdp_")&&(H=H.replace(/^zdp_/,""),void 0!==b[H]&&(n.settings[H]=F.data("zdp_"+H)))}n.settings.readonly_element&&
F.attr("readonly","readonly");H={days:["d","j","D"],months:["F","m","M","n","t"],years:["o","Y","y"]};var la=!1,ka=!1,fa=!1,ra=null;for(ra in H)a.each(H[ra],function(a,b){-1<n.settings.format.indexOf(b)&&("days"==ra?la=!0:"months"==ra?ka=!0:"years"==ra&&(fa=!0))});u=la&&ka&&fa?["years","months","days"]:!la&&ka&&fa?["years","months"]:la||ka||!fa?la||!ka||fa?["years","months","days"]:["months"]:["years"];-1==a.inArray(n.settings.view,u)&&(n.settings.view=u[u.length-1]);O=[];U=[];for(var r=0;2>r;r++)H=
0===r?n.settings.disabled_dates:n.settings.enabled_dates,a.isArray(H)&&0<H.length&&a.each(H,function(){for(var b=this.split(" "),c=0;4>c;c++){b[c]||(b[c]="*");b[c]=-1<b[c].indexOf(",")?b[c].split(","):Array(b[c]);for(var d=0;d<b[c].length;d++)if(-1<b[c][d].indexOf("-")){var g=b[c][d].match(/^([0-9]+)\-([0-9]+)/);if(null!==g){for(var e=N(g[1]);e<=N(g[2]);e++)-1==a.inArray(e,b[c])&&b[c].push(e+"");b[c].splice(d,1)}}for(d=0;d<b[c].length;d++)b[c][d]=isNaN(N(b[c][d]))?b[c][d]:N(b[c][d])}0===r?O.push(b):
U.push(b)});H=new Date;var z=n.settings.reference_date?n.settings.reference_date:F.data("zdp_reference_date")&&void 0!==F.data("zdp_reference_date")?F.data("zdp_reference_date"):H,M,Y;J=P=void 0;q=z.getMonth();A=H.getMonth();p=z.getFullYear();E=H.getFullYear();w=z.getDate();D=H.getDate();if(!0===n.settings.direction)P=z;else if(!1===n.settings.direction)J=z,na=J.getMonth(),ca=J.getFullYear(),ia=J.getDate();else if(!a.isArray(n.settings.direction)&&ha(n.settings.direction)&&0<N(n.settings.direction)||
a.isArray(n.settings.direction)&&((M=ea(n.settings.direction[0]))||!0===n.settings.direction[0]||ha(n.settings.direction[0])&&0<n.settings.direction[0])&&((Y=ea(n.settings.direction[1]))||!1===n.settings.direction[1]||ha(n.settings.direction[1])&&0<=n.settings.direction[1]))P=M?M:new Date(p,q,w+(a.isArray(n.settings.direction)?N(!0===n.settings.direction[0]?0:n.settings.direction[0]):N(n.settings.direction))),q=P.getMonth(),p=P.getFullYear(),w=P.getDate(),Y&&+Y>=+P?J=Y:!Y&&!1!==n.settings.direction[1]&&
a.isArray(n.settings.direction)&&(J=new Date(p,q,w+N(n.settings.direction[1]))),J&&(na=J.getMonth(),ca=J.getFullYear(),ia=J.getDate());else if(!a.isArray(n.settings.direction)&&ha(n.settings.direction)&&0>N(n.settings.direction)||a.isArray(n.settings.direction)&&(!1===n.settings.direction[0]||ha(n.settings.direction[0])&&0>n.settings.direction[0])&&((M=ea(n.settings.direction[1]))||ha(n.settings.direction[1])&&0<=n.settings.direction[1]))J=new Date(p,q,w+(a.isArray(n.settings.direction)?N(!1===n.settings.direction[0]?
0:n.settings.direction[0]):N(n.settings.direction))),na=J.getMonth(),ca=J.getFullYear(),ia=J.getDate(),M&&+M<+J?P=M:!M&&a.isArray(n.settings.direction)&&(P=new Date(ca,na,ia-N(n.settings.direction[1]))),P&&(q=P.getMonth(),p=P.getFullYear(),w=P.getDate());else if(a.isArray(n.settings.disabled_dates)&&0<n.settings.disabled_dates.length)for(var S in O)if("*"==O[S][0]&&"*"==O[S][1]&&"*"==O[S][2]&&"*"==O[S][3]){var R=[];a.each(U,function(){"*"!=this[2][0]&&R.push(parseInt(this[2][0]+("*"==this[1][0]?"12":
V(this[1][0],2))+("*"==this[0][0]?"*"==this[1][0]?"31":(new Date(this[2][0],this[1][0],0)).getDate():V(this[0][0],2)),10))});R.sort();if(0<R.length){var Q=(R[0]+"").match(/([0-9]{4})([0-9]{2})([0-9]{2})/);p=parseInt(Q[1],10);q=parseInt(Q[2],10)-1;w=parseInt(Q[3],10)}break}if(aa(p,q,w)){for(;aa(p);)if(P){if(p++,q=0,p>ca)break}else p--,q=11;for(;aa(p,q)&&!(P?(q++,w=1):(q--,w=(new Date(p,q+1,0)).getDate()),11<q?(p++,q=0,w=1):0>q&&(p--,q=11,w=(new Date(p,q+1,0)).getDate()),p>ca&&q>na););for(;aa(p,q,w)&&
!(P?w++:w--,H=new Date(p,q,w),p=H.getFullYear(),q=H.getMonth(),w=H.getDate(),p>ca&&q>na&&w>ia););H=new Date(p,q,w);p=H.getFullYear();q=H.getMonth();w=H.getDate()}(M=ea(F.val()||(n.settings.start_date?n.settings.start_date:"")))&&n.settings.strict&&aa(M.getFullYear(),M.getMonth(),M.getDate())&&F.val("");Aa(M);n.settings.always_visible||(e||(n.settings.show_icon?("firefox"==ta.name&&F.is('input[type="text"]')&&"inline"==F.css("display")&&F.css("display","inline-block"),Y=jQuery('<span class="Zebra_DatePicker_Icon_Wrapper fee-identical-sewc-elm"></span>').css({display:F.css("display"),
position:"static"==F.css("position")?"relative":F.css("position"),"float":F.css("float"),top:F.css("top"),right:F.css("right"),bottom:F.css("bottom"),left:F.css("left")}),F.wrap(Y).css({position:"relative",top:"auto",right:"auto",bottom:"auto",left:"auto"}),h=jQuery('<button type="button" class="Zebra_DatePicker_Icon fee-identical-sewc-elm'+("disabled"==F.attr("disabled")?" Zebra_DatePicker_Icon_Disabled":"")+'">Pick a date</button>'),n.icon=h,ma=h.add(F)):ma=F,ma.bind("click",function(a){a.preventDefault();
F.attr("disabled")||("none"!=d.css("display")?n.hide():n.show())}),void 0!==h&&h.insertAfter(F)),void 0!==h&&(h.attr("style",""),n.settings.inside&&h.addClass("Zebra_DatePicker_Icon_Inside")));M=M||n.settings.start_date||new Date;ba=M.getDay();t=M.getMonth();y=M.getYear();W=M.getHours();L=M.getMinutes();ja=M.getSeconds();G=!1!==n.settings.show_select_today&&-1<a.inArray("days",u)&&!aa(E,A,D)?n.settings.show_select_today:!1;e||(a(window).bind("resize",I),e='<div class="Zebra_DatePicker"><table class="dp_header"><tr><td class="dp_previous">'+
n.settings.header_navigation[0]+'</td><td class="dp_caption">&#032;</td><td class="dp_next">'+n.settings.header_navigation[1]+'</td></tr></table><table class="dp_daypicker"></table><div class="dp_timepicker"><div class="dp_timepicker_hour_block"><div class="dp_caption dp_timepicker_hour_label">'+a.i18n.prop("hour")+'</div><div class="dp_timepicker_hour"><input value="0"></div></div><div class="dp_timepicker_minute_block"><div class="dp_caption dp_timepicker_minute_label">'+a.i18n.prop("minute")+'</div><div class="dp_timepicker_minute"><input value="0"></div></div><div class="dp_timepicker_second_block"><div class="dp_caption dp_timepicker_second_label">'+
a.i18n.prop("second")+'</div><div class="dp_timepicker_second"><input value="0"></div></div><table class="dp_timepicker_done"><tbody><tr><td class="dp_timepicker_done" style="width: 100%">'+a.i18n.prop("done")+'</td></tr></tbody></table></div><table class="dp_monthpicker"></table><table class="dp_yearpicker"></table><table class="dp_footer"><tr><td class="dp_today"'+(!1!==n.settings.show_clear_date?' style="width:50%"':"")+">"+G+'</td><td class="dp_clear"'+(!1!==G?' style="width:50%"':"")+">"+n.settings.lang_clear_date+
"</td></tr></table></div>",d=a(e),n.datepicker=d,k=a("table.dp_header",d),m=a("table.dp_daypicker",d),g=a(".dp_timepicker",d),l=a("table.dp_monthpicker",d),B=a("table.dp_yearpicker",d),Z=a("table.dp_footer",d),ua=a("td.dp_today",Z),x=a("td.dp_clear",Z),n.settings.always_visible?F.attr("disabled")||(n.settings.always_visible.append(d),n.show()):a("body").append(d),d.delegate("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_blocked, .dp_week_number)","mouseover",function(){a(this).addClass("dp_hover")}).delegate("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_blocked, .dp_week_number)",
"mouseout",function(){a(this).removeClass("dp_hover")}),va(a("td",k)),a(".dp_previous",k).bind("click",function(){a(this).hasClass("dp_blocked")||("months"==c?y--:"years"==c?y-=12:0>--t&&(t=11,y--),oa())}),a(".dp_caption",k).bind("click",function(){c="days"==c?-1<a.inArray("months",u)?"months":-1<a.inArray("years",u)?"years":"days":"months"==c?-1<a.inArray("years",u)?"years":-1<a.inArray("days",u)?"days":"months":-1<a.inArray("days",u)?"days":-1<a.inArray("months",u)?"months":"years";oa()}),a(".dp_next",
k).bind("click",function(){a(this).hasClass("dp_blocked")||("months"==c?y++:"years"==c?y+=12:12==++t&&(t=0,y++),oa())}),m.delegate("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_week_number)","click",function(){n.settings.select_other_months&&null!==(Q=a(this).attr("class").match(/date_([0-9]{4})(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01])/))?qa(Q[1],Q[2]-1,Q[3],"days",a(this)):qa(y,t,N(a(this).html()),"days",a(this))}),l.delegate("td:not(.dp_disabled)","click",function(){var b=a(this).attr("class").match(/dp_month_([0-9]+)/);
t=N(b[1]);-1==a.inArray("days",u)?qa(y,t,1,"months",a(this)):(c="days",n.settings.always_visible&&F.val(""),oa())}),B.delegate("td:not(.dp_disabled)","click",function(){y=N(a(this).html());-1==a.inArray("months",u)?qa(y,1,1,"years",a(this)):(c="months",n.settings.always_visible&&F.val(""),oa())}),a(ua).bind("click",function(b){b.preventDefault();qa(E,A,D,"days",a(".dp_current",m));n.settings.always_visible&&n.show();n.hide()}),a(x).bind("click",function(b){b.preventDefault();F.val("").trigger("change");
n.settings.always_visible?(T=K=C=null,a("td.dp_selected",d).removeClass("dp_selected")):ba=y=t=T=K=C=null;n.hide();if(n.settings.onClear&&"function"==typeof n.settings.onClear)n.settings.onClear(F)}),n.settings.always_visible||a(document).bind({mousedown:Ba,keyup:X}),oa())};n.destroy=function(){void 0!==n.icon&&n.icon.remove();n.datepicker.remove();a(document).unbind("keyup",X);a(document).unbind("mousedown",Ba);a(window).unbind("resize",I);F.removeData("Zebra_DatePicker")};n.hide=function(){n.settings.always_visible||
(fa("hide"),d.hide())};n.show=function(){c=n.settings.view;var b=ea(F.val()||(n.settings.start_date?n.settings.start_date:""));b?(t=K=b.getMonth(),y=T=b.getFullYear(),ba=C=b.getDate(),aa(T,K,C)&&(n.settings.strict&&F.val(""),t=q,y=p)):(t=q,y=p);oa();if(n.settings.always_visible)d.show();else{b=d.outerWidth();var g=d.outerHeight(),e=(void 0!==h?h.offset().left+h.outerWidth(!0):F.offset().left+F.outerWidth(!0))+n.settings.offset[0],f=(void 0!==h?h.offset().top:F.offset().top)-g+n.settings.offset[1],
l=a(window).width(),k=window.innerHeight,H=a(window).scrollTop(),B=a(window).scrollLeft();e+b>B+l&&(e=B+l-b);e<B&&(e=B);f+g>H+k&&(f=H+k-g);f<H&&(f=H);d.css({left:e,top:f});d.fadeIn("explorer"==ta.name&&9>ta.version?0:150,"linear");fa()}};n.update=function(b){n.original_direction&&(n.original_direction=n.direction);n.settings=a.extend(n.settings,b);z(!0)};var ea=function(b){b=a.trim(b);if(""==b)return!1;var c=n.settings.format;if(n.settings.time){var d=n.settings.time;!0===n.settings.time&&(d="HH:mm:ss");
c+=" "+d}return Date.parseExact(b,c)||!1},va=function(a){"firefox"==ta.name?a.css("MozUserSelect","none"):"explorer"==ta.name?a.bind("selectstart",function(){return!1}):a.mousedown(function(){return!1})},Q=function(){n.settings.time&&(g.find(".dp_timepicker_hour input").slider({from:0,to:23,step:1,callback:function(a){W=a}}).slider("value",W),!1!==n.settings.show_minute&&(g.find(".dp_timepicker_minute input").slider({from:0,to:59,step:1,callback:function(a){L=a}}).slider("value",L),!1!==n.settings.show_second&&
(g.find(".dp_timepicker_second input").slider({from:0,to:59,step:1,callback:function(a){ja=a}}).slider("value",ja),g.find(".dp_timepicker_done").click(function(){qa(y,t)}))))},H=function(){var b=(new Date(y,t+1,0)).getDate(),c=(new Date(y,t,1)).getDay(),d=(new Date(y,t,0)).getDate();c-=n.settings.first_day_of_week;c=0>c?7+c:c;Y(n.settings.months[t]+", "+y);var g="<tr>";n.settings.show_week_number&&(g+="<th>"+n.settings.show_week_number+"</th>");for(var e=0;7>e;e++)g+="<th>"+(a.isArray(n.settings.days_abbr)&&
void 0!==n.settings.days_abbr[(n.settings.first_day_of_week+e)%7]?n.settings.days_abbr[(n.settings.first_day_of_week+e)%7]:n.settings.days[(n.settings.first_day_of_week+e)%7].substr(0,2))+"</th>";g+="</tr><tr>";for(e=0;42>e;e++){0<e&&0===e%7&&(g+="</tr><tr>");if(0===e%7&&n.settings.show_week_number){var f=new Date(y,t,e-c+1);var l=f.getFullYear();var h=f.getMonth()+1;var k=f.getDate();if(3>h){var H=l-1;var B=(H/4|0)-(H/100|0)+(H/400|0);l=B-(((H-1)/4|0)-((H-1)/100|0)+((H-1)/400|0));f=0;h=k-1+31*(h-
1)}else H=l,B=(H/4|0)-(H/100|0)+(H/400|0),l=B-(((H-1)/4|0)-((H-1)/100|0)+((H-1)/400|0)),f=l+1,h=k+((153*(h-3)+2)/5|0)+58+l;B=(H+B)%7;f=h+3-(h+B-f)%7;g+='<td class="dp_week_number">'+(0>f?53-((B-l)/5|0):f>364+l?1:(f/7|0)+1)+"</td>"}l=e-c+1;if(n.settings.select_other_months&&(e<c||l>b)){var x=new Date(y,t,l),q=x.getFullYear(),p=x.getMonth(),la=x.getDate();x=q+V(p+1,2)+V(la,2)}e<c?g+='<td class="'+(n.settings.select_other_months&&!aa(q,p,la)?"dp_not_in_month_selectable date_"+x:"dp_not_in_month")+'">'+
(n.settings.select_other_months||n.settings.show_other_months?V(d-c+e+1,n.settings.zero_pad?2:0):"&nbsp;")+"</td>":l>b?g+='<td class="'+(n.settings.select_other_months&&!aa(q,p,la)?"dp_not_in_month_selectable date_"+x:"dp_not_in_month")+'">'+(n.settings.select_other_months||n.settings.show_other_months?V(l-b,n.settings.zero_pad?2:0):"&nbsp;")+"</td>":(f=(n.settings.first_day_of_week+e)%7,h="",aa(y,t,l)?(h=-1<a.inArray(f,n.settings.weekend_days)?"dp_weekend_disabled":h+" dp_disabled",t==A&&y==E&&D==
l&&(h+=" dp_disabled_current")):(-1<a.inArray(f,n.settings.weekend_days)&&(h="dp_weekend"),t==K&&y==T&&C==l&&(h+=" dp_selected"),t==A&&y==E&&D==l&&(h+=" dp_current")),g+="<td"+(""!==h?' class="'+a.trim(h)+'"':"")+">"+(n.settings.zero_pad?V(l,2):l)+"</td>")}m.html(a(g+"</tr>"));n.settings.always_visible&&(r=a("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_blocked, .dp_week_number)",m));m.show()},la=function(){Y(y);for(var b="<tr>",c=0;12>c;c++){0<c&&0===c%3&&(b+="</tr><tr>");var d=
"dp_month_"+c;aa(y,c)?d+=" dp_disabled":!1!==K&&K==c?d+=" dp_selected":A==c&&E==y&&(d+=" dp_current");b+='<td class="'+a.trim(d)+'">'+(a.isArray(n.settings.months_abbr)&&void 0!==n.settings.months_abbr[c]?n.settings.months_abbr[c]:n.settings.months[c].substr(0,3))+"</td>"}l.html(a(b+"</tr>"));n.settings.always_visible&&(da=a("td:not(.dp_disabled)",l));l.show()},ka=function(){Y(y-7+" - "+(y+4));for(var b="<tr>",c=0;12>c;c++){0<c&&0===c%3&&(b+="</tr><tr>");var d="";aa(y-7+c)?d+=" dp_disabled":T&&T==
y-7+c?d+=" dp_selected":E==y-7+c&&(d+=" dp_current");b+="<td"+(""!==a.trim(d)?' class="'+a.trim(d)+'"':"")+">"+(y-7+c)+"</td>"}B.html(a(b+"</tr>"));n.settings.always_visible&&(pa=a("td:not(.dp_disabled)",B));B.show()},fa=function(b){if("explorer"==ta.name&&6==ta.version){if(!M){var c=N(d.css("zIndex"))-1;M=jQuery("<iframe>",{src:'javascript:document.write("")',scrolling:"no",frameborder:0,allowtransparency:"true",css:{zIndex:c,position:"absolute",top:-1E3,left:-1E3,width:d.outerWidth(),height:d.outerHeight(),
filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)",display:"none"}});a("body").append(M)}switch(b){case "hide":M.hide();break;default:b=d.offset(),M.css({top:b.top,left:b.left,display:"block"})}}},aa=function(b,c,d){if((void 0===b||isNaN(b))&&(void 0===c||isNaN(c))&&(void 0===d||isNaN(d)))return!1;if(a.isArray(n.settings.direction)||0!==N(n.settings.direction)){var g=N(S(b,"undefined"!=typeof c?V(c,2):"","undefined"!=typeof d?V(d,2):"")),e=(g+"").length;if(8==e&&("undefined"!=typeof P&&g<
N(S(p,V(q,2),V(w,2)))||"undefined"!=typeof J&&g>N(S(ca,V(na,2),V(ia,2))))||6==e&&("undefined"!=typeof P&&g<N(S(p,V(q,2)))||"undefined"!=typeof J&&g>N(S(ca,V(na,2))))||4==e&&("undefined"!=typeof P&&g<p||"undefined"!=typeof J&&g>ca))return!0}"undefined"!=typeof c&&(c+=1);var f=!1,l=!1;O&&a.each(O,function(){if(!f&&(-1<a.inArray(b,this[2])||-1<a.inArray("*",this[2]))&&("undefined"!=typeof c&&-1<a.inArray(c,this[1])||-1<a.inArray("*",this[1]))&&("undefined"!=typeof d&&-1<a.inArray(d,this[0])||-1<a.inArray("*",
this[0]))){if("*"==this[3])return f=!0;var g=(new Date(b,c-1,d)).getDay();if(-1<a.inArray(g,this[3]))return f=!0}});U&&a.each(U,function(){if(!l&&(-1<a.inArray(b,this[2])||-1<a.inArray("*",this[2]))&&(l=!0,"undefined"!=typeof c))if(l=!0,-1<a.inArray(c,this[1])||-1<a.inArray("*",this[1])){if("undefined"!=typeof d){l=!0;if(-1<a.inArray(d,this[0])||-1<a.inArray("*",this[0])){if("*"==this[3])return l=!0;var g=(new Date(b,c-1,d)).getDay();if(-1<a.inArray(g,this[3]))return l=!0}l=!1}}else l=!1});return U&&
l||!O||!f?!1:!0},ha=function(a){return(a+"").match(/^\-?[0-9]+$/)?!0:!1},Y=function(b){a(".dp_caption",k).html(b);if(a.isArray(n.settings.direction)||0!==N(n.settings.direction)||1==u.length&&"months"==u[0]){b=y;var d=t;if("days"==c){var g=!aa(0>d-1?S(b-1,"11"):S(b,V(d-1,2)));var e=!aa(11<d+1?S(b+1,"00"):S(b,V(d+1,2)))}else if("months"==c){if(!P||P.getFullYear()<=b-1)g=!0;if(!J||J.getFullYear()>=b+1)e=!0}else if("years"==c){if(!P||P.getFullYear()<b-7)g=!0;if(!J||J.getFullYear()>b+4)e=!0}g?a(".dp_previous",
k).removeClass("dp_blocked"):(a(".dp_previous",k).addClass("dp_blocked"),a(".dp_previous",k).removeClass("dp_hover"));e?a(".dp_next",k).removeClass("dp_blocked"):(a(".dp_next",k).addClass("dp_blocked"),a(".dp_next",k).removeClass("dp_hover"))}},oa=function(){if(""===m.text()||"days"==c){if(""===m.text()){n.settings.always_visible||d.css("left",-1E3);d.show();H();Q();var b=m.outerWidth(),e=m.outerHeight();l.css({width:b,height:e});B.css({width:b,height:e});k.css("width",b);g.css("width",b);Z.css("width",
b);d.hide()}else H();n.settings.time||g.hide();l.hide();B.hide()}else"months"==c?(la(),m.hide(),g.hide(),B.hide()):"years"==c&&(ka(),m.hide(),g.hide(),l.hide());n.settings.onChange&&"function"==typeof n.settings.onChange&&void 0!==c&&(b="days"==c?m.find("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_blocked)"):"months"==c?l.find("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_blocked)"):B.find("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_blocked)"),
b.each(function(){if("days"==c)if(a(this).hasClass("dp_not_in_month_selectable")){var b=a(this).attr("class").match(/date_([0-9]{4})(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01])/);a(this).data("date",b[1]+"-"+b[2]+"-"+b[3])}else a(this).data("date",y+"-"+V(t+1,2)+"-"+V(N(a(this).text()),2));else"months"==c?(b=a(this).attr("class").match(/dp_month_([0-9]+)/),a(this).data("date",y+"-"+V(N(b[1])+1,2))):a(this).data("date",N(a(this).text()))}),n.settings.onChange(c,b,F));Z.show();!0===n.settings.show_clear_date||
0===n.settings.show_clear_date&&""!==F.val()||n.settings.always_visible&&!1!==n.settings.show_clear_date?(x.show(),G?(ua.css("width","50%"),x.css("width","50%")):(ua.hide(),x.css("width","100%"))):(x.hide(),G?ua.show().css("width","100%"):Z.hide())},qa=function(a,b,c,d,g){var e=new Date(a,b,c||ba,W,L,ja);var f=n.settings.format;if(n.settings.time){var l=n.settings.time;!0===n.settings.time&&(l="HH:mm:ss");f+=" "+l}f=e.toString(f);F.val(f).trigger("change");d&&(l="days"==d?r:"months"==d?da:pa,n.settings.always_visible&&
(K=e.getMonth(),t=e.getMonth(),T=e.getFullYear(),y=e.getFullYear(),C=e.getDate(),l.removeClass("dp_selected"),g.addClass("dp_selected"),"days"==d&&g.hasClass("dp_not_in_month_selectable")&&n.show()));n.hide();Aa(e);if(n.settings.onSelect&&"function"==typeof n.settings.onSelect)n.settings.onSelect(f,a+"-"+V(b+1,2)+"-"+V(c,2),e,F);F.focus()},S=function(){for(var a="",b=0;b<arguments.length;b++)a+=arguments[b]+"";return a},V=function(a,b){for(a+="";a.length<b;)a="0"+a;return a},N=function(a){return parseInt(a,
10)},Aa=function(b){n.settings.pair&&a.each(n.settings.pair,function(){var c=a(this);if(c.data&&c.data("Zebra_DatePicker")){var d=c.data("Zebra_DatePicker");d.update({reference_date:b,direction:0===d.settings.direction?1:d.settings.direction});d.settings.always_visible&&d.show()}else c.data("zdp_reference_date",b);c.val()&&b&&new Date(c.val())<b&&c.val("")})},X=function(a){"block"!=d.css("display")&&27!=a.which||n.hide()},Ba=function(b){if("block"==d.css("display")){if(n.settings.show_icon&&a(b.target).get(0)===
h.get(0))return!0;0===a(b.target).parents().filter(".Zebra_DatePicker").length&&n.hide()}},I=function(){n.hide();void 0!==h&&(clearTimeout(R),R=setTimeout(function(){n.update()},100))},ta={init:function(){this.name=this.searchString(this.dataBrowser)||"";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||""},searchString:function(a){for(var b=0;b<a.length;b++){var c=a[b].string,d=a[b].prop;this.versionSearchString=a[b].versionSearch||a[b].identity;if(c){if(-1!=
c.indexOf(a[b].subString))return a[b].identity}else if(d)return a[b].identity}},searchVersion:function(a){var b=a.indexOf(this.versionSearchString);if(-1!=b)return parseFloat(a.substring(b+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Firefox",identity:"firefox"},{string:navigator.userAgent,subString:"MSIE",identity:"explorer",versionSearch:"MSIE"}]};ta.init();z()};a.fn.date=function(e){return this.each(function(){void 0!==a(this).data("Zebra_DatePicker")&&
a(this).data("Zebra_DatePicker").destroy();var f=new a.Zebra_DatePicker(this,e);a(this).data("Zebra_DatePicker",f)})}})(jQuery);
(function(a){"function"===typeof define&&define.amd?define(["../../"],a):"object"===typeof exports&&"function"===typeof require?a(require("jquery")):a(jQuery)})(function(a){function e(b,c){var d=function(){};d={ajaxSettings:{},autoSelectFirst:!1,appendTo:document.body,serviceUrl:null,lookup:null,onSelect:null,width:"auto",minChars:1,maxHeight:300,deferRequestBy:0,params:{},formatResult:e.formatResult,delimiter:null,zIndex:9999,type:"GET",noCache:!1,onSearchStart:d,onSearchComplete:d,onSearchError:d,
preserveInput:!1,containerClass:"autocomplete-suggestions scrollable",tabDisabled:!1,dataType:"text",currentRequest:null,triggerSelectOnValidInput:!0,preventBadQueries:!0,lookupFilter:function(a,b,c){return-1!==a.value.toLowerCase().indexOf(c)},paramName:"query",transformResult:function(b){return"string"===typeof b?a.parseJSON(b):b},showNoSuggestionNotice:!1,noSuggestionNotice:"No results",orientation:"bottom",forceFixPosition:!1};this.element=b;this.el=a(b);this.suggestions=[];this.badQueries=[];
this.selectedIndex=-1;this.currentValue=this.element.value;this.intervalId=0;this.cachedResponse={};this.onChange=this.onChangeInterval=null;this.isLocal=!1;this.noSuggestionsContainer=this.suggestionsContainer=null;this.options=a.extend({},d,c);this.classes={selected:"autocomplete-selected",suggestion:"autocomplete-suggestion"};this.hint=null;this.hintValue="";this.selection=null;this.initialize();this.setOptions(c)}var f=function(){return{escapeRegExChars:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,
"\\$&")},createNode:function(a){var b=document.createElement("div");b.className=a;b.style.position="absolute";b.style.display="none";return b}}}();e.utils=f;a.Autocomplete=e;e.formatResult=function(a,c){return a.value};e.prototype={killerFn:null,initialize:function(){var b=this,c="."+b.classes.suggestion,d=b.classes.selected,f=b.options;b.element.setAttribute("autocomplete","off");b.killerFn=function(c){0===a(c.target).closest("."+b.options.containerClass).length&&(b.killSuggestions(),b.disableKillerFn())};
b.noSuggestionsContainer=a('<div class="autocomplete-no-suggestion"></div>').html(this.options.noSuggestionNotice).get(0);b.suggestionsContainer=e.utils.createNode(f.containerClass);var k=a(b.suggestionsContainer);k.appendTo(f.appendTo);"auto"!==f.width&&k.width(f.width);k.on("mouseover.autocomplete",c,function(){b.activate(a(this).data("index"))});k.on("mouseout.autocomplete",function(){b.selectedIndex=-1;k.children("."+d).removeClass(d)});k.on("click.autocomplete",c,function(){b.select(a(this).data("index"))});
b.fixPositionCapture=function(){b.visible&&b.fixPosition()};a(window).on("resize.autocomplete",b.fixPositionCapture);b.el.on("keydown.autocomplete",function(a){b.onKeyPress(a)});b.el.on("keyup.autocomplete",function(a){b.onKeyUp(a)});b.el.on("blur.autocomplete",function(){b.onBlur()});b.el.on("focus.autocomplete",function(){b.onFocus()});b.el.on("change.autocomplete",function(a){b.onKeyUp(a)});b.el.on("input.autocomplete",function(a){b.onKeyUp(a)})},onFocus:function(){this.fixPosition();if(this.options.minChars<=
this.el.val().length)this.onValueChange()},onBlur:function(){this.enableKillerFn()},setOptions:function(b){var c=this.options;a.extend(c,b);if(this.isLocal=a.isArray(c.lookup))c.lookup=this.verifySuggestionsFormat(c.lookup);c.orientation=this.validateOrientation(c.orientation,"bottom");a(this.suggestionsContainer).css({"max-height":c.maxHeight+"px",width:c.width+"px","z-index":c.zIndex})},clearCache:function(){this.cachedResponse={};this.badQueries=[]},clear:function(){this.clearCache();this.currentValue=
"";this.suggestions=[]},disable:function(){this.disabled=!0;clearInterval(this.onChangeInterval);this.currentRequest&&this.currentRequest.abort()},enable:function(){this.disabled=!1},fixPosition:function(){var b=a(this.suggestionsContainer),c=b.parent().get(0);if(c===document.body||this.options.forceFixPosition){var d=this.options.orientation,e=b.outerHeight(),f=this.el.outerHeight(),m=this.el.offset(),g={top:m.top,left:m.left};if("auto"===d){d=a(window).height();var l=a(window).scrollTop(),B=-l+
m.top-e;d=Math.max(B,l+d-(m.top+f+e))===B?"top":"bottom"}g.top="top"===d?g.top+-e:g.top+f;c!==document.body&&(c=b.css("opacity"),this.visible||b.css("opacity",0).show(),e=b.offsetParent().offset(),g.top-=e.top,g.left-=e.left,this.visible||b.css("opacity",c).hide());"auto"===this.options.width&&(g.width=this.el.outerWidth()-2+"px");b.css(g)}},enableKillerFn:function(){a(document).on("click.autocomplete",this.killerFn)},disableKillerFn:function(){a(document).off("click.autocomplete",this.killerFn)},
killSuggestions:function(){var a=this;a.stopKillSuggestions();a.intervalId=window.setInterval(function(){a.hide();a.stopKillSuggestions()},50)},stopKillSuggestions:function(){window.clearInterval(this.intervalId)},isCursorAtEnd:function(){var a=this.el.val().length,c=this.element.selectionStart;return"number"===typeof c?c===a:document.selection?(c=document.selection.createRange(),c.moveStart("character",-a),a===c.text.length):!0},onKeyPress:function(a){if(!this.disabled&&!this.visible&&40===a.which&&
this.currentValue)this.suggest();else if(!this.disabled&&this.visible){switch(a.which){case 27:this.el.val(this.currentValue);this.hide();break;case 39:if(this.hint&&this.options.onHint&&this.isCursorAtEnd()){this.selectHint();break}return;case 9:if(this.hint&&this.options.onHint){this.selectHint();return}if(-1===this.selectedIndex){this.hide();return}this.select(this.selectedIndex);if(!1===this.options.tabDisabled)return;break;case 13:if(-1===this.selectedIndex){this.hide();return}this.options.linkedSuggestion&&
(window.location=this.suggestions[this.selectedIndex].value.jqObject[0].attributes.href.value,this.el[0].blur());this.select(this.selectedIndex);break;case 38:this.moveUp();break;case 40:this.moveDown();break;default:return}a.stopImmediatePropagation();a.preventDefault()}},onKeyUp:function(a){var b=this;if(!b.disabled){switch(a.which){case 38:case 40:return}clearInterval(b.onChangeInterval);if(b.currentValue!==b.el.val())if(b.findBestHint(),0<b.options.deferRequestBy)b.onChangeInterval=setInterval(function(){b.onValueChange()},
b.options.deferRequestBy);else b.onValueChange()}},onValueChange:function(){var b=this.options,c=this.el.val(),d=this.getQuery(c);this.selection&&this.currentValue!==d&&(this.selection=null,(b.onInvalidateSelection||a.noop).call(this.element));clearInterval(this.onChangeInterval);this.currentValue=c;this.selectedIndex=-1;if(b.triggerSelectOnValidInput&&(c=this.findSuggestionIndex(d),-1!==c)){this.select(c);return}d.length<b.minChars?this.hide():this.getSuggestions(d)},findSuggestionIndex:function(b){var c=
-1,d=b.toLowerCase();a.each(this.suggestions,function(a,b){if(b.value.toLowerCase()===d)return c=a,!1});return c},getQuery:function(b){var c=this.options.delimiter;if(!c)return b;b=b.split(c);return a.trim(b[b.length-1])},getSuggestionsLocal:function(b){var c=this.options,d=b.toLowerCase(),e=c.lookupFilter,f=parseInt(c.lookupLimit,10);c={suggestions:a.grep(c.lookup,function(a){return e(a,b,d)})};f&&c.suggestions.length>f&&(c.suggestions=c.suggestions.slice(0,f));return c},getSuggestions:function(b){var c=
this,d=c.options,e=d.serviceUrl;d.params[d.paramName]=b;var f=d.ignoreParams?null:d.params;c.suggestionsContainer.jqObject.html('<div class="autocomplete-suggestion-searching"><span></span></div>');if(!1!==d.onSearchStart.call(c.element,d.params))if(a.isFunction(d.lookup))d.lookup(b,function(a){c.suggestions=a.suggestions;c.suggest();d.onSearchComplete.call(c.element,b,a.suggestions)});else{if(c.isLocal)var m=c.getSuggestionsLocal(b);else{a.isFunction(e)&&(e=e.call(c.element,b));var g=e+"?"+a.param(f||
{});m=c.cachedResponse[g]}m&&a.isArray(m.suggestions)?(c.suggestions=m.suggestions,c.suggest(),d.onSearchComplete.call(c.element,b,m.suggestions)):c.isBadQuery(b)?d.onSearchComplete.call(c.element,b,[]):(c.currentRequest&&c.currentRequest.abort(),m={url:e,data:f,type:d.type,dataType:d.dataType},a.extend(m,d.ajaxSettings),c.currentRequest=a.ajax(m).done(function(a){c.currentRequest=null;a=d.transformResult(a);c.processResponse(a,b,g);d.onSearchComplete.call(c.element,b,a.suggestions)}).fail(function(a,
g,e){d.onSearchError.call(c.element,b,a,g,e)}))}},isBadQuery:function(a){if(!this.options.preventBadQueries)return!1;for(var b=this.badQueries,d=b.length;d--;)if(0===a.indexOf(b[d]))return!0;return!1},hide:function(){this.visible=!1;this.selectedIndex=-1;clearInterval(this.onChangeInterval);a(this.suggestionsContainer).hide();this.signalHint(null)},suggest:function(){if(0===this.suggestions.length)this.options.showNoSuggestionNotice?this.noSuggestions():this.hide();else{var b=this.options,c=b.groupBy,
d=b.formatResult,e=this.getQuery(this.currentValue),f=this.classes.suggestion,m=this.classes.selected,g=a(this.suggestionsContainer),l=a(this.noSuggestionsContainer),B=b.beforeRender,x="",A;if(b.triggerSelectOnValidInput){var E=this.findSuggestionIndex(e);if(-1!==E){this.select(E);return}}a.each(this.suggestions,function(a,b){if(c){var g=x;var l=b.data[c];A===l?l="":(A=l,l='<div class="autocomplete-group"><strong>'+A+"</strong></div>");x=g+l}x+='<div class="'+f+'" data-index="'+a+'">'+d(b,e)+"</div>"});
this.adjustContainerWidth();l.detach();g.html(x);a.isFunction(B)&&B.call(this.element,g);this.fixPosition();g.show();b.autoSelectFirst&&(this.selectedIndex=0,g.scrollTop(0),g.children().first().addClass(m));this.visible=!0;this.findBestHint()}},noSuggestions:function(){var b=a(this.suggestionsContainer),c=a(this.noSuggestionsContainer);this.adjustContainerWidth();c.detach();b.empty();b.append(c);this.fixPosition();b.show();this.visible=!0},adjustContainerWidth:function(){var b=this.options,c=a(this.suggestionsContainer);
"auto"===b.width&&(b=this.el.outerWidth()-2,c.width(0<b?b:300))},findBestHint:function(){var b=this.el.val().toLowerCase(),c=null;b&&(a.each(this.suggestions,function(a,e){(a=0===e.value.toLowerCase().indexOf(b))&&(c=e);return!a}),this.signalHint(c))},signalHint:function(b){var c="";b&&(c=this.currentValue+b.value.substr(this.currentValue.length));this.hintValue!==c&&(this.hintValue=c,this.hint=b,(this.options.onHint||a.noop)(c))},verifySuggestionsFormat:function(b){return b.length&&"string"===typeof b[0]?
a.map(b,function(a){return{value:a,data:null}}):b},validateOrientation:function(b,c){b=a.trim(b||"").toLowerCase();-1===a.inArray(b,["auto","bottom","top"])&&(b=c);return b},processResponse:function(a,c,d){var b=this.options;a.suggestions=this.verifySuggestionsFormat(a.suggestions);b.noCache||(this.cachedResponse[d]=a,b.preventBadQueries&&0===a.suggestions.length&&this.badQueries.push(c));c===this.getQuery(this.currentValue)&&(this.suggestions=a.suggestions,this.suggest())},activate:function(b){var c=
this.classes.selected,d=a(this.suggestionsContainer),e=d.find("."+this.classes.suggestion);d.find("."+c).removeClass(c);this.selectedIndex=b;return-1!==this.selectedIndex&&e.length>this.selectedIndex?(b=e.get(this.selectedIndex),a(b).addClass(c),b):null},selectHint:function(){var b=a.inArray(this.hint,this.suggestions);this.select(b)},select:function(a){this.hide();this.onSelect(a)},moveUp:function(){-1!==this.selectedIndex&&(0===this.selectedIndex?(a(this.suggestionsContainer).children().first().removeClass(this.classes.selected),
this.selectedIndex=-1,this.el.val(this.currentValue),this.findBestHint()):this.adjustScroll(this.selectedIndex-1))},moveDown:function(){this.selectedIndex!==this.suggestions.length-1&&this.adjustScroll(this.selectedIndex+1)},adjustScroll:function(b){var c=this.activate(b);if(c){var d=a(c).outerHeight();c=c.offsetTop;var e=a(this.suggestionsContainer).scrollTop();var f=e+this.options.maxHeight-d;c<e?a(this.suggestionsContainer).scrollTop(c):c>f&&a(this.suggestionsContainer).scrollTop(c-this.options.maxHeight+
d);this.options.preserveInput||this.options.linkedSuggestion||this.el.val(this.getValue(this.suggestions[b].value));this.signalHint(null)}},onSelect:function(b){var c=this.options.onSelect;b=this.suggestions[b];this.currentValue=this.getValue(b.value);this.currentValue===this.el.val()||this.options.preserveInput||this.options.linkedSuggestion||this.el.val(this.currentValue);this.signalHint(null);this.suggestions=[];this.selection=b;a.isFunction(c)&&c.call(this.element,b)},getValue:function(a){var b=
this.options.delimiter;if(!b)return a;var d=this.currentValue;b=d.split(b);return 1===b.length?a:d.substr(0,d.length-b[b.length-1].length)+a},dispose:function(){this.el.off(".autocomplete").removeData("autocomplete");this.disableKillerFn();a(window).off("resize.autocomplete",this.fixPositionCapture);a(this.suggestionsContainer).remove()}};a.fn.autocomplete=a.fn.devbridgeAutocomplete=function(b,c){return 0===arguments.length?this.first().data("autocomplete"):this.each(function(){var d=a(this),f=d.data("autocomplete");
if("string"===typeof b){if(f&&"function"===typeof f[b])f[b](c)}else f&&f.dispose&&f.dispose(),f=new e(this,b),d.data("autocomplete",f)})}});
var Pushbar=function(a){a=void 0===a?{overlay:!0,blur:!1}:a;this.activeId;this.activeElement;this.overlayElement;a.overlay&&(this.overlayElement=document.createElement("div"),this.overlayElement.classList.add("pushbar_overlay"),document.querySelector("body").appendChild(this.overlayElement));a.blur&&(a=document.querySelector(".pushbar_main_content"))&&a.classList.add("pushbar_blur");this.bindEvents()};
Pushbar.prototype.emitOpening=function(){var a=new CustomEvent("pushbar_opening",{bubbles:!0,detail:{element:this.activeElement,id:this.activeId}});this.activeElement.dispatchEvent(a)};Pushbar.prototype.emitClosing=function(){var a=new CustomEvent("pushbar_closing",{bubbles:!0,detail:{element:this.activeElement,id:this.activeId}});this.activeElement.dispatchEvent(a)};Pushbar.prototype.handleOpenEvent=function(a){a.preventDefault();a=a.currentTarget.getAttribute("data-pushbar-target");this.open(a)};
Pushbar.prototype.handleCloseEvent=function(a){a.preventDefault();this.close()};Pushbar.prototype.handleKeyEvent=function(a){27===a.keyCode&&this.close()};
Pushbar.prototype.bindEvents=function(){var a=this,e=document.querySelectorAll("[data-pushbar-target]"),f=document.querySelectorAll("[data-pushbar-close]");e.forEach(function(b){return b.addEventListener("click",function(b){return a.handleOpenEvent(b)},!1)});f.forEach(function(b){return b.addEventListener("click",function(b){return a.handleCloseEvent(b)},!1)});this.overlayElement&&this.overlayElement.addEventListener("click",function(b){return a.handleCloseEvent(b)},!1);document.addEventListener("keyup",
function(b){return a.handleKeyEvent(b)})};Pushbar.prototype.open=function(a){if(this.activeId!==String(a)&&a&&(this.activeId&&this.activeId!==String(a)&&this.close(),this.activeId=a,this.activeElement=document.querySelector('[data-pushbar-id="'+this.activeId+'"]'))){this.emitOpening();this.activeElement.classList.add("opened");var e=document.querySelector("html");e.classList.add("pushbar_locked");e.setAttribute("pushbar",a)}};
Pushbar.prototype.close=function(){if(this.activeId){this.emitClosing();this.activeElement.classList.remove("opened");var a=document.querySelector("html");a.classList.remove("pushbar_locked");a.removeAttribute("pushbar");this.activeElement=this.activeId=null}};$(function(){initPreviousPageButton()});function initPreviousPageButton(){$(".previous-page").on("click",function(){window.history.back()})}$.extend(app,{global_event:$({}),widget:{}});
var site={width:$(window).width(),height:$(window).height(),registered_hooks:{},hook:{register:function(a,e){var f=site.registered_hooks[a];f||(f=site.registered_hooks[a]=[]);f.push(e)},fire:function(a,e,f){(a=site.registered_hooks[a])&&a.everyCustomFunc(function(){e=this.apply(null,[e].concat(f))})}},fncts:{}},responsiveMenuManager={closeFunction:null,open:function(a,e){this.closeFunction&&this.closeFunction();a();this.closeFunction=e},close:function(){this.closeFunction&&this.closeFunction();this.closeFunction=
null}},renderSitePopup,renderGlobalSitePopup,renderAddToCartPopup,loadAdvancedFlyingCart,renderFlyingCart,adjustCartWidgetQuantity,renderInfoChooserPopup,addProductInCart;
function collectCartData(a,e,f){if(a.find(".included-products-container[combination-flexible]").length){var b={};a.find(".included-quantity-selector").each(function(){var a=$(this),d=a.attr("pId");b[d]=a.val()});b=b?JSON.stringify(b):null}else a.find(".included-quantity-selector-hidden").length&&(b={},a.find(".included-quantity-selector-hidden").each(function(){var a=$(this),d=a.attr("pId");b[d]=a.val()}),b=b?JSON.stringify(b):null);e.included=b;a.find(".param-dump").length&&$.extend(e,a.find(".param-dump").serializeObject());
site.hook.fire("prepareAddCartData",e,[a,e.productId,e.quantity,f])}
function thirdPartyAnalyticsAddToCartEvent(a){var e=a.productObject;a=a.cartProductDataMap;var f=$("#third-party-analytics-config-container");if(f.length){var b=f.find("#currency-for-third-party-analytics"),c=f.find("#google-analytics-add-to-cart-event");c.length&&"true"===c.val()&&(console.log("google analytics event: add_to_cart"),gtag("event","add_to_cart",{currency:b.val(),value:a.cartPageDisplayTotal,items:[{item_id:e.sku,item_name:e.name,price:a.cartPageDisplayUnitPrice,quantity:a.quantity}]}));
e=f.find("#facebook-pixel-add-to-cart-event");0<e.length&&"true"===e.val()&&fbq("track","AddToCart")}}
addProductInCart=function(a,e,f,b){b=b?b:$(this);var c=b.config("cart"),d=b.closest(".page-content, .popup, .product-block, .add-cart-info-block");c=c.quantity;var h=b.attr("product-id"),k=b.attr("storeId"),m={productId:h,quantity:c};m.externalProperties=a;k?m.storeId=k:"";b.is(".buy-now-button")&&(m.buyNow=!0);collectCartData(d,m,!1);bm.ajax({url:app.baseUrl+"cart/add",data:m,type:"post",success:function(c){f&&f();var g=$(c.html);if("added"==c.status){var k=c.buyNow&&c.productObject.isSoldOut,x=
c.buyNow&&0>=c.productObject.availableStock&&c.productObject.isInventoryEnabled;k=!c.isFlyingCartEnabled||k||x;x=c.productObject.isSoldOut;var A=0>=c.productObject.availableStock&&c.productObject.isInventoryEnabled;x=!c.isFlyingCartEnabled||x||A;site.hook.fire("itemAddedIntoCart",m,[d,m.productId,m.quantity]);k||c.isCombined?renderAddToCartPopup(g):c.buyNow?window.location.href=app.baseUrl+"shop/checkout":x?renderAddToCartPopup(g):loadAdvancedFlyingCart();thirdPartyAnalyticsAddToCartEvent(c)}else"redirect-to"==
c.status?window.location.href=app.baseUrl+"product/"+c.url:"incomplete-info"==c.status?renderInfoChooserPopup(h,g):"restrict"==c.status&&(c.externalData&&c.externalData.addToCartRestrictionTypeYesNo?bm.confirm(c.alrtMessage,function(){c.isFlyingCartEnabled?(a=a?$.extend(a,{isAllowedToConvertAllToPreOrder:c.externalData.isAskToPreOrder}):{isAllowedToConvertAllToPreOrder:c.externalData.isAskToPreOrder},a=JSON.stringify(a),addProductInCart(a,e,f,b)):window.location.href=app.baseUrl+c.redirectLink},function(){a=
a?$.extend(a,{preOrderConversionRequired:!1}):{preOrderConversionRequired:!1};a=JSON.stringify(a);addProductInCart(a,e,f,b)}):bm.confirm(c.alrtMessage,function(){c.isFlyingCartEnabled?loadAdvancedFlyingCart():window.location.href=app.baseUrl+c.redirectLink},void 0,void 0,{yesButtonTitle:"OK"}));e&&e()}})};
var addBulkProductInCart=function(a,e){var f=$(this);a=f.closest(".page-content");var b=a.find(".product-quantity-selector-bulk"),c=a.find("input.product-quantity-selector-bulk.validation-error").length;b.each(function(){if("0"!=this.jqObject.val())return c=!0,!1});if(c){var d=[];$(".product-quantity-selector-bulk").each(function(){var a=$(this),b=f.attr("storeId");a={productId:a.attr("product-id"),quantity:a.val(),"config.variation":a.attr("product-variation")};b?a.storeId=b:"";d.push(a)});bm.ajax({url:app.baseUrl+
"variation/addBulkProductToCart",data:{productDataList:JSON.stringify(d)},type:"post",success:function(a){var b=$(a.html);"added"==a.status?renderAddToCartPopup(b):"redirect-to"==a.status?window.location.href=app.baseUrl+"product/"+a.url:"restrict"==a.status&&bm.confirm(a.alrtMessage,function(){window.location.href=app.baseUrl+a.redirectLink},void 0,void 0,{yesButtonTitle:"OK"});e&&e()}})}};bm.addProductInCart=addProductInCart;
function renderMessage(a,e,f,b,c){a=a?a:$("[section=body]");var d=$('<div class="message-block '+f+'">'+e+"</div>");a[c?c:"prepend"](d);d.scrollHere();setTimeout(function(){d.remove()},b||5E3)}
app.captchaUtil=function(){var a=[];return{reloadCaptcha:function(e){"simple_captcha"==e?(e=$(".simple-captcha img")[0].src,e=bm.path(e),e.query._=(new Date).getTime(),e=e.full(),$(".simple-captcha img").attr("src",e),$(".simple_captcha_input_field > input[name=captcha]").val("")):"re_captcha"==e&&a.forEach(function(a){void 0!=a&&grecaptcha.reset(a)})},bindReCaptcha:function(e,f,b){bm.onReady(window,"grecaptcha",{not:f,ready:function(){grecaptcha.ready(function(){var c=grecaptcha.render(e.attr("id"),
e.config("config"));a.push(c);b.attr("disabled",!1)})}})},bindV3:function(a){var e=$(".recaptcha-v3-container");for(a=1;e.length>a;a++)e[a].remove();try{bm.onReady(window,"grecaptcha",{not:function(){bm.addScript("https://www.google.com/recaptcha/api.js?&render="+e.attr("config-sitekey"),!1)},ready:function(){grecaptcha.ready(function(){function a(){var a=e.attr("config-sitekey");grecaptcha.execute(a,{action:"submit"}).then(function(a){e.find("#"+e.attr("token-field-id")).attr("value",a)})}e.parent().find("button[type='submit']").on("click",
function(){a()});a()})}})}catch(b){console.log(b.message)}}}}();
$(function(){$(".zoom-able-image-to-preview").click(function(){imageZoomPreview(this.jqObject)});var a=$("#content-settings-disable-image-popup-in-text-editor");a.length&&"false"!==a.val()||$("figure img").click(function(){var a=this.jqObject,f=a.parent();f.is("a")?"true"==f.attr("target")&&imageZoomPreview(a):imageZoomPreview(a)});imageZoomPreview=function(a){var e=$('<div class="image-popup-container-for-zoom-preview"></div>');e.addClass("loading");e.popup({content:e,is_always_up:!0,show_close:!0,
close_on_blur:!0,is_center:!0,masking:!0,draggable:!1});var b=$('<span class="close-button-for-zoom-preview"></span><span class="image-wrapper-for-zoom-preview"><span class="image-loader-for-zoom-preview"></span><img class="popup-image-for-zoom-preview"></span>');e.append(b);e.find(".popup-image-for-zoom-preview").on("load",function(){e.removeClass("loading").obj(POPUP).position()});(function(){var b=a.attr("src");e.addClass("loading").find(".popup-image-for-zoom-preview").attr("src",b)})();bm.disableBackgroundScroll();
e.find(".close-button-for-zoom-preview").click(function(){e.obj(POPUP).close()})}});
$(function(){function a(a){var c=b("multilingualCountry"),d="",g="";bm.ajax({url:app.baseUrl+"page/getMultiLanguageSettings",type:"GET",success:function(b){b.config?(g=b.config.ipAddress,d=b.config.popup_message,bm.ajax({dataType:"json",method:"POST",url:app.baseUrl+"shop/getCountryCodeByUrl",data:{location:window.location.href},success:function(l){if("undefined"!=c&&null!=c&&""!=c)l.countryCode!=c.toUpperCase()&&("true"!=b.config.redirect_automatically?bm.ajax({dataType:"json",method:"POST",url:app.baseUrl+
"shop/getStoreDetails",data:{location:window.location.href,countryCode:l.countryCode},success:function(a){a.url&&(f("multilingualCountry",a.countryCode,1E3),location.href=a.url)}}):1!=l.isCountrySelected&&e(d,c.toUpperCase(),a));else{var h=null;"true"==b.config.detect_origin_from_browser?bm.ajax({dataType:"json",method:"GET",async:!1,url:"https://geolocation-db.com/json/",success:function(a){h=a.country_code}}):bm.ajax({dataType:"json",method:"GET",async:!1,url:"http://www.geoplugin.net/json.gp?ip="+
g,success:function(a){h=geoplugin_countryCode}});"true"!=b.config.redirect_automatically?bm.ajax({dataType:"json",method:"POST",url:app.baseUrl+"shop/getStoreDetails",data:{location:window.location.href,countryCode:b.country_code},success:function(a){a.url&&(f("multilingualCountry",a.countryCode,1E3),location.href=a.url)}}):l.countryCode.toLowerCase()!=h.toLowerCase()&&a.includes(h.toLowerCase())&&e(d,h,a)}}})):$(".widget-languageSelector").attr("hidden",!0)}});var h=$(".language-go-to");$(".language-cancel").on("click",
function(a){$(".language-popup").attr("hidden",!0)});h.on("click",function(a){$(".language-popup").attr("hidden",!0);bm.ajax({dataType:"json",method:"POST",url:app.baseUrl+"shop/getStoreDetails",data:{location:window.location.href,countryCode:selectedCountryCode},success:function(a){a.url&&(location.href=a.url)}})})}function e(a,b,c){var d=$('<div class="site-popup popup multi-language active" style="background: #FFFFFF" tabindex="0"></div>');d.popup({content:d,is_always_up:!0,show_close:!0,close_on_blur:!0,
is_center:!0,masking:!0,draggable:!1,animation_clazz:"",closing_animation_clazz:"",is_fixed:!0});var g=$('<span class="header-label"><div class="title"> We\'ve detected you might from adifferent country </div><div class="label"> Do you want to change to : </div> </span>'),e=$('<div class="select-wrapper"> <div class="form-item">\n<input id="popup_country_selector" type="text" readonly="readonly">\n<label for="popup_country_selector" style="display:none;">Select a country here...</label>\n</div>\n<div class="form-item" style="display:none;">\n<input type="text" id="popup_country_selector_code" name="popup_country_selector_code" data-countrycodeinput="1" readonly="readonly"  />\n<label for="popup_country_selector_code"></label>\n</div> <button name="language-select-continue" id="language-select-continue" class="language-select-continue">Change Country</button> </div>'),
l=$('<div class="language-popup-close">\n    <button name="language-select-cancel" id="language-select-cancel" class="language-select-cancel">Close and do not switch country</button> </div></div>');d.append(g);d.append(e);d.append(l);a&&d.find(".header-label").html(a);$("#popup_country_selector").countrySelect({onlyCountries:c});"undefined"!=b.toLowerCase()&&null!=b.toLowerCase&&$("#popup_country_selector").countrySelect("selectCountry",b.toLowerCase());d.find(".language-select-continue").on("click",
function(){var a=d.find("#popup_country_selector_code").val();bm.ajax({dataType:"json",method:"POST",url:app.baseUrl+"shop/getStoreDetails",data:{location:window.location.href,countryCode:a},success:function(b){b.url&&(f("multilingualCountry",a,1E3),location.href=b.url)}})});d.find(".language-select-cancel").on("click",function(){var a=d.find("#popup_country_selector_code").val();bm.ajax({dataType:"json",method:"POST",url:app.baseUrl+"shop/getStoreDetails",data:{location:window.location.href,countryCode:a},
success:function(b){d.obj(POPUP).close();b.url&&(f("multilingualCountry",a,1E3),location.href=b.url)}})});d.updateUi()}function f(a,b,c){var d=new Date;d.setTime(d.getTime()+864E5*c);c="expires="+d.toUTCString();document.cookie=a+"="+b+";"+c+";path=/"}function b(a){a+="=";for(var b=document.cookie.split(";"),c=0;c<b.length;c++){for(var d=b[c];" "==d.charAt(0);)d=d.substring(1);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return""}function c(a,b,c){var d=c.find(".message-block");d.length||
(d=$("<div class='message-block'></div>"),c.prepend(d));b?d.removeClass("error-message").addClass("info-message").html(a):d.removeClass("info-message").addClass("error-message").html(a);setTimeout(function(){d.remove()},app.config.newsletter_subscription_message_display_time)}(function(){var c=b("multilingualCountry"),d=[];console.log(app.baseUrl,"eee");setTimeout(function(){bm.ajax({dataType:"json",url:app.baseUrl+"shop/multiStoreCountryList",async:!1,data:{location:window.location.href},success:function(b){var g=
0;b.countryList.forEach(function(a){d[g]=a.code.toLowerCase();g++});setTimeout(function(){$("#country_selector").countrySelect({onlyCountries:d})},10);void 0==c||"undefined"==c||null==c||""==c?setTimeout(function(){$("#country_selector").countrySelect("selectCountry",b.countryCode.toLowerCase())},10):setTimeout(function(){$("#country_selector").countrySelect("selectCountry",c.toLowerCase())},10);a(d)}})},50);$("#country_selector").on("change",function(a){var b=$("#country_selector_code").val();bm.ajax({dataType:"json",
method:"POST",async:!1,url:app.baseUrl+"shop/getStoreDetails",data:{location:window.location.href,countryCode:b},success:function(a){f("multilingualCountry",b,1E3);a.url&&(location.href=a.url)}})})})();$(".valid-verify-form").form({text_change_on_submit:!1});$(".quick-signup-form").form();$(".date-of-birth-row").updateUi();renderSitePopup=function(a,b){var c=a.el||$();a=$.extend({is_fixed:!0,is_always_up:!0},a);void 0==a.animation_clazz&&(a.animation_clazz=app.config.site_popup_animation_clazz);c.find(".close-popup, .continue-shopping-btn, .close-btn").click(function(){b.close()});
c.find(".add-to-cart-button").click(function(){var a=c.find("form");a.length?a.valid()&&b.close():b.close()});!b||b.is_closed?b=new POPUP(a):b.setContent(c.children());return b};renderGlobalSitePopup=function(a,b){b=$.extend({auto_close:4E4,el:a},b);site.global_single_popup=renderSitePopup(b,site.global_single_popup);return site.global_single_popup};renderInfoChooserPopup=function(a,b,c,d){app.global_event.trigger("initialize-info-chose-popup",[a,b]);renderGlobalSitePopup(b,{clazz:"add-cart-information-popup"});
var g=b.find(".included-products-container");g.length&&initializeCombination(a,g);a=b.find(".store-selection");a.length&&(b.find(".add-to-cart-button, .buy-now-button").attr("storeId",a.find(":selected").val()),a.on("change",function(){b.find(".add-to-cart-button, .buy-now-button").attr("storeId",$(this).find(":selected").val())}));b.find(".add-to-cart-button, .buy-now-button").click(function(){$(this).is(".disabled")||addProductInCart.call(this)});b.find("."+c).click(function(){$(this).is(".disabled")||
d&&d.call(this)})};loadAdvancedFlyingCart=function(){var a=$("#webcommander-page .flying-cart-content.page-content");a.length?renderFlyingCart(a,{disableThirdPartyAnalytics:!0}):(a=$('<div class="flying-cart-content page-content" style="background: #FFFFFF" tabindex="0"></div>'),a.addClass("loading"),a.popup({content:a,is_always_up:!0,show_close:!0,close_on_blur:!0,is_center:!1,masking:!0,draggable:!1,height:window.innerHeight-1,width:660,left:window.innerWidth-660,top:1,animation_clazz:"flying-cart-appear-animation",
closing_animation_clazz:"flying-cart-closing-animation",is_fixed:!0}),a.loader("flying-cart-loader"),renderFlyingCart(a),bm.disableBackgroundScroll())};adjustCartWidgetQuantity=function(a,b,c,d){a=a.closest("#webcommander-page").find(".cart-widget-text");a.is(".distinct-item-count")&&a.text(b);a.is(".item-count")&&a.text(c);a.is(".total-amount")&&a.text("$ | "+d)};var d=function(a,b,c){a.loader("flying-cart-loader");bm.ajax({url:app.baseUrl+"cart/updateQuantity",data:{quantity:b,cartItemId:c},success:function(b){$.each(b.cartData,
function(b,c){b=b.minusCase();a.find("."+b).text(c)});a.find(".cart-item").each(function(){var a=this.jqObject,c=+a.attr("item-id");$.each(b.cartItemsData[+c],function(b,c){a.find("."+b.minusCase()).text(c)});a.find(".flying-cart-product-quantity-selector").val(b.cartItemsData[c].cartItemQuantity)});a.loader(!1);adjustCartWidgetQuantity(a,b.distinctCartItem,b.totalCartItem,b.totalAmount)},error:function(b,d,e){a.loader(!1);renderMessage(a.find(".cart-item-row.flying-cart-item[item-id='"+c+"']").find(".flying-cart-item-name-quantity-wrapper"),
e.message,e.status+"-message in-cell-message-block",app.config.shopping_cart_page_message_display_time,"append")}})},h=function(a,b){a.loader("flying-cart-loader");var c=!0;$("#webcommander-page").hasClass("do-not-remove-cart-preview")&&(c=!1);bm.ajax({url:app.baseUrl+"cart/removeFromFlyingCart",data:{itemId:b,clearEmptyCart:c},success:function(c){0==c.totalCartItem?(renderFlyingCart(a,{disableThirdPartyAnalytics:!0}),site.hook.fire("removeCart",a.closest("#webcommander-page"))):($.each(c.cartData,
function(b,c){b=b.minusCase();a.find("."+b).text(c)}),a.find(".cart-item").each(function(){var a=this.jqObject,d=+a.attr("item-id");d===+b?a.remove():($.each(c.cartItemsData[+d],function(b,c){a.find("."+b.minusCase()).text(c)}),a.find(".flying-cart-product-quantity-selector").val(c.cartItemsData[d].cartItemQuantity))}),a.loader(!1))}})};renderFlyingCart=function(a,b){b=void 0===b?{}:b;bm.ajax({url:app.baseUrl+"cart/advancedFlyingCart",data:b,dataType:"html",success:function(b){a.html(b);a.find(".flying-cart-close-button").click(function(){a.obj(POPUP).close()});
b=a.find("input[name='distinctItemCount']").val();var c=a.find("input[name='totalItemCount']").val(),e=a.find("input[name='totalAmount']").val();adjustCartWidgetQuantity(a,b,c,e);bindProductQuantitySpinner();a.find(".flying-cart-quantity.cartitem-table .stepper").on("min",function(){this.jqObject.find(".stepper-input").trigger("ichange")});a.find(".flying-cart-quantity.cartitem-table .stepper").on("max",function(){this.jqObject.find(".stepper-input").trigger("ichange")});b=a.find(".flying-cart-quantity .stepper input.flying-cart-product-quantity-selector");
b.on("before-step-change",function(){$(this).focus()});b.ichange(700,function(){var b=this.jqObject,c=b.attr("item-id");b=b.val();0!=b&&this.value&&d(a,b,c)}).numeric();a.find(".flying-cart-remove-wrapper .flying-cart-item-remove").on("click",function(){var b=this.jqObject.attr("item-id");h(a,b)});a.find(".empty-flying-cart-wrapper .empty-flying-cart-icon").on("click",function(){bm.ajax({url:app.baseUrl+"cart/emptyFlyingCart",success:function(b){renderFlyingCart(a);adjustCartWidgetQuantity(a,b.distinctCartItem,
b.totalCartItem,b.totalAmount);site.hook.fire("removeCart",a.closest("#webcommander-page"))}})});a.loader(!1)}})};renderAddToCartPopup=function(a){var b=renderGlobalSitePopup(a,{clazz:"add-to-cart-popup",animation_clazz:app.config.add_to_cart_popup_animation_clazz,auto_close:!1});a=b.el;bindProductQuantitySpinner(a);var c=a.find(".message-block:not(.no-quantity-error)");c.length&&setTimeout(function(){c.remove()},5E3);if(0<a.closest("#webcommander-page").find(".widget-cart .advanced-flying-cart").length)a.find(".popup-bottom .button-item .cart-page-button").on("click",
function(a){a.preventDefault();b.close();loadAdvancedFlyingCart(this)});a.find(".product-quantity-selector").ichange(600,function(){if(this.value){var b=a.find("[name=itemId]").val(),c={quantity:this.value,cartItemId:b};site.hook.fire("prepareAddCartData",c,[a]);bm.ajax({url:app.baseUrl+"cart/updateQuantity",data:c,success:function(c){c.message&&renderMessage(a.find(".body"),c.message,c.status);$.each(c.cartData,function(b,c){a.find("."+b.minusCase()).text(c)});$.each(c.cartItemsData[+b],function(b,
c){a.find("."+b.minusCase()).text(c)});app.global_event.trigger("update-cart")},error:function(b,c,d){renderMessage(a.find(".body"),d.message,d.status)}})}}).numeric();app.global_event.trigger("update-cart")};bindPreviousNextClickEvent=function(){function a(a,b,c,d){bm.ajax({url:app.baseUrl+"page/product",data:{productId:a,direction:b,categoryId:c,productSorting:d},success:function(a){a.url&&(window.location.href=app.baseUrl+"product/"+a.url+"?categoryId="+a.categoryId+"&productSorting="+a.productSorting)}})}
var b=$(".prev-btn"),c=$(".next-btn"),d=b.attr("product-parent"),e=b.attr("prev"),f=c.attr("next"),h=b.attr("category-id");if(!d&&!h||"true"!=e&&"true"!=f)b.hide(),c.hide();"true"!=e?b.addClass("disabled"):b.click(function(){var c=b.attr("product-id"),d=b.attr("product-sorting");a(c,"prev",h,d)});"true"!=f?c.addClass("disabled"):c.click(function(){var b=c.attr("product-id"),d=c.attr("product-sorting");a(b,"next",h,d)})};bindAddToCartClickEvent=function(a){var b=$(".add-to-cart-button, .buy-now-button");
null!=a&&(b=a.find(".add-to-cart-button, .buy-now-button"));b.click(function(){$(this).is(".disabled")||addProductInCart.call(this)});var c=$(".page-content");c.find(".product-widget.widget-bulkVariation .bulk-variation-widget-container").length&&(c.find(".product-widget.widget-addCart").hide(),c.find(".add-to-cart-button-bulk").click(function(){var a=c.find(".product-widget.widget-bulkVariation").valid();!$(this).is(".disabled")&&a&&addBulkProductInCart.call(this)}),c.find(".product-widget.widget-bulkVariation").valid())};
bindAddToCartClickEvent();bindPreviousNextClickEvent();bindProductQuantitySpinner=function(a){var b=$(".product-quantity-selector.text-type");null!=a&&(b=a.find(".product-quantity-selector.text-type"));b.each(function(){var a=$(this),b=a.config("spin");b.et_data={up:{clazz:"et_cartp_increase_quantity",attr:{"et-category":"button"}},down:{clazz:"et_cartp_decrease_quantity",attr:{"et-category":"button"}}};a.stepper(b)})};bindProductQuantitySpinner();bm.initCountryChangeHandler($(".country-selector-row select"));
$(".widget-currency select").on("change",function(){var a=$(this);bm.ajax({url:app.baseUrl+"app/changeCurrency",data:{currencyId:a.val()},dataType:"json",success:function(a){location.reload()}})});$(".widget-newsletter > .newsletter.inplace, .newsletter.subscribe").form("prop","ajax",{url:app.baseUrl+"shop/newsletterSubscription",success:function(a,b,d,e){e.find("input[type=text]").val("");c(a.message,!0,e)},error:function(a,b,d,e){c(d.message,!1,e)}});$(".newsletter.unsubscribe").form("prop","ajax",
{url:app.baseUrl+"shop/newsletterUnsubscription",success:function(a,b,d,e){var g=e.find("input[name=sid]").val();e.parent();var f=$(a.html);f.find(".link.resubscribe").on("click",function(){bm.ajax({url:app.baseUrl+"shop/newsletterResubscription",data:{sid:g,immediate:!0},success:function(a){c(a.message,!0,f)},error:function(a,b,d){c(d.message,!1,f)}})});e.replaceWith(f)},error:function(a,b,d,e){c(d.message,!1,e)}});$(".gust-oder-comment-page .oder-comment-form").form({ajax:{success:function(a,b,
c,d){b=$(".gust-oder-comment-page .comment-area");a=$("<div class='comment-row customer'><span class='name'>"+$.i18n.prop(a.customerName?a.customerName:"customer")+" </span><span class='date-time-row'><span class='date-time'>"+a.date+"</span><span class='show-comment'>"+a.message+"</span></span></div>");b.append(a);d.find("textarea").val("");b.animate({scrollTop:b[0].scrollHeight},"slow")},error:function(a,b,d,e){a=$(".gust-oder-comment-page .comment-area");c(d.message,!1,a)}}});$(".widget-newsletter > .submit-button.page-button").on("click",
function(){location.href=app.baseUrl+"subscription"});$(".widget-newsletter > .submit-button.floating-subscription-button").on("click",function(){var a=$(".newsletter.floating-subscription-hidden-panel").html(),b=renderGlobalSitePopup($(a),{clazz:"newsletter-floating-subscription-popup",animation_clazz:app.config.site_popup_animation_clazz,auto_close:!1}).el;b.form({text_change_on_submit:!1});b.form("prop","ajax",{url:app.baseUrl+"shop/newsletterSubscription",success:function(a,d,e,g){g.find("input[type=text]").val("");
c(a.message,!0,g.find(".body"));setTimeout(function(){b.find(".close-popup.close-icon").trigger("click")},1E3)},error:function(a,b,d,e){c(d.message,!1,e.find(".body"))}})});initializeProductWidget();initCartWidget();initializePagination();var k=$(".server-message");k.length&&(k.scrollHere(),setTimeout(function(){k.remove()},app.config.server_message_display_time));$(".bmui-tab").tabify();$(".product-block .product-quantity-selector.text-type").on("change spinchange",function(){$(this).parents(".price-n-cart").find(".add-to-cart-button, .buy-now-button").config("cart",
{quantity:this.value})});$(this).find(".date-picker").each(function(){var a=$(this),b=a.attr("date-range-start")?a.attr("date-range-start"):!1,c=a.attr("date-range-end")?a.attr("date-range-end"):!1;b=b||c?[b,c]:a.attr("no-previous")?!0:a.attr("no-next")?!1:void 0;a.date({direction:b,show_select_today:!1,lang_clear_date:$.i18n.prop("clear")})});$(this).find(".date-time-picker").each(function(){var a=$(this),b=a.attr("date-range-start")?a.attr("date-range-start"):!1,c=a.attr("date-range-end")?a.attr("date-range-end"):
!1;b=b||c?[b,c]:a.attr("no-previous")?!0:a.attr("no-next")?!1:void 0;c="12"==a.attr("time-format")?"hh:mm:tt":"HH:mm";a.date({direction:b,show_select_today:!1,lang_clear_date:$.i18n.prop("clear"),time:c})});if($(".recaptcha-container").length){var m=$(".recaptcha-container").closest("form").find(".submit-button");m.attr("disabled",!0)}$(".recaptcha-container").each(function(){app.captchaUtil.bindReCaptcha(this.jqObject,null,m)});$(".recaptcha-v3-container").each(function(){app.captchaUtil.bindV3(this.jqObject)})});
function initializePagination(){function a(a){var b=a.data("wcuiPagination");a=a.data("urlprefix")+"-";var c=bm.path(document.location.href);c.query[a+"offset"]=(b.currentPage-1)*b.itemsPerPage;c.query[a+"max"]=b.all?"-1":b.itemsPerPage;return c.full()}var e=$("paginator");0!=e.length&&(e.each(function(){$(this).paginator({showPages:800<window.innerWidth?app.config.number_block_in_paginator_count:app.config.number_block_in_paginator_count_800})}),$(".pagination").each(function(){$(this).obj().onPageClick=
function(){window.location.href=a($(this))}}),$(".per-page-count").change(function(){var e=$(this).siblings(".pagination");e.obj().setItemsPerPage(+this.value);window.location.href=a(e)}))}
function initializeProductWidget(){$(".product-sorting").change(function(){var a=$(this),e=a.attr("urlprefix"),f=bm.path(document.location.href);f.query[e+"-sort"]=a.val();window.location.href=f.full()});$(".scrollable-view").each(function(){var a=$(this),e=a.find(">.header");a.find(".content").scrollbar({show_vertical:!1,show_horizontal:!0,use_bar:!1,visible_on:"always",horizontal:{step:"auto",handle:{left:e.find(".scroll-left"),right:e.find(".scroll-right")}}})});bindProductQuantitySpinner()}
function initCartWidget(){function a(a){a.find(".cart-wrapper.quick-cart").click(function(){var a=$(this).siblings(".quick-cart-content");a.hasClass("show")||(a.is(":hidden")?(a.stop(!0).slideDown(),a.focus().one("blur",function(){setTimeout(function(){a.stop(!0).slideUp()},200)})):a.stop(!0).slideUp())});a.find(".cart-menu-button").on("click",function(){var a=$(this),c=a.siblings(".content"),d=c.find(".quick-cart-content");c.hasClass("show")?responsiveMenuManager.close():responsiveMenuManager.open(function(){a.addClass("close");
c.addClass("show");d.css({display:""}).addClass("show")},function(){a.removeClass("close");c.removeClass("show");d.css({display:"none"}).removeClass("show")})})}function e(a){a.find(".cart-wrapper.advanced-flying-cart").click(function(){loadAdvancedFlyingCart()})}$(".widget-cart").each(function(){var f=$(this);a(f);e(f);var b=f.attr("widget-id"),c=f.attr("id");app.global_event.bind("update-cart billing-address-change",function(){bm.ajax({data:{id:b},dataType:"html",url:app.baseUrl+"cart/widget",success:function(b){f.replaceWith(b);
f=$("#"+c);a(f);e(f)}})})})}$(function(){bm.initCityValidator($('[name="postCode"]'))});
function updateProductPrice(a,e){var f=a.closest(".page-content, .popup, .product-block, .add-cart-info-block");f.is(".page-content")&&(f=f.find(".product-widget.widget-price, .product-widget.widget-variation, .product-widget.widget-addCart"));collectCartData(f,e,!0);bm.ajax({controller:"productPage",action:"priceAndUnavailableMsg",data:e,success:function(a){f.find(".current-price .price-amount").text(a.price.toFixed(2));a.expect?f.find(".previous-price .price-amount").text(a.expect.toFixed(2)):a.sale&&
f.find(".previous-price .price-amount").text(a.sale.toFixed(2));var b=f.find(".current-price .total-amount");if(b.length){var d=e.quantity||f.find(".add-to-cart-button, .buy-now-button").config("cart","quantity");b.text((a.price*d).toFixed(2))}f.closest(".page-content").find(".widget-variation .product-status").remove();f.closest(".page-content").find(".widget-stockMark").replaceWith(a.stockWidget).show()},error:function(a,c,d){f.closest(".page-content").find(".widget-stockMark").hide();displayUnavailableStatus(f.closest(".page-content").find(".widget-variation"),
d.message)}})}function displayUnavailableStatus(a,e){a.find(".product-status").remove();a.prepend('<span class="product-status message-block error"></span>');a.find(".product-status").text(e)}
function initializeCombination(a,e){e.is(".initialized")||(e.change(function(f){var b={productId:a};f=f.originalEvent||f;f=$(f.target||f.srcElement);var c=e.parents(".page-content, .add-cart-information-popup").find(".widget-addCart .button, .add-to-cart-button .buy-now-button"),d=f.parents(".info-row");1>+f.val()?(c.addClass("disabled"),renderMessage(d,$.i18n.prop("minimum.required.quantity",[1]),"error","5000","after")):(c.removeClass("disabled"),d.siblings(".message-block.error").remove(),updateProductPrice(e,
b))}),e.find(".included-quantity-selector").each(function(){var a=$(this),b=a.config("spin");b.et_data={up:{clazz:"et_pdp_increase_quantity",attr:{"et-category":"button"}},down:{clazz:"et_pdp_decrease_quantity",attr:{"et-category":"button"}}};a.stepper(b)}),e.addClass("initialized"))}$.extend($.form_care_functions,{simple_captcha_reload:function(){this.find(".simple-captcha-reload.icon").click(function(){app.captchaUtil.reloadCaptcha("simple_captcha")})}});
function initializeProductInfoView(a,e,f,b){bindProductQuantitySpinner(e);e.find(".product-quantity-selector.text-type").on("change spinchange",function(){e.find(".widget-addCart .add-to-cart-button, .buy-now-button").config("cart",{quantity:this.value})});var c=$(".included-products-container");c.length&&initializeCombination(a,c);bindAddToCartClickEvent(e);if("details"==f)bm.onReady(app,"productWidgets",{ready:function(){app.productWidgets.init(e,a)},not:bm.addScript.bind(void 0,app.systemResourceUrl+
"js/site/product.js",!0)});app.global_event.trigger("after-product-info-view-initialize",[a,e,f,b]);b&&b()}
$(function(){function a(a){a.addClass("responsive-navigation");f.hasClass("with-drawer")?f.find("left-container").html(a):(f.children().wrapAll('<div class="page-container"></div>'),a=$('<div class="left-container"></div>').html(a),f.prepend(a),setTimeout(function(){f.find(".left-container, .page-container").addClass("open")},100),f.addClass("with-drawer"))}function e(a){if(!f.hasClass("with-drawer")){var b=a.find(".nav-wrapper");b.addClass("responsive-navigation");b.addClass("wc-modern-navigation");
a=$(".widget.widget-storeLogo[widget-type='storeLogo']");var d=a.length?a.nat.jqObject.find("img").clone():"";a=$('<aside id="left-modern-nav-drawer-wc"  data-pushbar-id="left" data-pushbar-direction="left" class="left-modern-nav-drawer-container"></div>').html(b);f.prepend(a);b.prepend('<div class="wc-mdoern-nav-title"><span class=\'wc-modern-nav-logo\'></span><span data-pushbar-close class="close wc-modern-nav-close-button push_right"></span></div>');a.find(".wc-modern-nav-logo").prepend(d);f.addClass("with-drawer");
var e=new Pushbar({overlay:!0});setTimeout(function(){e.open("left")},100)}}var f=$("#webcommander-page");$(".widget-navigation").each(function(){var b=$(this),c=b.find(".nav-wrapper");c.find(".child-opener").on("click",function(){var a=$(this),b=a.siblings(".navigation-item-child-container");a.toggleClass("close");b.toggleClass("open")});c.find(".has-child a").on("click",function(){var a=$(this),b=a.siblings(".navigation-item-child-container");a.toggleClass("close");b.toggleClass("open")});b.find(".menu-title").on("click",
function(){var d=$(this).find(".menu-button"),f=d.attr("transition-type");"leftSideBar"==f?e(b.clone(!0,!0).removeAttr("id")):"drawer"==f?a(b.clone(!0,!0).removeAttr("id")):c.hasClass("show")?responsiveMenuManager.close():responsiveMenuManager.open(function(){d.addClass("close");c.addClass("show responsive-navigation")},function(){d.removeClass("close");c.removeClass("show responsive-navigation")})})})});
$(function(){$(".widget-search .search-menu-button").on("click",function(){if(0==$(".widget-search .search-menu-button").closest(".widget-search.fee-not-editable").length){var a=$(this),e=a.siblings(".search-form");if(e.hasClass("show"))responsiveMenuManager.close();else{var f=window.location.search.slice(1).split("&").reduce(function(a,c){c=c.split("=");a[c[0]]=decodeURIComponent(c[1]);return a},{});f.type||bm.ajax({url:app.baseUrl+"lookup/resetSearchType",dataType:"json"});responsiveMenuManager.open(function(){a.addClass("close");
var b=f.name?f.name.replaceAll("+"," "):"";e[0].jqObject.find("#elastic-search-text").val(b);e.addClass("show")},function(){a.removeClass("close");e.removeClass("show")})}}});$("#elastic-search-text")});$(window).resize(function(){$(window).width()!=site.width&&$(window).height()!=site.height&&(responsiveMenuManager.close(),site.width=$(window).width(),site.height=$(window).height())});
function shareOnSocialMedea(a,e,f,b){switch(a){case "twitter":window.open("https://twitter.com/intent/tweet?text="+f+" "+encodeURIComponent(e),"sharertwt","toolbar=0,status=0,width=640,height=445");break;case "facebook":window.open("http://www.facebook.com/sharer.php?u="+e,"sharer","toolbar=0,status=0,width=660,height=445");break;case "messenger":window.open("https://api.addthis.com/oexchange/0.8/forward/messenger/offer?url="+e,"_blank","width=480, height=360");break;case "linkedin":window.open("https://www.linkedin.com/shareArticle?mini=true&url="+
e+"title="+f,"sharer","toolbar=0,status=0,width=660,height=445");break;case "google-plus":window.open("https://plus.google.com/share?url="+e,"sharer","toolbar=0,status=0,width=660,height=445");break;case "pinterest":window.open("http://www.pinterest.com/pin/create/button/?media="+b+"&url="+e,"sharerpinterest","toolbar=0,status=0,width=660,height=445")}}
function tellAFriendAboutProduct(a){bm.ajax({url:app.baseUrl+"shop/tellFriend",dataType:"html",type:"post",data:{productId:a},success:function(a){var e=$(a);e.find(".tell-friend-popup").form({ajax:!0,preSubmit:function(a){$.extend(a,{success:function(a){a=$(a.html);renderGlobalSitePopup(a,{clazz:"tell-friend-success"})},error:function(a,b,f){renderMessage(e.find(".body .message-container"),f.message,"error")}})}});renderGlobalSitePopup(e,{clazz:"tell_friend_popup"})}})}
var addBulkProductFromProductListInCart=function(a,e){var f=$(this);a=$(".product-quantity-selector-bulk-from-product-list:visible");var b=$("input.product-quantity-selector-bulk-from-product-list:visible.validation-error").length;a.each(function(){if("0"!=this.jqObject.val())return b=!0,!1});if(b){var c=[];$(".product-quantity-selector-bulk-from-product-list:visible").each(function(){var a=$(this),b=f.attr("storeId");a={productId:a.attr("product-id"),quantity:a.val(),"config.variation":a.attr("product-variation")};
b?a.storeId=b:"";c.push(a)});bm.ajax({url:app.baseUrl+"cart/addBulkProductToCart",data:{productDataList:JSON.stringify(c)},type:"post",success:function(a){var b=$(a.html);"added"==a.status?renderAddToCartPopup(b):"redirect-to"==a.status?window.location.href=app.baseUrl+"product/"+a.url:"restrict"==a.status&&bm.confirm(a.alrtMessage,function(){window.location.href=app.baseUrl+a.redirectLink},void 0,void 0,{yesButtonTitle:"OK"});e&&e()}})}},ProductViewSwitcher=function(){function a(a){var b=this,c=
a.find(".view-switchers > button");this.listingBlock=a;this.id=a.attr("id");this.displayType=a.attr("display-type");this.showOnHover=a.attr("show-on-hover");c.on("click",function(){var a=$(this);a.is(".active")||b.switchDisplayType(a.attr("value"))});(a=localStorage.getItem(this.id))&&a!=this.displayType&&c.length&&b.switchDisplayType(a)}var e=a.prototype;e._switchToList=function(){"true"==this.showOnHover&&this.listingBlock.find(".product-block").each(function(){var a=$(this),b=a.find(".btn-add");
a.find(".price-waper").after(b)});var a=this.listingBlock;if("true"==a.attr("isWidget")){var b=a.find(".tabular-product-view");b.hasClass("hide-tabular-product-view")||b.addClass("hide-tabular-product-view");b=a.find(".add-to-cart-multi-select-fixed-button");b.hasClass("hide-add-to-cart-multi-select-fixed-button")||b.addClass("hide-add-to-cart-multi-select-fixed-button");a.find(".normal-product-view").removeClass("hide-product-block-normal")}else b=$(".tabular-product-view"),b.hasClass("hide-tabular-product-view")||
b.addClass("hide-tabular-product-view"),b=$(".add-to-cart-multi-select-fixed-button"),b.hasClass("hide-add-to-cart-multi-select-fixed-button")||b.addClass("hide-add-to-cart-multi-select-fixed-button"),$(".normal-product-view").removeClass("hide-product-block-normal")};e._switchToImage=function(){"true"==this.showOnHover&&this.listingBlock.find(".product-block").each(function(){var a=$(this),b=a.find(".btn-add");a.find(".btn-add-placeholder").after(b)});var a=this.listingBlock;if("true"==a.attr("isWidget")){var b=
a.find(".tabular-product-view");b.hasClass("hide-tabular-product-view")||b.addClass("hide-tabular-product-view");b=a.find(".add-to-cart-multi-select-fixed-button");b.hasClass("hide-add-to-cart-multi-select-fixed-button")||b.addClass("hide-add-to-cart-multi-select-fixed-button");a.find(".normal-product-view").removeClass("hide-product-block-normal")}else b=$(".tabular-product-view"),b.hasClass("hide-tabular-product-view")||b.addClass("hide-tabular-product-view"),b=$(".add-to-cart-multi-select-fixed-button"),
b.hasClass("hide-add-to-cart-multi-select-fixed-button")||b.addClass("hide-add-to-cart-multi-select-fixed-button"),$(".normal-product-view").removeClass("hide-product-block-normal")};e._switchToTabular=function(){var a=this.listingBlock;if("true"==a.attr("isWidget")){a.find(".normal-product-view").addClass("hide-product-block-normal");var b=a.find(".tabular-product-view");b.hasClass("hide-tabular-product-view")&&b.removeClass("hide-tabular-product-view");a=a.find(".add-to-cart-multi-select-fixed-button")}else a.find(".normal-product-view").addClass("hide-product-block-normal"),
b=a.find(".tabular-product-view"),b.hasClass("hide-tabular-product-view")&&b.removeClass("hide-tabular-product-view"),a=a.find(".add-to-cart-multi-select-fixed-button");a.hasClass("hide-add-to-cart-multi-select-fixed-button")&&a.removeClass("hide-add-to-cart-multi-select-fixed-button")};e.switchDisplayType=function(a){this.listingBlock.removeClass(this.displayType+"-view").addClass(a+"-view");localStorage.setItem(this.id,a);this["_switchTo"+a.capitalize()]();this.listingBlock.find(".view-switchers > button.active").removeClass("active");
this.listingBlock.find(".view-switchers > button[value="+a+"]").addClass("active");this.displayType=a};return a}();$(function(){$(".product-view").each(function(){new ProductViewSwitcher($(this))})});window.fbAsyncInit=function(){FB.init({appId:app.fb_app_id,cookie:!0,xfbml:!0,version:"v2.8"})};
function googleAyncInit(){if(app.google_client_id)bm.onReady(window,"gapi",function(){gapi.load("auth2",function(){window.googleAuth2=gapi.auth2.init({client_id:app.google_client_id,cookiepolicy:"single_host_origin"})})})}function fbLogin(a){FB.login(function(e){e.authResponse?(console.log("Welcome!  Fetching your information.... "),a(e.authResponse.accessToken)):console.log("User cancelled login or did not fully authorize.")},{scope:"email,user_location",return_scopes:!0})}
function googleLogin(a){googleAuth2.signIn().then(function(e){a(e.getAuthResponse().id_token)})}function loginBySocialToken(a){bm.ajax({url:app.baseUrl+"customer/doSocialLogin",data:a,success:function(a){location.href=a.redirectUrl},error:function(a,f,b){renderMessage(null,b.message,"error")}})}
$(function(){$(".login-with-fb-btn").on("click",function(){var a=$(this).parents("form");fbLogin(function(e){loginBySocialToken({token:e,media:"fb",referer:a.find("[name=referer]").val()})})});var a=$(".registration-verification-message");a.find(".resend-verification-button").on("click",function(){var e=a.serializeObject().id;bm.ajax({type:"post",url:app.baseUrl+"customer/resendVerification",data:{id:e},success:function(a){bm.notify($.i18n.prop("resend.email.success"),"success")},error:function(a){bm.notify($.i18n.prop("resend.email.fail"),
"alert")}})});$(".login-with-google-btn").on("click",function(){var a=$(this).parents("form");googleLogin(function(e){loginBySocialToken({token:e,media:"google",referer:a.find("[name=referer]").val()})})});$(".add-to-cart-multi-select-fixed-button").on("click",function(){var a=$(this);addBulkProductFromProductListInCart(a)});bm.onReady(window,"google",{ready:function(){bm.initAutoAddressSuggest()},not:function(){}});$(".wc-image-focuspoint").focusPoint()});app.commonFunctionalities=function(){return{initializeProductWidget:initializeProductWidget}}();
$(function(){var a=[],e=$(".pass-code-verify-form"),f=e.find("#otp-passcode-main"),b=e.find(".verification-code .passcode-single-input");b.keyup(function(c){b.each(function(c){a[c]=b[c].value;f.val(a.join(""))});"Backspace"==event.key?$(this).prev().focus():""==!$(this).val().trim()&&$(this).next().focus()})});
(function(a,e,f){function b(b,c){this.bodyOverflowX;this.callbacks={hide:[],show:[]};this.checkInterval=null;this.Content;this.$el=a(b);this.$elProxy;this.elProxyPosition;this.enabled=!0;this.options=a.extend({},h,c);this.mouseIsOverProxy=!1;this.namespace="tooltipster-"+Math.round(1E5*Math.random());this.Status="hidden";this.timerShow=this.timerHide=null;this.$tooltip;this.options.iconTheme=this.options.iconTheme.replace(".","");this.options.theme=this.options.theme.replace(".","");this._init()}
function c(b,c){var d=!0;a.each(b,function(a,e){if("undefined"===typeof c[a]||b[a]!==c[a])return d=!1});return d}function d(){var a=(f.body||f.documentElement).style,b="transition";if("string"==typeof a[b])return!0;v=["Moz","Webkit","Khtml","O","ms"];b=b.charAt(0).toUpperCase()+b.substr(1);for(var c=0;c<v.length;c++)if("string"==typeof a[v[c]+b])return!0;return!1}var h={animation:"fade",arrow:!0,arrowColor:"",autoClose:!0,content:null,contentAsHTML:!1,contentCloning:!0,debug:!0,delay:200,minWidth:0,
maxWidth:null,functionInit:function(a,b){},functionBefore:function(a,b){b()},functionReady:function(a,b){},functionAfter:function(a){},hideOnClick:!1,icon:"(?)",iconCloning:!0,iconDesktop:!1,iconTouch:!1,iconTheme:"tooltipster-icon",interactive:!1,interactiveTolerance:350,multiple:!1,offsetX:0,offsetY:0,onlyOne:!1,position:"top",positionTracker:!1,positionTrackerCallback:function(a){"hover"==this.option("trigger")&&this.option("autoClose")&&this.hide()},restoration:"current",speed:350,timer:0,theme:"tooltipster-default",
touchDevices:!0,trigger:"hover",updateAnimation:!0};b.prototype={_init:function(){var b=this;if(f.querySelector){var c=null;void 0===b.$el.data("tooltipster-initialTitle")&&(c=b.$el.attr("title"),void 0===c&&(c=null),b.$el.data("tooltipster-initialTitle",c));null!==b.options.content?b._content_set(b.options.content):b._content_set(c);c=b.options.functionInit.call(b.$el,b.$el,b.Content);"undefined"!==typeof c&&b._content_set(c);b.$el.removeAttr("title").addClass("tooltipstered");!k&&b.options.iconDesktop||
k&&b.options.iconTouch?("string"===typeof b.options.icon?(b.$elProxy=a('<span class="'+b.options.iconTheme+'"></span>'),b.$elProxy.text(b.options.icon)):b.$elProxy=b.options.iconCloning?b.options.icon.clone(!0):b.options.icon,b.$elProxy.insertAfter(b.$el)):b.$elProxy=b.$el;if("hover"==b.options.trigger){if(b.$elProxy.on("mouseenter."+b.namespace,function(){if(m||!k||b.options.touchDevices)b.mouseIsOverProxy=!0,b._show()}).on("mouseleave."+b.namespace,function(){if(m||!k||b.options.touchDevices)b.mouseIsOverProxy=
!1}),k&&b.options.touchDevices)b.$elProxy.on("touchstart."+b.namespace,function(){b._showNow()})}else if("click"==b.options.trigger)b.$elProxy.on("click."+b.namespace,function(){(m||!k||b.options.touchDevices)&&b._show()})}},_show:function(){var a=this;"shown"!=a.Status&&"appearing"!=a.Status&&(a.options.delay?a.timerShow=setTimeout(function(){("click"==a.options.trigger||"hover"==a.options.trigger&&a.mouseIsOverProxy)&&a._showNow()},a.options.delay):a._showNow())},_showNow:function(b){var c=this;
c.options.functionBefore.call(c.$el,c.$el,function(){if(c.enabled&&null!==c.Content){b&&c.callbacks.show.push(b);c.callbacks.hide=[];clearTimeout(c.timerShow);c.timerShow=null;clearTimeout(c.timerHide);c.timerHide=null;c.options.onlyOne&&a(".tooltipstered").not(c.$el).each(function(b,c){var d=a(c);b=d.data("tooltipster-ns");a.each(b,function(a,b){a=d.data(b);b=a.status();var c=a.option("autoClose");"hidden"!==b&&"disappearing"!==b&&c&&a.hide()})});var g=function(){c.Status="shown";a.each(c.callbacks.show,
function(a,b){b.call(c.$el)});c.callbacks.show=[]};if("hidden"!==c.Status){var f=0;"disappearing"===c.Status?(c.Status="appearing",d()?(c.$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-"+c.options.animation+"-show"),0<c.options.speed&&c.$tooltip.delay(c.options.speed),c.$tooltip.queue(g)):c.$tooltip.stop().fadeIn(g)):"shown"===c.Status&&g()}else{c.Status="appearing";f=c.options.speed;c.bodyOverflowX=a("body").css("overflow-x");a("body").css("overflow-x","hidden");var h=
"tooltipster-"+c.options.animation;c.$tooltip=a('<div class="tooltipster-base '+c.options.theme+'" style="'+(c.options.minWidth?"min-width:"+Math.round(c.options.minWidth)+"px;":"")+" "+(c.options.maxWidth?"max-width:"+Math.round(c.options.maxWidth)+"px;":"")+" "+(c.options.interactive?"pointer-events: auto;":"")+" -webkit-transition-duration: "+(c.options.speed+"ms; -webkit-animation-duration: "+c.options.speed+"ms; -moz-transition-duration: "+c.options.speed+"ms; -moz-animation-duration: "+c.options.speed+
"ms; -o-transition-duration: "+c.options.speed+"ms; -o-animation-duration: "+c.options.speed+"ms; -ms-transition-duration: "+c.options.speed+"ms; -ms-animation-duration: "+c.options.speed+"ms; transition-duration: "+c.options.speed+"ms; animation-duration: "+c.options.speed+'ms;"><div class="tooltipster-content"></div></div>'));d()&&c.$tooltip.addClass(h);c._content_insert();c.$tooltip.appendTo("body");c.reposition();c.options.functionReady.call(c.$el,c.$el,c.$tooltip);d()?(c.$tooltip.addClass(h+
"-show"),0<c.options.speed&&c.$tooltip.delay(c.options.speed),c.$tooltip.queue(g)):c.$tooltip.css("display","none").fadeIn(c.options.speed,g);c._interval_set();a(e).on("scroll."+c.namespace+" resize."+c.namespace,function(){c.reposition()});if(c.options.autoClose)if(a("body").off("."+c.namespace),"hover"==c.options.trigger){k&&setTimeout(function(){a("body").on("touchstart."+c.namespace,function(){c.hide()})},0);if(c.options.interactive){if(k)c.$tooltip.on("touchstart."+c.namespace,function(a){a.stopPropagation()});
var l=null;c.$elProxy.add(c.$tooltip).on("mouseleave."+c.namespace+"-autoClose",function(){clearTimeout(l);l=setTimeout(function(){c.hide()},c.options.interactiveTolerance)}).on("mouseenter."+c.namespace+"-autoClose",function(){clearTimeout(l)})}else c.$elProxy.on("mouseleave."+c.namespace+"-autoClose",function(){c.hide()});if(c.options.hideOnClick)c.$elProxy.on("click."+c.namespace+"-autoClose",function(){c.hide()})}else if("click"==c.options.trigger&&(setTimeout(function(){a("body").on("click."+
c.namespace+" touchstart."+c.namespace,function(){c.hide()})},0),c.options.interactive))c.$tooltip.on("click."+c.namespace+" touchstart."+c.namespace,function(a){a.stopPropagation()})}0<c.options.timer&&(c.timerHide=setTimeout(function(){c.timerHide=null;c.hide()},c.options.timer+f))}})},_interval_set:function(){var b=this;b.checkInterval=setInterval(function(){if(0===a("body").find(b.$el).length||0===a("body").find(b.$elProxy).length||"hidden"==b.Status||0===a("body").find(b.$tooltip).length)"shown"!=
b.Status&&"appearing"!=b.Status||b.hide(),b._interval_cancel();else if(b.options.positionTracker){var d=b._repositionInfo(b.$elProxy),e=!1;c(d.dimension,b.elProxyPosition.dimension)&&("fixed"===b.$elProxy.css("position")?c(d.position,b.elProxyPosition.position)&&(e=!0):c(d.offset,b.elProxyPosition.offset)&&(e=!0));e||(b.reposition(),b.options.positionTrackerCallback.call(b,b.$el))}},200)},_interval_cancel:function(){clearInterval(this.checkInterval);this.checkInterval=null},_content_set:function(a){"object"===
typeof a&&null!==a&&this.options.contentCloning&&(a=a.clone(!0));this.Content=a},_content_insert:function(){var a=this.$tooltip.find(".tooltipster-content");"string"!==typeof this.Content||this.options.contentAsHTML?a.empty().append(this.Content):a.text(this.Content)},_update:function(a){var b=this;b._content_set(a);null!==b.Content?"hidden"!==b.Status&&(b._content_insert(),b.reposition(),b.options.updateAnimation&&(d()?(b.$tooltip.css({width:"","-webkit-transition":"all "+b.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",
"-moz-transition":"all "+b.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+b.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+b.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+b.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!=b.Status&&(b.$tooltip.removeClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!==
b.Status&&b.$tooltip.css({"-webkit-transition":b.options.speed+"ms","-moz-transition":b.options.speed+"ms","-o-transition":b.options.speed+"ms","-ms-transition":b.options.speed+"ms",transition:b.options.speed+"ms"})},b.options.speed))},b.options.speed)):b.$tooltip.fadeTo(b.options.speed,.5,function(){"hidden"!=b.Status&&b.$tooltip.fadeTo(b.options.speed,1)}))):b.hide()},_repositionInfo:function(a){return{dimension:{height:a.outerHeight(!1),width:a.outerWidth(!1)},offset:a.offset(),position:{left:parseInt(a.css("left")),
top:parseInt(a.css("top"))}}},hide:function(b){var c=this;b&&c.callbacks.hide.push(b);c.callbacks.show=[];clearTimeout(c.timerShow);c.timerShow=null;clearTimeout(c.timerHide);c.timerHide=null;var g=function(){a.each(c.callbacks.hide,function(a,b){b.call(c.$el)});c.callbacks.hide=[]};"shown"==c.Status||"appearing"==c.Status?(c.Status="disappearing",b=function(){c.Status="hidden";"object"==typeof c.Content&&null!==c.Content&&c.Content.detach();c.$tooltip.remove();c.$tooltip=null;a(e).off("."+c.namespace);
a("body").off("."+c.namespace).css("overflow-x",c.bodyOverflowX);a("body").off("."+c.namespace);c.$elProxy.off("."+c.namespace+"-autoClose");c.options.functionAfter.call(c.$el,c.$el);g()},d()?(c.$tooltip.clearQueue().removeClass("tooltipster-"+c.options.animation+"-show").addClass("tooltipster-dying"),0<c.options.speed&&c.$tooltip.delay(c.options.speed),c.$tooltip.queue(b)):c.$tooltip.stop().fadeOut(c.options.speed,b)):"hidden"==c.Status&&g();return c},show:function(a){this._showNow(a);return this},
update:function(a){return this.content(a)},content:function(a){if("undefined"===typeof a)return this.Content;this._update(a);return this},reposition:function(){if(0!==a("body").find(this.$tooltip).length){var b=function(b,c){0>h.offset.top-a(e).scrollTop()-m-U-12&&-1<c.indexOf("top")&&(O=b);h.offset.top+h.dimension.height+m+12+U>a(e).scrollTop()+a(e).height()&&-1<c.indexOf("bottom")&&(O=b,T=h.offset.top-m-U-12)},c=function(){var b=a(e).scrollLeft();0>K-b&&(d=K-b,K=b);K+k-b>f&&(d=K-(f+b-k),K=f+b-k)};
this.$tooltip.css("width","");this.elProxyPosition=this._repositionInfo(this.$elProxy);var d=null,f=a(e).width(),h=this.elProxyPosition,k=this.$tooltip.outerWidth(!1);this.$tooltip.innerWidth();var m=this.$tooltip.outerHeight(!1);if(this.$elProxy.is("area")){var q=this.$elProxy.attr("shape"),p=this.$elProxy.parent().attr("name"),w=a('img[usemap="#'+p+'"]');p=w.offset().left;var t=w.offset().top,y=void 0!==this.$elProxy.attr("coords")?this.$elProxy.attr("coords").split(","):void 0;if("circle"==q)q=
parseInt(y[0]),w=parseInt(y[1]),y=parseInt(y[2]),h.dimension.height=2*y,h.dimension.width=2*y,h.offset.top=t+w-y,h.offset.left=p+q-y;else if("rect"==q){q=parseInt(y[0]);w=parseInt(y[1]);var W=parseInt(y[2]);y=parseInt(y[3]);h.dimension.height=y-w;h.dimension.width=W-q;h.offset.top=t+w;h.offset.left=p+q}else if("poly"==q){for(var L=W=w=q=0,ja="even",ba=0;ba<y.length;ba++){var C=parseInt(y[ba]);"even"==ja?(C>W&&(W=C,0===ba&&(q=W)),C<q&&(q=C),ja="odd"):(C>L&&(L=C,1==ba&&(w=L)),C<w&&(w=C),ja="even")}h.dimension.height=
L-w;h.dimension.width=W-q;h.offset.top=t+w;h.offset.left=p+q}else h.dimension.height=w.outerHeight(!1),h.dimension.width=w.outerWidth(!1),h.offset.top=t,h.offset.left=p}var K=0,T=t=0,U=parseInt(this.options.offsetY);p=parseInt(this.options.offsetX);var O=this.options.position;"top"==O&&(t=h.offset.left+k-(h.offset.left+h.dimension.width),K=h.offset.left+p-t/2,T=h.offset.top-m-U-12,c(),b("bottom","top"));"top-left"==O&&(K=h.offset.left+p,T=h.offset.top-m-U-12,c(),b("bottom-left","top-left"));"top-right"==
O&&(K=h.offset.left+h.dimension.width+p-k,T=h.offset.top-m-U-12,c(),b("bottom-right","top-right"));"bottom"==O&&(t=h.offset.left+k-(h.offset.left+h.dimension.width),K=h.offset.left-t/2+p,T=h.offset.top+h.dimension.height+U+12,c(),b("top","bottom"));"bottom-left"==O&&(K=h.offset.left+p,T=h.offset.top+h.dimension.height+U+12,c(),b("top-left","bottom-left"));"bottom-right"==O&&(K=h.offset.left+h.dimension.width+p-k,T=h.offset.top+h.dimension.height+U+12,c(),b("top-right","bottom-right"));"left"==O&&
(K=h.offset.left-p-k-12,t=h.offset.left+p+h.dimension.width+12,b=h.offset.top+m-(h.offset.top+h.dimension.height),T=h.offset.top-b/2-U,0>K&&t+k>f?(b=2*parseFloat(this.$tooltip.css("border-width")),c=k+K-b,this.$tooltip.css("width",c+"px"),m=this.$tooltip.outerHeight(!1),K=h.offset.left-p-c-12-b,b=h.offset.top+m-(h.offset.top+h.dimension.height),T=h.offset.top-b/2-U):0>K&&(K=h.offset.left+p+h.dimension.width+12,d="left"));"right"==O&&(K=h.offset.left+p+h.dimension.width+12,t=h.offset.left-p-k-12,b=
h.offset.top+m-(h.offset.top+h.dimension.height),T=h.offset.top-b/2-U,K+k>f&&0>t?(b=2*parseFloat(this.$tooltip.css("border-width")),this.$tooltip.css("width",f-K-b+"px"),m=this.$tooltip.outerHeight(!1),b=h.offset.top+m-(h.offset.top+h.dimension.height),T=h.offset.top-b/2-U):K+k>f&&(K=h.offset.left-p-k-12,d="right"));this.options.arrow&&(b="tooltipster-arrow-"+O,c=1>this.options.arrowColor.length?this.$tooltip.css("background-color"):this.options.arrowColor,d?"left"==d?(b="tooltipster-arrow-right",
d=""):"right"==d?(b="tooltipster-arrow-left",d=""):d="left:"+Math.round(d)+"px;":d="","top"==O||"top-left"==O||"top-right"==O?(p=parseFloat(this.$tooltip.css("border-bottom-width")),t=this.$tooltip.css("border-bottom-color")):"bottom"==O||"bottom-left"==O||"bottom-right"==O?(p=parseFloat(this.$tooltip.css("border-top-width")),t=this.$tooltip.css("border-top-color")):"left"==O?(p=parseFloat(this.$tooltip.css("border-right-width")),t=this.$tooltip.css("border-right-color")):"right"==O?(p=parseFloat(this.$tooltip.css("border-left-width")),
t=this.$tooltip.css("border-left-color")):(p=parseFloat(this.$tooltip.css("border-bottom-width")),t=this.$tooltip.css("border-bottom-color")),1<p&&p++,y="",0!==p&&(y="",t="border-color: "+t+";",-1!==b.indexOf("bottom")?y="margin-top: -"+Math.round(p)+"px;":-1!==b.indexOf("top")?y="margin-bottom: -"+Math.round(p)+"px;":-1!==b.indexOf("left")?y="margin-right: -"+Math.round(p)+"px;":-1!==b.indexOf("right")&&(y="margin-left: -"+Math.round(p)+"px;"),y='<span class="tooltipster-arrow-border" style="'+y+
" "+t+';"></span>'),this.$tooltip.find(".tooltipster-arrow").remove(),this.$tooltip.append('<div class="'+b+' tooltipster-arrow" style="'+d+'">'+y+'<span style="border-color:'+c+';"></span></div>'));this.$tooltip.css({top:Math.round(T)+"px",left:Math.round(K)+"px"})}return this},enable:function(){this.enabled=!0;return this},disable:function(){this.hide();this.enabled=!1;return this},destroy:function(){var b=this;b.hide();b.$el[0]!==b.$elProxy[0]&&b.$elProxy.remove();b.$el.removeData(b.namespace).off("."+
b.namespace);var c=b.$el.data("tooltipster-ns");1===c.length?(c=null,"previous"===b.options.restoration?c=b.$el.data("tooltipster-initialTitle"):"current"===b.options.restoration&&(c="string"===typeof b.Content?b.Content:a("<div></div>").append(b.Content).html()),c&&b.$el.attr("title",c),b.$el.removeClass("tooltipstered").removeData("tooltipster-ns").removeData("tooltipster-initialTitle")):(c=a.grep(c,function(a,c){return a!==b.namespace}),b.$el.data("tooltipster-ns",c));return b},elementIcon:function(){return this.$el[0]!==
this.$elProxy[0]?this.$elProxy[0]:void 0},elementTooltip:function(){return this.$tooltip?this.$tooltip[0]:void 0},option:function(a,b){if("undefined"==typeof b)return this.options[a];this.options[a]=b;return this},status:function(){return this.Status}};a.fn.tooltipster=function(){var c=arguments;if(0===this.length){if("string"===typeof c[0]){var d=!0;switch(c[0]){case "setDefaults":a.extend(h,c[1]);break;default:d=!1}return d?!0:this}return this}if("string"===typeof c[0]){var e="#*$~&";this.each(function(){var b=
a(this).data("tooltipster-ns");if(b=b?a(this).data(b[0]):null){if("function"===typeof b[c[0]])var d=b[c[0]](c[1],c[2]);else throw Error('Unknown method .tooltipster("'+c[0]+'")');if(d!==b)return e=d,!1}else throw Error("You called Tooltipster's \""+c[0]+'" method on an uninitialized element');});return"#*$~&"!==e?e:this}var f=[],k=(d=c[0]&&"undefined"!==typeof c[0].multiple)&&c[0].multiple||!d&&h.multiple,m=(d=c[0]&&"undefined"!==typeof c[0].debug)&&c[0].debug||!d&&h.debug;this.each(function(){var d=
!1,e=a(this).data("tooltipster-ns"),g=null;e?k?d=!0:m&&console.log('Tooltipster: one or more tooltips are already attached to this element: ignoring. Use the "multiple" option to attach more tooltips.'):d=!0;d&&(g=new b(this,c[0]),e||(e=[]),e.push(g.namespace),a(this).data("tooltipster-ns",e),a(this).data(g.namespace,g));f.push(g)});return k?f:this};var k=!!("ontouchstart"in e),m=!1;a("body").one("mousemove",function(){m=!0})})(jQuery,window,document);
var UndoRedoFactory=function(){var a={hotkey_enabled:!0,hotkey_active:!0,changeState:function(){}},e=0,f=function(){this.states=[];this.index=0;this.hash=++e},b=f.prototype;b.bindGlobalNNavigator=function(){var a=this;if(this.config.hotkey_enabled)$(document).on("keyup."+this.hash+".ctrl_z",function(){a.config.hotkey_active&&a.undo()}).on("keyup."+this.hash+".ctrl_y",function(){a.config.hotkey_active&&a.redo()});if(this.undo_btn)this.undo_btn.on("click",function(){a.undo()});if(this.redo_btn)this.redo_btn.on("click",
function(){a.redo()})};b.activateHotkey=function(){this.config.hotkey_active=!0};b.deactivateHotkey=function(){this.config.hotkey_active=!1};b.destroy=function(){this.config.hotkey_enabled&&$(document).off("."+this.hash);this.undo_btn&&this.undo_btn.off("click");this.redo_btn&&this.redo_btn.off("click")};b.undo=function(){if(0!=this.index){this.index--;var a=this.states[this.index];this.undo_btn.trigger("before_undo",a);a.doer?a.doer.undo.call(a):this.config.changeState(a.type,a.previous,a.current);
this.index||this.undo_btn.addClass("disabled").attr("disabled","disabled");this.redo_btn&&this.redo_btn.is(".disabled")&&this.redo_btn.removeClass("disabled").removeAttr("disabled");0==this.index&&this.undo_btn&&this.undo_btn.trigger("undo_bottom_reached");this.undo_btn.trigger("undo",a)}};b.redo=function(){if(this.index!=this.states.length){var a=this.states[this.index];this.redo_btn.trigger("before_redo",a);a.doer?a.doer.redo.call(a):this.config.changeState(a.type,a.current,a.previous);this.index++;
this.index==this.states.length&&this.redo_btn.addClass("disabled").attr("disabled","disabled");this.undo_btn&&this.undo_btn.is(".disabled")&&this.undo_btn.removeClass("disabled").removeAttr("disabled");0==this.index&&this.states.length&&this.undo_btn.trigger("redo_top_reached");this.redo_btn.trigger("redo",a)}};b.reset=function(){this.index=0;this.states=[];this.redo_btn&&!this.redo_btn.is(".disabled")&&this.redo_btn.addClass("disabled").attr("disabled","disabled");this.undo_btn&&!this.undo_btn.is(".disabled")&&
this.undo_btn.addClass("disabled").attr("disabled","disabled")};b.push=function(a,b,e,f){this.index!=this.states.length&&this.states.splice(this.index);"object"==typeof a&&a.undo&&(f=a,a=void 0);this.states.push({type:a,previous:b,current:e,doer:f});this.index++;this.undo_btn&&this.undo_btn.is(".disabled")&&this.undo_btn.removeClass("disabled").removeAttr("disabled");this.redo_btn&&!this.redo_btn.is(".disabled")&&this.redo_btn.addClass("disabled").attr("disabled","disabled")};b.isAvailable=function(){return this.states.length};
return{createManager:function(b,d,e){var c=new f;c.config=$.extend({},a,e);c.undo_btn=b;c.redo_btn=d;c.bindGlobalNNavigator();return c}}}();function CssParser(a){this.reader=a?a.reader(!0):void 0;this.rulesets=[];this.imports=[]}var _c=CssParser.prototype;
(function(){function a(){for(var a,b=[" ","\r","\n","\t"];b.contains(a=this.reader.read()););return a}function e(){do var a=this.reader.read();while(" "!=a)}function f(){var a=this.reader.read();if("*"==a){do{for(;"*"!=this.reader.read(););a=this.reader.read()}while("/"!=a)}}function b(a,b){for(var c;!a.contains(c=this.reader.read());)b.plus(c);return c}function c(c){var d=new StringWriter,e=[];d.plus(c);do{do{var g=b.call(this,["/",",","{"],d);"/"==g?f.call(this):(e.push(d.toString().trim()),d=new StringWriter)}while("/"==
g)}while("{"!=g);c=[];do if(g=b.call(this,[":","}"],d),":"==g){var h=d.toString().trim();for(d=new StringWriter;;)if(g=b.call(this,["(",";"],d),"("==g)d.plus(g),b.call(this,[")"],d),d.plus(")");else break;d=d.toString().trim();g={};g.key=h;g.value=d;c.push(g);for(d=new StringWriter;;)if(g=a.call(this),"/"==g)f.call(this);else{d.plus(g);break}}else d=new StringWriter;while("}"!=g);return new CssRule(e,c)}function d(){var d=new StringWriter;e.call(this);b.call(this,["{"],d);d=d.toString().trim();var h=
[];do{var k=a.call(this);if("/"==k)f.call(this);else if("}"==k)break;else"@"==k?h.push(m.call(this,k)):h.push(c.call(this,k))}while(1);return new CssMedia(d,h)}function h(){var a=new StringWriter;e.call(this);b.call(this,[";"],a);return a.toString().trim()}function k(c){var d={},e=new StringWriter;e.plus(c);b.call(this,["{"],e);d.offset=e.toString().trim();c=[];e=new StringWriter;do{var g=b.call(this,[":","}"],e);if(":"==g){g=e.toString().trim();e=new StringWriter;b.call(this,[";"],e);e=e.toString().trim();
var h={};h.key=g;h.value=e;c.push(h);for(e=new StringWriter;;)if(g=a.call(this),"/"==g)f.call(this);else{e.plus(g);break}}else e=new StringWriter}while("}"!=g);d.declarations=c;return d}function m(){var c=[],d=new StringWriter;e.call(this);b.call(this,["{"],d);d=d.toString().trim();do{var h=a.call(this);if("/"==h)f.call(this);else if("}"==h)break;else c.push(k.call(this,h))}while(1);return new CssKeyframe(d,c)}_c.parse=function(){if(!this.reader)return this;try{for(;;){var b=a.call(this);if(-1==b)break;
switch(b.charCodeAt(0)){case 47:f.call(this);break;case 64:b=this.reader.read();"m"==b?this.rulesets.push(d.call(this)):"i"==b?this.imports.push(h.call(this)):"k"==b?this.rulesets.push(m.call(this)):this.rulesets.push(c.call(this,"@"+b));break;case 46:case 35:case 91:case 58:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:this.rulesets.push(c.call(this,
b))}}}catch(l){}return this}})();_c.getRule=function(a){if(2==arguments.length){var e=this.getMedia(a);return e?(a=arguments[1],e.getRule(a)):null}"string"==typeof a&&(a=[a]);var f;$.each(this.rulesets,function(){if("rule"==this.type&&this.selectors.length==a.length){var b=!0;$.each(this.selectors,function(){if(!a.collect(function(){return""+this}).contains(""+this))return b=!1});if(b)return f=this,!1}});return f};
_c.getMedias=function(){var a=[];$.each(this.rulesets,function(){"media"==this.type&&a.push(this)});return a};_c.getMedia=function(a){var e;$.each(this.rulesets,function(){if("media"==this.type&&this.definition==a)return e=this,!1});return e};_c.setAttribute=function(a,e,f){var b=this.getRule(a);b?b.setAttribute(e,f):(b={},b[e]=f,this.addRule(a,b))};_c.getAttribute=function(a,e){return(a=this.getRule(a))?a.getAttribute(e):null};_c.removeAttribute=function(a,e){(a=this.getRule(a))&&a.removeAttribute(e)};
_c.toString=function(a){0==arguments.length&&(a=!1);for(var e=new StringWriter,f=this.imports,b=0;b<f.length;b++)e.plus("@import "+f[b]+";"+(a?"\n":""));f=this.rulesets;for(b=0;b<f.length;b++)e.plus(f[b].toString(a,0));return e.toString()};_c.removeMedia=function(a){if(a)if(a instanceof CssMedia)for(var e=0;e<this.rulesets.length;e++){if(this.rulesets[e]==a){this.rulesets.splice(e,1);break}}else this.removeMedia(this.getMedia(a))};
_c.removeMediaRules=function(a){if(a)for(var e=this.getMedias(),f=0;f<e.length;f++){for(var b=e[f].rulesets,c=0;c<b.length;c++){for(var d=b[c].selectors,h=0;h<d.length;h++)d[h].endsWith(a)&&(d.splice(h,1),d.length&&h--);d.length||(e[f].removeRule(b[c]),b.length&&c--)}b.length||this.removeMedia(e[f])}};_c.addMedia=function(a,e){a=new CssMedia(a,e);this.rulesets.push(a);return a};_c.addRule=function(a,e){a=a instanceof CssRule?a:new CssRule(a,e);this.rulesets.push(a);return a};
_c.removeRule=function(a){if("number"==typeof a)var e=this.rulesets.splice(a,1);else if(a instanceof CssRule)for(var f=0;f<this.rulesets.length;f++){if(this.rulesets[f]==a){e=this.rulesets.splice(f,1);break}}else for("string"==typeof a&&(a=[a]),f=0;f<this.rulesets.length;f++)if(bm.equal(this.rulesets[f].selectors,a)){e=this.rulesets.splice(f,1);break}if(e&&e.length)return e[0]};var CssMedia=function(a,e){this.definition=a;this.rulesets=e||[];this.type="media"},_m=CssMedia.prototype;
_m.getRule=function(a){return CssParser.prototype.getRule.call(this,a)};_m.removeRule=function(a){CssParser.prototype.removeRule.call(this,a)};_m.setAttribute=function(a,e,f){CssParser.prototype.setAttribute.call(this,a,e,f)};_m.getAttribute=function(a,e){return CssParser.prototype.getAttribute.call(this,a,e)};_m.removeAttribute=function(a,e){CssParser.prototype.removeAttribute.call(this,a,e)};_m.addRule=function(a,e){return CssParser.prototype.addRule.call(this,a,e)};
_m.copy=function(){var a=this.definition,e=this.rulesets.collect(function(){return this.copy()});return new CssMedia(a,e)};_m.merge=function(a){var e=this;a.rulesets.everyCustomFunc(function(){var a=e.getRule(this.selectors);a||(a=e.addRule(this.selectors,[]));var b={};this.attributes.everyCustomFunc(function(){b[this.key]=this.value});a.setAttribute(b)})};
_m.toString=function(a,e){0==arguments.length&&(a=!1,e=0);for(var f="",b=0;b<e;b++)f+="\t";var c=new StringWriter;c.plus(f+"@media "+this.definition+(a?" {\n":"{"));for(b=0;b<this.rulesets.length;b++)c.plus(this.rulesets[b].toString(a,e+1));c.plus(a?f+"}\n":"}");return c.toString()};
var CssRule=function(a,e){$.isArray(a)||(a=[a]);this.selectors=a.collect(function(){return""+this});if(e&&!$.isArray(e)){var f=[];$.each(e,function(a){f.push({key:a,value:this})});e=f}this.attributes=e||[];this.type="rule"},_r=CssRule.prototype;_r.addAttribute=function(a,e){var f=this;if(1==arguments.length)$.each(a,function(a,b){f.addAttribute(a,b)});else{var b={};b.key=a;b.value=e;this.attributes.push(b)}};
_r.setAttribute=function(a,e){var f=this;if(1==arguments.length)$.each(a,function(a,b){f.setAttribute(a,b)});else{var b;$.each(this.attributes,function(){if(this.key==a)return b=this,!1});if(b)b.value=e;else{var c={};c.key=a;c.value=e;this.attributes.push(c)}}};_r.getAttribute=function(a){var e;$.each(this.attributes,function(){if(this.key==a)return e=this,!1});return e?e.value:null};_r.getAttributes=function(a){var e=[];$.each(this.attributes,function(){this.key==a&&e.push(this.value)});return e};
_r.removeAttribute=function(a){var e=this;if($.isArray(a))$.each(a,function(){e.removeAttribute(this)});else if("string"==typeof a||a instanceof String){var f=this,b=[];$.each(this.attributes,function(c){this.key==a&&b.push(c)});var c=0;$.each(b,function(){f.attributes.splice(this+c--,1)})}else"number"==typeof a&&this.attributes.splice(a,1);return this};
_r.copy=function(){var a=this.selectors.collect(function(){return this}),e=this.attributes.collect(function(){return{key:this.key,value:this.value}});return new CssRule(a,e)};
_r.toString=function(a,e){0==arguments.length&&(a=!1,e=0);for(var f="",b=0;b<e;b++)f+="\t";var c=f+"\t",d=new StringWriter;if(a){for(b=0;b<this.selectors.length;b++)d.plus(f+this.selectors[b]),b<this.selectors.length-1&&d.plus(",\n");d.plus(" {\n")}else d.plus(f+this.selectors.join(a?", ":",")),d.plus("{");b=this.attributes;for(var h=0;h<b.length;h++)d.plus((a?c:"")+b[h].key+(a?" : ":":")+b[h].value+";"),d.plus(a?"\n":"");d.plus(a?f+"}\n":"}");return d.toString()};
var CssKeyframe=function(a,e){this.id=a;this.frames=e;this.type="keyframe"},_k=CssKeyframe.prototype;
_k.toString=function(a,e){0==arguments.length&&(a=!1,e=0);for(var f="",b=0;b<e;b++)f+="\t";var c=f+"\t",d=new StringWriter;d.plus(f+"@keyframe "+this.id+(a?" {\n":"{"));for(b=0;b<this.frames.length;b++){var h=this.frames[b];d.plus(a?c:"");d.plus(h.offset);d.plus(a?" { ":"{");for(var k=0;k<h.declarations.length;k++){var m=h.declarations[k];d.plus(m.key+(a?": ":":")+m.value+";")}d.plus(a?" }\n":"}")}d.plus(a?f+"}\n":"}");return d.toString()};
(function(){function a(b,c){var d=this;b.children().each(function(){$(this).children("."+d.options.entry_class).attr("entry-level",c);a.bind(d)($(this).children("."+d.options.sub_entry_class),c+1)})}var e={level_depth:30,entry_class:"bmui-stl-entry",sub_entry_class:"bmui-stl-sub-container",entry_container_class:"bmui-stl-entry-container",shim:!1,placeholder_size:!0,intersect:60};bm.SortableTreeList=function(b,c){var d=this;this.options=$.extend({},e,c);this.element=b;this.handles=b.find("."+this.options.entry_class);
this._assignLevels();b=this.draggable=new bm.Draggable(this.handles,{helper:function(a){a=a.parent();var b=a.offset(),c=a.width(),d=a.height();a.css("position","absolute");a.offset(b);a.width(c);a.height(d);return a},remove_helper_after_done:!1,helper_position_adjust:!1,move:function(){d.placeholderPosition()},stop:function(b){if(b.elm.parent().find(".bmui-sortable-placeholder").length){var c=b.elm.parent(),e=c.next();c.find(".bmui-sortable-placeholder").remove();e.after(d.placeholder)}d.placeholder.replaceWith(b.elm.parent());
b.elm.parent().css(this.helper_cache);b.elm.attr("entry-level",d.set_level);a.bind(d)(b.elm.next(),d.set_level+1);bm.trigger(d,b.elm,"stl","change",{item:b.elm,parent:d.getParent(b.elm)})},shim:this.options.shim});b.jevent_prefix="stl";b.start=function(a){var b=a.elm.parent();this.helper_cache={position:b[0].style.position||"",left:b[0].style.left||"",top:b[0].style.top||"",right:b[0].style.right||"",bottom:b[0].style.bottom||"",width:b[0].style.width||"",height:b[0].style.height||""};bm.Draggable.prototype.start.apply(this,
arguments);d.placeholder=$("<div class='bmui-sortable-placeholder'></div>");b.before(d.placeholder);d.options.placeholder_size&&(d.placeholder.outerWidth(b.outerWidth()),d.placeholder.outerHeight(b.outerHeight()));d.draggee=this.draggee;d.candidate=a.elm;d.level_0_x=d.element.offset().left;d.draggee_level=a.elm.attr("entry-level")}};bm.jquerify("sortable-tree-list",bm.SortableTreeList);var f=bm.SortableTreeList.prototype;f._assignLevels=function(){a.bind(this)(this.element,0)};f._setPlaceholderLevel=
function(b){function c(c){var d=this.placeholder.next();for(d.is(this.draggee)&&(d=this.draggee.next());!d.length&&(this.placeholder.parent().parent().after(this.placeholder),this.draggee.prev().length||this.draggee.next().length||(d=this.draggee.parent(),this.placeholder.after(this.draggee),this.draggee.attr("entry-level",c-1),a.bind(this)(this.draggee.next(),c),d.remove()),c--,d=this.placeholder.next(),b!=c););return c}var d=this.placeholder.prev();if(d.length){var e=+d.children("."+this.options.entry_class).attr("entry-level");
if(b>e){e++;var f=d.children("."+this.options.sub_entry_class);f.length||(f=$("<div></div>"));f.addClass(this.options.sub_entry_class);d.append(f);f.append(this.placeholder)}else b!=e&&(e=c.bind(this)(e));return e}d=this.placeholder.next();d=d.length?+d.children("."+this.options.entry_class).attr("entry-level"):+this.placeholder.parent().prev().attr("entry-level")+1;b<d&&(d=c.bind(this)(d));return d};f.placeholderPosition=function(){var a=this.candidate.rect(),c,d,e=(a.left+a.right)/2,f=(a.top+a.bottom)/
2,m=this.options.intersect;this.handles.not(this.draggee.find(".bmui-stl-entry")).each(function(){var b=$(this),g=b.rect(),h=bm.intersect(g,a);h>m&&(c=b,m=h,d=0>(g.right-g.left)*(f-g.bottom)-(g.top-g.bottom)*(e-g.left)?"before":"after")});if(d)if("after"==d&&c.next().is("."+this.options.sub_entry_class))c.next().prepend(this.placeholder);else c.parent()[d](this.placeholder);var g=Math.floor((this.draggee.offset().left-this.level_0_x)/this.options.level_depth);0>g&&(g=0);this.set_level=this._setPlaceholderLevel(g)};
f.addHandle=function(a,c){this.handles=this.handles.add(a);this.draggable.addElement(a);$("<div></div>").addClass(this.options.entry_container_class).append(a);this.setParent(a,c)};f.createHandles=function(a){a=(a||this.element).children(":visible");return this.options.handle?a.filter(this.options.handle):a};f.destroy=function(){this.draggable.destroy()};f.restore=function(){this.draggable.restore()};f.getParent=function(a){a=a.closest("."+this.options.sub_entry_class);return a.length?a.prev():$()};
f.setParent=function(b,c){if(c&&c.length){var d=+c.attr("entry-level");var e=c.next();e.length||(e=$("<div></div>"),e.addClass(this.options.sub_entry_class),c.after(e));c=e}else c=this.element,d=-1;if(!b.parent().parent().is(c)){var f;b.parent().next().length||b.parent().prev().length||(f=b.parent().parent());c.append(b.parent());f&&f.remove();b.attr("entry-level",d+1);a.bind(this)(b.next(),d+2)}};f.each=function(a){var b=this,d=function(c,e){var f;c.children().each(function(){var c=$(this).children("."+
b.options.entry_class);if(!1===a(c,e?e.children("."+b.options.entry_class):void 0))return f=!1;c=$(this).children("."+b.options.sub_entry_class);if(c.length&&(f=d(c),!1===f))return!1});return f};d(this.element)}})();
(function(a){"function"===typeof define&&define.amd?define(["jquery","jquery.ui.widget"],a):a(window.jQuery)})(function(a){a.support.fileInput=!(/(Android (1\.[0156]|2\.[01]))|(Windows Phone (OS 7|8\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle\/(1\.0|2\.[05]|3\.0))/.test(window.navigator.userAgent)||a('<input type="file">').prop("disabled"));a.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader);a.support.xhrFormDataFileUpload=!!window.FormData;a.support.blobSlice=
window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);var e={dropZone:a(document),pasteZone:a(document),fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,
recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(b,c){b=this.messages[b]||b.toString();c&&a.each(c,function(a,c){b=b.replace("{"+a+"}",c)});return b},formData:function(a){return a.serializeArray()},add:function(b,c){if(b.isDefaultPrevented())return!1;(c.autoUpload||!1!==c.autoUpload&&a(this).fileupload("option","autoUpload"))&&c.process().done(function(){c.submit()})},processData:!1,contentType:!1,
cache:!1},f=function(b,c){this.element=b;this.options=a.extend({},e,c);this._create()};bm.jquerify("fileupload",f);f.prototype={_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:a.support.blobSlice&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime();this.bitrate=this.loaded=0;this.getBitrate=function(a,c,d){var b=a-this.timestamp;if(!this.bitrate||
!d||b>d)this.bitrate=1E3/b*(c-this.loaded)*8,this.loaded=c,this.timestamp=a;return this.bitrate}},_isXHRUpload:function(b){return!b.forceIframeTransport&&(!b.multipart&&a.support.xhrFileUpload||a.support.xhrFormDataFileUpload)},_getFormData:function(b){if("function"===a.type(b.formData))return b.formData(b.form);if(a.isArray(b.formData))return b.formData;if("object"===a.type(b.formData)){var c=[];a.each(b.formData,function(a,b){c.push({name:a,value:b})});return c}return[]},_getTotal:function(b){var c=
0;a.each(b,function(a,b){c+=b.size||1});return c},_initProgressObject:function(b){var c={loaded:0,total:0,bitrate:0};b._progress?a.extend(b._progress,c):b._progress=c},_initResponseObject:function(a){var b;if(a._response)for(b in a._response)a._response.hasOwnProperty(b)&&delete a._response[b];else a._response={}},_onProgress:function(b,c){if(b.lengthComputable){var d=Date.now?Date.now():(new Date).getTime();if(!(c._time&&c.progressInterval&&d-c._time<c.progressInterval&&b.loaded!==b.total)){c._time=
d;var e=Math.floor(b.loaded/b.total*(c.chunkSize||c._progress.total))+(c.uploadedBytes||0);this._progress.loaded+=e-c._progress.loaded;this._progress.bitrate=this._bitrateTimer.getBitrate(d,this._progress.loaded,c.bitrateInterval);c._progress.loaded=c.loaded=e;c._progress.bitrate=c.bitrate=c._bitrateTimer.getBitrate(d,e,c.bitrateInterval);this._trigger("progress",a.Event("progress",{delegatedEvent:b}),c);this._trigger("progressall",a.Event("progressall",{delegatedEvent:b}),this._progress)}}},_initProgressListener:function(b){var c=
this,d=b.xhr?b.xhr():a.ajaxSettings.xhr();d.upload&&(a(d.upload).bind("progress",function(a){var d=a.originalEvent;a.lengthComputable=d.lengthComputable;a.loaded=d.loaded;a.total=d.total;c._onProgress(a,b)}),b.xhr=function(){return d})},_isInstanceOf:function(a,c){return Object.prototype.toString.call(c)==="[object "+a+"]"},_initXHRData:function(b){var c=this,d=b.files[0],e=b.multipart||!a.support.xhrFileUpload,f="array"===a.type(b.paramName)?b.paramName[0]:b.paramName;b.headers=a.extend({},b.headers);
b.contentRange&&(b.headers["Content-Range"]=b.contentRange);e&&!b.blob&&this._isInstanceOf("File",d)||(b.headers["Content-Disposition"]='attachment; filename="'+encodeURI(d.name)+'"');if(!e)b.contentType=d.type||"application/octet-stream",b.data=b.blob||d;else if(a.support.xhrFormDataFileUpload){if(b.postMessage){var m=this._getFormData(b);b.blob?m.push({name:f,value:b.blob}):a.each(b.files,function(c,d){m.push({name:"array"===a.type(b.paramName)&&b.paramName[c]||f,value:d})})}else c._isInstanceOf("FormData",
b.formData)?m=b.formData:(m=new FormData,a.each(this._getFormData(b),function(a,b){m.append(b.name,b.value)})),b.blob?m.append(f,b.blob,d.name):a.each(b.files,function(d,e){(c._isInstanceOf("File",e)||c._isInstanceOf("Blob",e))&&m.append("array"===a.type(b.paramName)&&b.paramName[d]||f,e,e.uploadName||e.name)});b.data=m}b.blob=null},_initIframeSettings:function(b){var c=a("<a></a>").prop("href",b.url).prop("host");b.dataType="iframe "+(b.dataType||"");b.formData=this._getFormData(b);b.redirect&&c&&
c!==location.host&&b.formData.push({name:b.redirectParamName||"redirect",value:b.redirect})},_initDataSettings:function(a){this._isXHRUpload(a)?(this._chunkedUpload(a,!0)||(a.data||this._initXHRData(a),this._initProgressListener(a)),a.postMessage&&(a.dataType="postmessage "+(a.dataType||""))):this._initIframeSettings(a)},_getParamName:function(b){var c=a(b.fileInput),d=b.paramName;d?a.isArray(d)||(d=[d]):(d=[],c.each(function(){var b=a(this),c=b.prop("name")||"files[]";for(b=(b.prop("files")||[1]).length;b;)d.push(c),
--b}),d.length||(d=[c.prop("name")||"files[]"]));return d},_initFormSettings:function(b){b.form&&b.form.length||(b.form=a(b.fileInput.prop("form")),b.form.length||(b.form=a(this.options.fileInput.prop("form"))));b.paramName=this._getParamName(b);b.url||(b.url=b.form.prop("action")||location.href);b.type=(b.type||"string"===a.type(b.form.prop("method"))&&b.form.prop("method")||"").toUpperCase();"POST"!==b.type&&"PUT"!==b.type&&"PATCH"!==b.type&&(b.type="POST");b.formAcceptCharset||(b.formAcceptCharset=
b.form.attr("accept-charset"))},_getAJAXSettings:function(b){b=a.extend({},this.options,b);this._initFormSettings(b);this._initDataSettings(b);return b},_getDeferredState:function(a){return a.state?a.state():a.isResolved()?"resolved":a.isRejected()?"rejected":"pending"},_enhancePromise:function(a){a.success=a.done;a.error=a.fail;a.complete=a.always;return a},_getXHRPromise:function(b,c,d){var e=a.Deferred(),f=e.promise();c=c||this.options.context||f;!0===b?e.resolveWith(c,d):!1===b&&e.rejectWith(c,
d);f.abort=e.promise;return this._enhancePromise(f)},_addConvenienceMethods:function(b,c){var d=this,e=function(b){return a.Deferred().resolveWith(d,b).promise()};c.process=function(b,f){if(b||f)c._processQueue=this._processQueue=(this._processQueue||e([this])).pipe(function(){return c.errorThrown?a.Deferred().rejectWith(d,[c]).promise():e(arguments)}).pipe(b,f);return this._processQueue||e([this])};c.submit=function(){"pending"!==this.state()&&(c.jqXHR=this.jqXHR=!1!==d._trigger("submit",a.Event("submit",
{delegatedEvent:b}),this)&&d._onSend(b,this));return this.jqXHR||d._getXHRPromise()};c.abort=function(){if(this.jqXHR)return this.jqXHR.abort();this.errorThrown="abort";d._trigger("fail",null,this);return d._getXHRPromise(!1)};c.state=function(){if(this.jqXHR)return d._getDeferredState(this.jqXHR);if(this._processQueue)return d._getDeferredState(this._processQueue)};c.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===d._getDeferredState(this._processQueue)};c.progress=function(){return this._progress};
c.response=function(){return this._response}},_getUploadedBytes:function(a){return(a=(a=(a=a.getResponseHeader("Range"))&&a.split("-"))&&1<a.length&&parseInt(a[1],10))&&a+1},_chunkedUpload:function(b,c){b.uploadedBytes=b.uploadedBytes||0;var d=this,e=b.files[0],f=e.size,m=b.uploadedBytes,g=b.maxChunkSize||f,l=this._blobSlice,B=a.Deferred(),x=B.promise(),A;if(!(this._isXHRUpload(b)&&l&&(m||g<f))||b.data)return!1;if(c)return!0;if(m>=f)return e.error=b.i18n("uploadedBytes"),this._getXHRPromise(!1,b.context,
[null,"error",e.error]);var E=function(){var c=a.extend({},b),h=c._progress.loaded;c.blob=l.call(e,m,m+g,e.type);c.chunkSize=c.blob.size;c.contentRange="bytes "+m+"-"+(m+c.chunkSize-1)+"/"+f;d._initXHRData(c);d._initProgressListener(c);A=(!1!==d._trigger("chunksend",null,c)&&bm.ajax(c)||d._getXHRPromise(!1,c.context)).done(function(e,g,k){m=d._getUploadedBytes(k)||m+c.chunkSize;h+c.chunkSize-c._progress.loaded&&d._onProgress(a.Event("progress",{lengthComputable:!0,loaded:m-c.uploadedBytes,total:m-
c.uploadedBytes}),c);b.uploadedBytes=c.uploadedBytes=m;c.result=e;c.textStatus=g;c.jqXHR=k;d._trigger("chunkdone",null,c);d._trigger("chunkalways",null,c);m<f?E():B.resolveWith(c.context,[e,g,k])}).fail(function(a,b,e){c.jqXHR=a;c.textStatus=b;c.errorThrown=e;d._trigger("chunkfail",null,c);d._trigger("chunkalways",null,c);B.rejectWith(c.context,[a,b,e])})};this._enhancePromise(x);x.abort=function(){return A.abort()};E();return x},_beforeSend:function(a,c){0===this._active&&(this._trigger("start"),
this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0);this._initResponseObject(c);this._initProgressObject(c);c._progress.loaded=c.loaded=c.uploadedBytes||0;c._progress.total=c.total=this._getTotal(c.files)||1;c._progress.bitrate=c.bitrate=0;this._active+=1;this._progress.loaded+=c.loaded;this._progress.total+=c.total},_onDone:function(b,c,d,e){var f=e._progress.total,h=e._response;e._progress.loaded<f&&this._onProgress(a.Event("progress",
{lengthComputable:!0,loaded:f,total:f}),e);h.result=e.result=b;h.textStatus=e.textStatus=c;h.jqXHR=e.jqXHR=d;this._trigger("done",null,e)},_onFail:function(a,c,d,e){var b=e._response;e.recalculateProgress&&(this._progress.loaded-=e._progress.loaded,this._progress.total-=e._progress.total);b.jqXHR=e.jqXHR=a;b.textStatus=e.textStatus=c;b.errorThrown=e.errorThrown=d;this._trigger("fail",null,e)},_onAlways:function(a,c,d,e){this._trigger("always",null,e)},_onSend:function(b,c){c.submit||this._addConvenienceMethods(b,
c);var d=this,e,f,m=d._getAJAXSettings(c),g=function(){d._sending+=1;m._bitrateTimer=new d._BitrateTimer;return e=e||((f||!1===d._trigger("send",a.Event("send",{delegatedEvent:b}),m))&&d._getXHRPromise(!1,m.context,f)||d._chunkedUpload(m)||bm.ajax(m)).done(function(a,b,c){d._onDone(a,b,c,m)}).fail(function(a,b,c){d._onFail(a,b,c,m)}).always(function(a,b,c){d._onAlways(a,b,c,m);--d._sending;--d._active;if(m.limitConcurrentUploads&&m.limitConcurrentUploads>d._sending)for(a=d._slots.shift();a;){if("pending"===
d._getDeferredState(a)){a.resolve();break}a=d._slots.shift()}0===d._active&&d._trigger("stop")})};this._beforeSend(b,m);if(this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending){if(1<this.options.limitConcurrentUploads){var l=a.Deferred();this._slots.push(l);c=l.pipe(g)}else c=this._sequence=this._sequence.pipe(g,g);c.abort=function(){f=[void 0,"abort","abort"];return e?e.abort():(l&&l.rejectWith(m.context,f),g())};return this._enhancePromise(c)}return g()},
_onAdd:function(b,c){var d=this,e=!0,f=a.extend({},this.options,c),m=c.files,g=m.length,l=f.limitMultiFileUploads,B=f.limitMultiFileUploadSize,x=f.limitMultiFileUploadSizeOverhead,A=0,E=this._getParamName(f),D=0;!B||g&&void 0!==m[0].size||(B=void 0);if((f.singleFileUploads||l||B)&&this._isXHRUpload(f))if(f.singleFileUploads||B||!l)if(!f.singleFileUploads&&B){var q=[];var p=[];for(f=0;f<g;f+=1)if(A+=m[f].size+x,f+1===g||A+m[f+1].size+x>B||l&&f+1-D>=l)q.push(m.slice(D,f+1)),A=E.slice(D,f+1),A.length||
(A=E),p.push(A),D=f+1,A=0}else p=E;else for(q=[],p=[],f=0;f<g;f+=l)q.push(m.slice(f,f+l)),A=E.slice(f,f+l),A.length||(A=E),p.push(A);else q=[m],p=[E];c.originalFiles=m;a.each(q||m,function(f,g){var h=a.extend({},c);h.files=q?g:[g];h.paramName=p[f];d._initResponseObject(h);d._initProgressObject(h);d._addConvenienceMethods(b,h);return e=d._trigger("add",a.Event("add",{delegatedEvent:b}),h)});return e},_replaceFileInput:function(b){var c=b.clone(!0);a("<form></form>").append(c)[0].reset();b.after(c).detach();
a.cleanData(b.unbind("remove"));this.options.fileInput=this.options.fileInput.map(function(a,e){return e===b[0]?c[0]:e});b[0]===this.element[0]&&(this.element=c)},_handleFileTreeEntry:function(b,c){var d=this,e=a.Deferred(),f=function(a){a&&!a.entry&&(a.entry=b);e.resolve([a])};c=c||"";if(b.isFile)b._file?(b._file.relativePath=c,e.resolve(b._file)):b.file(function(a){a.relativePath=c;e.resolve(a)},f);else if(b.isDirectory){var m=b.createReader();m.readEntries(function(a){d._handleFileTreeEntries(a,
c+b.name+"/").done(function(a){e.resolve(a)}).fail(f)},f)}else e.resolve([]);return e.promise()},_handleFileTreeEntries:function(b,c){var d=this;return a.when.apply(a,a.map(b,function(a){return d._handleFileTreeEntry(a,c)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(b){b=b||{};var c=b.items;return c&&c.length&&(c[0].webkitGetAsEntry||c[0].getAsEntry)?this._handleFileTreeEntries(a.map(c,function(a){var b;if(a.webkitGetAsEntry){if(b=a.webkitGetAsEntry())b._file=
a.getAsFile();return b}return a.getAsEntry()})):a.Deferred().resolve(a.makeArray(b.files)).promise()},_getSingleFileInputFiles:function(b){b=a(b);var c=b.prop("entries");if(c&&c.length)return this._handleFileTreeEntries(c);c=a.makeArray(b.prop("files"));if(c.length)void 0===c[0].name&&c[0].fileName&&a.each(c,function(a,b){b.name=b.fileName;b.size=b.fileSize});else{b=b.prop("value");if(!b)return a.Deferred().resolve([]).promise();c=[{name:b.replace(/^.*\\/,"")}]}return a.Deferred().resolve(c).promise()},
_getFileInputFiles:function(b){return b instanceof a&&1!==b.length?a.when.apply(a,a.map(b,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(b)},_onChange:function(b){var c=this,d={fileInput:a(b.target),form:a(b.target.form)};this._getFileInputFiles(d.fileInput).always(function(e){d.files=e;c.options.replaceFileInput&&c._replaceFileInput(d.fileInput);!1!==c._trigger("change",a.Event("change",{delegatedEvent:b}),d)&&c._onAdd(b,
d)})},_onPaste:function(b){var c=b.originalEvent&&b.originalEvent.clipboardData&&b.originalEvent.clipboardData.items,d={files:[]};c&&c.length&&(a.each(c,function(a,b){(a=b.getAsFile&&b.getAsFile())&&d.files.push(a)}),!1!==this._trigger("paste",a.Event("paste",{delegatedEvent:b}),d)&&this._onAdd(b,d))},_onDrop:function(b){b.stopPropagation();b.preventDefault();b.dataTransfer=b.originalEvent&&b.originalEvent.dataTransfer;var c=this,d=b.dataTransfer,e={};d&&d.files&&d.files.length&&this._getDroppedFiles(d).always(function(d){e.files=
d;!1!==c._trigger("drop",a.Event("drop",{delegatedEvent:b}),e)&&c._onAdd(b,e)})},_onDragOver:function(b){b.stopPropagation();b.preventDefault();b.dataTransfer=b.originalEvent&&b.originalEvent.dataTransfer;var c=b.dataTransfer;c&&-1!==a.inArray("Files",c.types)&&!1!==this._trigger("dragover",a.Event("dragover",{delegatedEvent:b}))&&(c.dropEffect="copy")},_initEventHandlers:function(){var b=this;this._isXHRUpload(this.options)&&(this.options.dropZone.on({dragover:this._onDragOver.bind(this),drop:this._onDrop.bind(this),
dragenter:function(a){a.stopPropagation();a.preventDefault();b._trigger("dragenter",a);return!1},dragleave:function(a){a.stopPropagation();a.preventDefault();b._trigger("dragleave",a);return!1}}),this.options.pasteZone.on({paste:this._onPaste.bind(this)}));if(a.support.fileInput)this.options.fileInput.on({change:this._onChange.bind(this)})},_destroyEventHandlers:function(){this.options.dropZone.off("dragover drop");this.options.pasteZone.off("paste");this.options.fileInput.off("change")},_setOption:function(b,
c){var d=-1!==a.inArray(b,this._specialOptions);d&&this._destroyEventHandlers();this._super(b,c);d&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var b=this.options;void 0===b.fileInput?b.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):b.fileInput instanceof a||(b.fileInput=a(b.fileInput));b.dropZone instanceof a||(b.dropZone=a(b.dropZone));b.pasteZone instanceof a||(b.pasteZone=a(b.pasteZone))},_getRegExp:function(a){a=
a.split("/");var b=a.pop();a.shift();return new RegExp(a.join("/"),b)},_isRegExpOption:function(b,c){return"url"!==b&&"string"===a.type(c)&&/^\/.*\/[igm]{0,3}$/.test(c)},_initDataAttributes:function(){var b=this,c=this.options,d=a(this.element[0].cloneNode(!1));a.each(d.data(),function(a,e){var f="data-"+a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();d.attr(f)&&(b._isRegExpOption(a,e)&&(e=b._getRegExp(e)),c[a]=e)})},_create:function(){this._initDataAttributes();this._initSpecialOptions();this._slots=
[];this._sequence=this._getXHRPromise(!0);this._sending=this._active=0;this._initProgressObject(this);this._initEventHandlers()},_trigger:function(b,c,d){var e,f=this.options[b];d=d||{};c=a.Event(c);c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase();c.target=this.element[0];if(b=c.originalEvent)for(e in b)e in c||(c[e]=b[e]);this.element.trigger(c,d);return!(a.isFunction(f)&&!1===f.apply(this.element[0],[c].concat(d))||c.isDefaultPrevented())},active:function(){return this._active},
progress:function(){return this._progress},add:function(b){var c=this;b&&!this.options.disabled&&(b.fileInput&&!b.files?this._getFileInputFiles(b.fileInput).always(function(a){b.files=a;c._onAdd(null,b)}):(b.files=a.makeArray(b.files),this._onAdd(null,b)))},send:function(b){if(b&&!this.options.disabled){if(b.fileInput&&!b.files){var c=this,d=a.Deferred(),e=d.promise(),f,m;e.abort=function(){m=!0;if(f)return f.abort();d.reject(null,"abort","abort");return e};this._getFileInputFiles(b.fileInput).always(function(a){m||
(a.length?(b.files=a,f=c._onSend(null,b).then(function(a,b,c){d.resolve(a,b,c)},function(a,b,c){d.reject(a,b,c)})):d.reject())});return this._enhancePromise(e)}b.files=a.makeArray(b.files);if(b.files.length)return this._onSend(null,b)}return this._getXHRPromise(!1,b&&b.context)}}});
(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports&&"object"==typeof module?module.exports=a:a(jQuery)})(function(a,e){function f(b,c,d,e){for(var f=[],g=0;g<b.length;g++){var h=b[g];if(h){var k=tinycolor(h),l=.5>k.toHsl().l?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";l+=tinycolor.equals(c,h)?" sp-thumb-active":"";h=k.toString(e.preferredFormat||"rgb");var m=E?"background-color:"+k.toRgbString():"filter:"+k.toFilter();f.push('<span title="'+
h+'" data-color="'+k.toRgbString()+'" class="fee-identical-sewc-elm '+l+'"><span class="fee-identical-sewc-elm sp-thumb-inner" style="'+m+';" /></span>')}else f.push(a("<div />").append(a('<span data-color="" style="background-color:transparent;" class="fee-identical-sewc-elm sp-clear-display"></span>').attr("title",e.noColorSelectedText)).html())}return"<div class='sp-cf "+d+"'>"+f.join("")+"</div>"}function b(b,c){b=a.extend({},B,b);b.callbacks={move:m(b.move,c),change:m(b.change,c),show:m(b.show,
c),hide:m(b.hide,c),beforeShow:m(b.beforeShow,c)};return b}function c(c,h){function m(){u.showPaletteOnly&&(u.showPalette=!0);Na.text(u.showPaletteOnly?u.togglePaletteMoreText:u.togglePaletteLessText);if(u.palette){Y=u.palette.slice(0);oa=a.isArray(Y[0])?Y:[Y];qa={};for(var b=0;b<oa.length;b++)for(var c=0;c<oa[b].length;c++){var d=tinycolor(oa[b][c]).toRgbString();qa[d]=!0}}I.toggleClass("sp-flat",ma);I.toggleClass("sp-input-disabled",!u.showInput);I.toggleClass("sp-alpha-enabled",u.showAlpha);I.toggleClass("sp-clear-enabled",
xa);I.toggleClass("sp-buttons-disabled",!u.showButtons);I.toggleClass("sp-palette-buttons-disabled",!u.togglePaletteOnly);I.toggleClass("sp-palette-disabled",!u.showPalette);I.toggleClass("sp-palette-only",u.showPaletteOnly);I.toggleClass("sp-initial-disabled",!u.showInitial);I.addClass(u.className).addClass(u.containerClassName);da()}function p(){if(Z&&window.localStorage){try{var b=window.localStorage[Z].split(",#");1<b.length&&(delete window.localStorage[Z],a.each(b,function(a,b){q(b)}))}catch(Wa){}try{S=
window.localStorage[Z].split(";")}catch(Wa){}}}function q(b){if(ua){b=tinycolor(b).toRgbString();if(!qa[b]&&-1===a.inArray(b,S))for(S.push(b);S.length>V;)S.shift();if(Z&&window.localStorage)try{window.localStorage[Z]=S.join(";")}catch(Wa){}}}function B(){var a=[];if(u.showPalette)for(var b=0;b<S.length;b++){var c=tinycolor(S[b]).toRgbString();qa[c]||a.push(S[b])}return a.reverse().slice(0,u.maxSelectionSize)}function L(){var b=J(),c=a.map(oa,function(a,c){return f(a,b,"sp-palette-row sp-palette-row-"+
c,u)});p();S&&c.push(f(B(),b,"sp-palette-row sp-palette-row-selection",u));Sa.html(c.join(""))}function ja(){if(u.showInitial){var a=ya,b=J();Ta.html(f([a,b],b,"sp-palette-row-initial",u))}}function ba(){(0>=z||0>=F||0>=va)&&da();I.addClass("sp-dragging");N=null;X.trigger("dragstart.spectrum",[J()])}function C(){I.removeClass("sp-dragging");X.trigger("dragstop.spectrum",[J()])}function K(){var a=sa.val();null!==a&&""!==a||!xa?(a=tinycolor(a),a.isValid()?(P(a),r(!0)):sa.addClass("sp-validation-error")):
(P(null),r(!0))}function T(){n?M():U()}function U(){var b=a.Event("beforeShow.spectrum");if(n)da();else if(X.trigger(b,[J()]),!1!==G.beforeShow(J())&&!b.isDefaultPrevented()){for(b=0;b<x.length;b++)x[b]&&x[b].hide();n=!0;a(Aa).bind("click.spectrum",O);a(window).bind("resize.spectrum",R);za.addClass("sp-active");I.removeClass("sp-hidden");da();ca();ya=J();ja();G.show(ya);X.trigger("show.spectrum",[ya])}}function O(a){2!=a.button&&(Xa?r(!0):P(ya,!0),M())}function M(){n&&!ma&&(n=!1,a(Aa).unbind("click.spectrum",
O),a(window).unbind("resize.spectrum",R),za.removeClass("sp-active"),I.addClass("sp-hidden"),G.hide(J()),X.trigger("hide.spectrum",[J()]))}function P(a,b){if(tinycolor.equals(a,J()))ca();else{if(!a&&xa)wa=!0;else{wa=!1;var c=tinycolor(a);a=c.toHsv();ka=a.h%360/360;fa=a.s;aa=a.v;ha=a.a}ca();c&&c.isValid()&&!b&&(Fa=Qa||c.getFormat())}}function J(a){a=a||{};return xa&&wa?null:tinycolor.fromRatio({h:ka,s:fa,v:aa,a:Math.round(100*ha)/100},{format:a.format||Fa})}function ia(){ca();G.move(J());X.trigger("move.spectrum",
[J()])}function ca(){sa.removeClass("sp-validation-error");na();var a=tinycolor.fromRatio({h:ka,s:1,v:1});ra.css("background-color",a.toHexString());a=Fa;!(1>ha)||0===ha&&"name"===a||"hex"!==a&&"hex3"!==a&&"hex6"!==a&&"name"!==a||(a="rgb");var b=J({format:a}),c="";Ca.removeClass("sp-clear-display");Ca.css("background-color","transparent");if(!b&&xa)Ca.addClass("sp-clear-display");else{c=b.toHexString();var d=b.toRgbString();E||1===b.alpha?Ca.css("background-color",d):(Ca.css("background-color","transparent"),
Ca.css("filter",b.toFilter()));if(u.showAlpha){d=b.toRgb();d.a=0;d=tinycolor(d).toRgbString();var e="linear-gradient(left, "+d+", "+c+")";A?Da.css("filter",tinycolor(d).toFilter({gradientType:1},c)):(Da.css("background","-webkit-"+e),Da.css("background","-moz-"+e),Da.css("background","-ms-"+e),Da.css("background","linear-gradient(to right, "+d+", "+c+")"))}c=b.toString(a)}u.showInput&&sa.val(c);u.showPalette&&L();ja()}function na(){var a=fa,b=aa;xa&&wa?(Ka.hide(),Ia.hide(),Ha.hide()):(Ka.show(),Ia.show(),
Ha.show(),a*=F,b=z-b*z,a=Math.max(-ea,Math.min(F-ea,a-ea)),b=Math.max(-ea,Math.min(z-ea,b-ea)),Ha.css({top:b+"px",left:a+"px"}),Ka.css({left:ha*Q-H/2+"px"}),Ia.css({top:ka*va-la+"px"}))}function r(a){var b=J(),c="";tinycolor.equals(b,ya);b&&(c=b.toString(Fa),q(b));Ja&&X.val(c);a&&(G.change(b),X.trigger("change",[b]))}function da(){F=ra.width();z=ra.height();ea=Ha.height();Ma.width();va=Ma.height();la=Ia.height();Q=Ra.width();H=Ka.width();ma||(I.css("position","absolute"),u.offset?I.offset(u.offset):
I.offset(d(I,Ea)));na();u.showPalette&&L();X.trigger("reflow.spectrum")}function pa(){M();Ba=!0;X.attr("disabled",!0);Ea.addClass("sp-disabled")}var u=b(h,c),ma=u.flat,ua=u.showSelectionPalette,Z=u.localStorageKey;h=u.theme;var G=u.callbacks,R=l(da,10),n=!1,F=0,z=0,ea=0,va=0,Q=0,H=0,la=0,ka=0,fa=0,aa=0,ha=1,Y=[],oa=[],qa={},S=u.selectionPalette.slice(0),V=u.maxSelectionSize,N=null,Aa=c.ownerDocument,X=a(c),Ba=!1,I=a(D,Aa).addClass(h),ta=I.find(".sp-picker-container"),ra=I.find(".sp-color"),Ha=I.find(".sp-dragger"),
Ma=I.find(".sp-hue"),Ia=I.find(".sp-slider"),Da=I.find(".sp-alpha-inner"),Ra=I.find(".sp-alpha"),Ka=I.find(".sp-alpha-handle"),sa=I.find(".sp-input"),Sa=I.find(".sp-palette"),Ta=I.find(".sp-initial"),Ua=I.find(".sp-cancel"),Pa=I.find(".sp-clear"),Va=I.find(".sp-choose"),Na=I.find(".sp-palette-toggle"),Ja=X.is("input");c=Ja&&"color"===X.attr("type")&&a.fn.spectrum.inputTypeColorSupport();var Oa=Ja&&!ma,za=Oa?a("<div class='sp-replacer'><div class='sp-preview'><div class='sp-preview-inner'></div></div><div class='sp-dd'>&#9660;</div></div>").addClass(h).addClass(u.className).addClass(u.replacerClassName):
a([]),Ea=Oa?za:X,Ca=za.find(".sp-preview-inner"),Ga=u.color||Ja&&X.val(),ya=!1,Qa=u.preferredFormat,Fa=Qa,Xa=!u.showButtons||u.clickoutFiresChange,wa=!Ga,xa=u.allowEmpty&&!c;(function(){function b(b){b.data&&b.data.ignore?(P(a(b.target).closest(".sp-thumb-el").data("color")),ia()):(P(a(b.target).closest(".sp-thumb-el").data("color")),ia(),r(!0),u.hideAfterPaletteSelect&&M());return!1}function c(c){if(u.checkBeforeSelectColor||u.checkBeforeSelectColorCallback){var d=a(c.target).closest(".sp-thumb-el").data("color");
u.checkBeforeSelectColorCallback(d)?b(c):u.beforeSelectColorCallbackFinalize(d)}else b(c);return!1}A&&I.find("*:not(input)").attr("unselectable","on");m();Oa&&X.after(za).hide();xa||Pa.hide();if(ma)X.after(I).hide();else{var d="parent"===u.appendTo?X.parent():a(u.appendTo);1!==d.length&&(d=a("body"));d.append(I)}p();Ea.bind("click.spectrum touchstart.spectrum",function(b){Ba||T();b.stopPropagation();a(b.target).is("input")||b.preventDefault()});(X.is(":disabled")||!0===u.disabled)&&pa();I.click(k);
sa.change(K);sa.bind("paste",function(){setTimeout(K,1)});sa.keydown(function(a){13==a.keyCode&&K()});Ua.text(u.cancelText);Ua.bind("click.spectrum",function(a){a.stopPropagation();a.preventDefault();P(ya,!0);M()});Pa.attr("title",u.clearText);Pa.bind("click.spectrum",function(a){a.stopPropagation();a.preventDefault();wa=!0;ia();ma&&r(!0)});Va.text(u.chooseText);Va.bind("click.spectrum",function(a){a.stopPropagation();a.preventDefault();A&&sa.is(":focus")&&sa.trigger("change");sa.hasClass("sp-validation-error")||
(r(!0),M())});Na.text(u.showPaletteOnly?u.togglePaletteMoreText:u.togglePaletteLessText);Na.bind("click.spectrum",function(a){a.stopPropagation();a.preventDefault();u.showPaletteOnly=!u.showPaletteOnly;u.showPaletteOnly||ma||I.css("left","-="+(ta.outerWidth(!0)+5));m()});g(Ra,function(a,b,c){ha=a/Q;wa=!1;c.shiftKey&&(ha=Math.round(10*ha)/10);ia()},ba,C);g(Ma,function(a,b){ka=parseFloat(b/va);wa=!1;u.showAlpha||(ha=1);ia()},ba,C);g(ra,function(a,b,c){c.shiftKey?N||(N=Math.abs(a-fa*F)>Math.abs(b-(z-
aa*z))?"x":"y"):N=null;c=!N||"y"===N;N&&"x"!==N||(fa=parseFloat(a/F));c&&(aa=parseFloat((z-b)/z));wa=!1;u.showAlpha||(ha=1);ia()},ba,C);Ga?(P(Ga),ca(),Fa=Qa||tinycolor(Ga).format,q(Ga)):ca();ma&&U();d=A?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Sa.delegate(".sp-thumb-el",d,c);Ta.delegate(".sp-thumb-el:nth-child(1)",d,{ignore:!0},c)})();var La={show:U,hide:M,toggle:T,reflow:da,option:function(b,c){if(b===e)return a.extend({},u);if(c===e)return u[b];u[b]=c;m()},enable:function(){Ba=
!1;X.attr("disabled",!1);Ea.removeClass("sp-disabled")},disable:pa,offset:function(a){u.offset=a;da()},set:function(a){P(a);r()},get:J,destroy:function(){X.show();Ea.unbind("click.spectrum touchstart.spectrum");I.remove();za.remove();x[La.id]=null},container:I};La.id=x.push(La)-1;return La}function d(b,c){var d=b.outerWidth(),e=b.outerHeight(),f=c.outerHeight(),g=b[0].ownerDocument,h=g.documentElement;b=h.clientWidth+a(g).scrollLeft();g=h.clientHeight+a(g).scrollTop();c=c.offset();c.top+=f;c.left-=
Math.min(c.left,c.left+d>b&&b>d?Math.abs(c.left+d-b):0);c.top-=Math.min(c.top,c.top+e>g&&g>e?Math.abs(e+f-0):0);return c}function h(){}function k(a){a.stopPropagation()}function m(a,b){var c=Array.prototype.slice,d=c.call(arguments,2);return function(){return a.apply(b,d.concat(c.call(arguments)))}}function g(b,c,d,e){function f(a){a.stopPropagation&&a.stopPropagation();a.preventDefault&&a.preventDefault();a.returnValue=!1}function g(a){if(l){if(A&&9>k.documentMode&&!a.button)return h();var d=a.originalEvent&&
a.originalEvent.touches&&a.originalEvent.touches[0],e=Math.max(0,Math.min((d&&d.pageX||a.pageX)-m.left,q));d=Math.max(0,Math.min((d&&d.pageY||a.pageY)-m.top,p));t&&f(a);c.apply(b,[e,d,a])}}function h(){l&&(a(k).unbind(x),a(k.body).removeClass("sp-dragging"),e.apply(b,arguments));l=!1}c=c||function(){};d=d||function(){};e=e||function(){};var k=document,l=!1,m={},p=0,q=0,t="ontouchstart"in window,x={};x.selectstart=f;x.dragstart=f;x["touchmove mousemove"]=g;x["touchend mouseup"]=h;a(b).bind("touchstart mousedown",
function(c){(c.which?3==c.which:2==c.button)||l||!1===d.apply(b,arguments)||(l=!0,p=a(b).height(),q=a(b).width(),m=a(b).offset(),a(k).bind(x),a(k.body).addClass("sp-dragging"),t||g(c),f(c))})}function l(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null;a.apply(e,f)};c&&clearTimeout(d);if(c||!d)d=setTimeout(g,b)}}var B={beforeShow:h,move:h,change:h,show:h,hide:h,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!1,showInitial:!1,showPalette:!1,showPaletteOnly:!1,
hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:["#ffffff #000000 #ff0000 #ff8000 #ffff00 #008000 #0000ff #4b0082 #48dbfb #1dd1a1 #10ac84 #222f3e #8395a7 #54a0ff #00d2d3 #ff9ff3 #c8d6e5 #feca57 #ff6b6b #ffc048 #ff5e57 #ffa801 #ffdd59 #0be881 #0fbcf9 #f53b57 #ced6e0 #dfe4ea #f1f2f6 #2f3542 #747d8c #00a8ff #9c88ff #fbc531 #4cd137 #487eb0 #0097e6 #8c7ae6 #e1b12c #44bd32 #40739e #e84118 #f5f6fa #7f8fa6 #273c75 #353b48 #2f3640 #192a56 #718093 #dcdde1 #c23616 #f3a683 #f7d794 #778beb #e77f67 #cf6a87 #f19066 #f5cd79 #546de5 #e15f41 #c44569 #786fa6 #63cdda #f78fb3 #f8a5c2 #9400d3 #ea8685 #596275 #574b90 #5f27cd #3dc1d3 #e66767 #303952 #1abc9c #2ecc71 #3498db #9b59b6 #34495e #16a085 #27ae60 #2980b9 #f1c40f #e67e22 #e74c3c #f39c12 #d35400 #c0392b #ecf0f1 #95a5a6 #bdc3c7".split(" ")],
selectionPalette:[],disabled:!1,offset:null},x=[],A=!!/msie/i.exec(window.navigator.userAgent),E=function(){var a=document.createElement("div").style;a.cssText="background-color:rgba(0,0,0,.5)";return!!~(""+a.backgroundColor).indexOf("rgba")||!!~(""+a.backgroundColor).indexOf("hsla")}(),D=function(){var a="";if(A)for(var b=1;6>=b;b++)a+="<div class='sp-"+b+"'></div>";return["<div class='sp-container sp-hidden'><div class='sp-palette-container'><div class='sp-palette sp-thumb sp-cf'></div><div class='sp-palette-button-container sp-cf'><button type='button' class='sp-palette-toggle'></button></div></div><div class='sp-picker-container'><div class='sp-top sp-cf'><div class='sp-fill'></div><div class='sp-top-inner'><div class='sp-color'><div class='sp-sat'><div class='sp-val'><div class='sp-dragger'></div></div></div></div><div class='sp-clear sp-clear-display'></div><div class='sp-hue'><div class='sp-slider'></div>",
a,"</div></div><div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div></div><div class='sp-input-container sp-cf'><input class='sp-input' type='text' spellcheck='false'  /></div><div class='sp-initial sp-thumb sp-cf'></div><div class='sp-button-container sp-cf'><a class='sp-cancel' href='#'></a><button type='button' class='sp-choose'></button></div></div></div>"].join("")}();a.fn.spectrum=function(b,d){if("string"==typeof b){var e=this,f=Array.prototype.slice.call(arguments,
1);this.each(function(){var c=x[a(this).data("spectrum.id")];if(c){var d=c[b];if(!d)throw Error("Spectrum: no such method: '"+b+"'");"get"==b?e=c.get():"container"==b?e=c.container:"option"==b?e=c.option.apply(c,f):"destroy"==b?(c.destroy(),a(this).removeData("spectrum.id")):d.apply(c,f)}});return e}return this.spectrum("destroy").each(function(){var d=a.extend({},b,a(this).data());d=c(this,d);a(this).data("spectrum.id",d.id)})};a.fn.spectrum.load=!0;a.fn.spectrum.loadOpts={};a.fn.spectrum.draggable=
g;a.fn.spectrum.defaults=B;a.fn.spectrum.inputTypeColorSupport=function p(){if("undefined"===typeof p._cachedResult){var b=a("<input type='color' value='!' />")[0];p._cachedResult="color"===b.type&&"!"!==b.value}return p._cachedResult};a.spectrum={};a.spectrum.localization={};a.spectrum.palettes={};a.fn.spectrum.processNativeColorInputs=function(){var b=a("input[type=color]");b.length&&!a.fn.spectrum.inputTypeColorSupport()&&b.spectrum({preferredFormat:"hex6"})};(function(){function a(a,b,c){a=r(a,
255);b=r(b,255);c=r(c,255);var d=n(a,b,c),e=R(a,b,c),f=(d+e)/2;if(d==e)var g=e=0;else{var h=d-e;e=.5<f?h/(2-d-e):h/(d+e);switch(d){case a:g=(b-c)/h+(b<c?6:0);break;case b:g=(c-a)/h+2;break;case c:g=(a-b)/h+4}g/=6}return{h:g,s:e,l:f}}function b(a,b,c){function d(a,b,c){0>c&&(c+=1);1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a}a=r(a,360);b=r(b,100);c=r(c,100);if(0===b)c=b=a=c;else{var e=.5>c?c*(1+b):c+b-c*b,f=2*c-e;c=d(f,e,a+1/3);b=d(f,e,a);a=d(f,e,a-1/3)}return{r:255*c,g:255*b,
b:255*a}}function c(a,b,c){a=r(a,255);b=r(b,255);c=r(c,255);var d=n(a,b,c),e=R(a,b,c),f=d-e;if(d==e)var g=0;else{switch(d){case a:g=(b-c)/f+(b<c?6:0);break;case b:g=(c-a)/f+2;break;case c:g=(a-b)/f+4}g/=6}return{h:g,s:0===d?0:f/d,v:d}}function d(a,b,c,d){a=[da(G(a).toString(16)),da(G(b).toString(16)),da(G(c).toString(16))];return d&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function e(a,b,
c,d){return[da(Math.round(255*parseFloat(d)).toString(16)),da(G(a).toString(16)),da(G(b).toString(16)),da(G(c).toString(16))].join("")}function f(a,b){b=0===b?0:b||10;a=z(a).toHsl();a.s-=b/100;a.s=R(1,n(0,a.s));return z(a)}function g(a,b){b=0===b?0:b||10;a=z(a).toHsl();a.s+=b/100;a.s=R(1,n(0,a.s));return z(a)}function h(a){return z(a).desaturate(100)}function k(a,b){b=0===b?0:b||10;a=z(a).toHsl();a.l+=b/100;a.l=R(1,n(0,a.l));return z(a)}function l(a,b){b=0===b?0:b||10;a=z(a).toRgb();a.r=n(0,R(255,
a.r-G(255*-(b/100))));a.g=n(0,R(255,a.g-G(255*-(b/100))));a.b=n(0,R(255,a.b-G(255*-(b/100))));return z(a)}function m(a,b){b=0===b?0:b||10;a=z(a).toHsl();a.l-=b/100;a.l=R(1,n(0,a.l));return z(a)}function x(a,b){a=z(a).toHsl();b=(G(a.h)+b)%360;a.h=0>b?360+b:b;return z(a)}function B(a){a=z(a).toHsl();a.h=(a.h+180)%360;return z(a)}function A(a){var b=z(a).toHsl(),c=b.h;return[z(a),z({h:(c+120)%360,s:b.s,l:b.l}),z({h:(c+240)%360,s:b.s,l:b.l})]}function D(a){var b=z(a).toHsl(),c=b.h;return[z(a),z({h:(c+
90)%360,s:b.s,l:b.l}),z({h:(c+180)%360,s:b.s,l:b.l}),z({h:(c+270)%360,s:b.s,l:b.l})]}function E(a){var b=z(a).toHsl(),c=b.h;return[z(a),z({h:(c+72)%360,s:b.s,l:b.l}),z({h:(c+216)%360,s:b.s,l:b.l})]}function ia(a,b,c){b=b||6;c=c||30;var d=z(a).toHsl();c=360/c;a=[z(a)];for(d.h=(d.h-(c*b>>1)+720)%360;--b;)d.h=(d.h+c)%360,a.push(z(d));return a}function ca(a,b){b=b||6;var c=z(a).toHsv();a=c.h;var d=c.s;c=c.v;for(var e=[],f=1/b;b--;)e.push(z({h:a,s:d,v:c})),c=(c+f)%1;return e}function na(a){a=parseFloat(a);
if(isNaN(a)||0>a||1<a)a=1;return a}function r(a,b){var c=a;"string"==typeof c&&-1!=c.indexOf(".")&&1===parseFloat(c)&&(a="100%");c="string"===typeof a&&-1!=a.indexOf("%");a=R(b,n(0,parseFloat(a)));c&&(a=parseInt(a*b,10)/100);return 1E-6>Z.abs(a-b)?1:a%b/parseFloat(b)}function da(a){return 1==a.length?"0"+a:""+a}function pa(a){1>=a&&(a=100*a+"%");return a}var u=/^[\s,#]+/,ma=/\s+$/,ua=0,Z=Math,G=Z.round,R=Z.min,n=Z.max,F=Z.random,z=function(a,c){var d,e;a=a?a:"";c=c||{};if(a instanceof z)return a;
if(!(this instanceof z))return new z(a,c);var f=a;var g={r:0,g:0,b:0};var h=1;var k=d=!1;if("string"==typeof f)a:{f=f.replace(u,"").replace(ma,"").toLowerCase();var l=!1;if(ea[f])f=ea[f],l=!0;else if("transparent"==f){f={r:0,g:0,b:0,a:0,format:"name"};break a}f=(e=Q.rgb.exec(f))?{r:e[1],g:e[2],b:e[3]}:(e=Q.rgba.exec(f))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=Q.hsl.exec(f))?{h:e[1],s:e[2],l:e[3]}:(e=Q.hsla.exec(f))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=Q.hsv.exec(f))?{h:e[1],s:e[2],v:e[3]}:(e=Q.hsva.exec(f))?
{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=Q.hex8.exec(f))?{a:parseInt(e[1],16)/255,r:parseInt(e[2],16),g:parseInt(e[3],16),b:parseInt(e[4],16),format:l?"name":"hex8"}:(e=Q.hex6.exec(f))?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16),format:l?"name":"hex"}:(e=Q.hex3.exec(f))?{r:parseInt(e[1]+""+e[1],16),g:parseInt(e[2]+""+e[2],16),b:parseInt(e[3]+""+e[3],16),format:l?"name":"hex"}:!1}if("object"==typeof f){if(f.hasOwnProperty("r")&&f.hasOwnProperty("g")&&f.hasOwnProperty("b"))g=f.g,d=f.b,g={r:255*
r(f.r,255),g:255*r(g,255),b:255*r(d,255)},d=!0,k="%"===String(f.r).substr(-1)?"prgb":"rgb";else if(f.hasOwnProperty("h")&&f.hasOwnProperty("s")&&f.hasOwnProperty("v")){f.s=pa(f.s);f.v=pa(f.v);k=f.h;l=f.s;g=f.v;k=6*r(k,360);l=r(l,100);g=r(g,100);d=Z.floor(k);var m=k-d;k=g*(1-l);e=g*(1-m*l);l=g*(1-(1-m)*l);d%=6;g={r:255*[g,e,k,k,l,g][d],g:255*[l,g,g,e,k,k][d],b:255*[k,k,l,g,g,e][d]};d=!0;k="hsv"}else f.hasOwnProperty("h")&&f.hasOwnProperty("s")&&f.hasOwnProperty("l")&&(f.s=pa(f.s),f.l=pa(f.l),g=b(f.h,
f.s,f.l),d=!0,k="hsl");f.hasOwnProperty("a")&&(h=f.a)}h=na(h);f=f.format||k;k=R(255,n(g.r,0));e=R(255,n(g.g,0));g=R(255,n(g.b,0));this._originalInput=a;this._r=k;this._g=e;this._b=g;this._a=h;this._roundA=G(100*this._a)/100;this._format=c.format||f;this._gradientType=c.gradientType;1>this._r&&(this._r=G(this._r));1>this._g&&(this._g=G(this._g));1>this._b&&(this._b=G(this._b));this._ok=d;this._tc_id=ua++};z.prototype={isDark:function(){return 128>this.getBrightness()},isLight:function(){return!this.isDark()},
isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var a=this.toRgb();return(299*a.r+587*a.g+114*a.b)/1E3},setAlpha:function(a){this._a=na(a);this._roundA=G(100*this._a)/100;return this},toHsv:function(){var a=c(this._r,this._g,this._b);return{h:360*a.h,s:a.s,v:a.v,a:this._a}},toHsvString:function(){var a=c(this._r,this._g,this._b),b=G(360*a.h),d=G(100*a.s);
a=G(100*a.v);return 1==this._a?"hsv("+b+", "+d+"%, "+a+"%)":"hsva("+b+", "+d+"%, "+a+"%, "+this._roundA+")"},toHsl:function(){var b=a(this._r,this._g,this._b);return{h:360*b.h,s:b.s,l:b.l,a:this._a}},toHslString:function(){var b=a(this._r,this._g,this._b),c=G(360*b.h),d=G(100*b.s);b=G(100*b.l);return 1==this._a?"hsl("+c+", "+d+"%, "+b+"%)":"hsla("+c+", "+d+"%, "+b+"%, "+this._roundA+")"},toHex:function(a){return d(this._r,this._g,this._b,a)},toHexString:function(a){return"#"+this.toHex(a)},toHex8:function(){return e(this._r,
this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:G(this._r),g:G(this._g),b:G(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+G(this._r)+", "+G(this._g)+", "+G(this._b)+")":"rgba("+G(this._r)+", "+G(this._g)+", "+G(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:G(100*r(this._r,255))+"%",g:G(100*r(this._g,255))+"%",b:G(100*r(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+
G(100*r(this._r,255))+"%, "+G(100*r(this._g,255))+"%, "+G(100*r(this._b,255))+"%)":"rgba("+G(100*r(this._r,255))+"%, "+G(100*r(this._g,255))+"%, "+G(100*r(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":1>this._a?!1:va[d(this._r,this._g,this._b,!0)]||!1},toFilter:function(a){var b="#"+e(this._r,this._g,this._b,this._a),c=b,d=this._gradientType?"GradientType = 1, ":"";a&&(c=z(a).toHex8String());return"progid:DXImageTransform.Microsoft.gradient("+d+"startColorstr="+
b+",endColorstr="+c+")"},toString:function(a){var b=!!a;a=a||this._format;var c=!1,d=1>this._a&&0<=this._a;if(!b&&d&&("hex"===a||"hex6"===a||"hex3"===a||"name"===a))return"name"===a&&0===this._a?this.toName():this.toRgbString();"rgb"===a&&(c=this.toRgbString());"prgb"===a&&(c=this.toPercentageRgbString());if("hex"===a||"hex6"===a)c=this.toHexString();"hex3"===a&&(c=this.toHexString(!0));"hex8"===a&&(c=this.toHex8String());"name"===a&&(c=this.toName());"hsl"===a&&(c=this.toHslString());"hsv"===a&&
(c=this.toHsvString());return c||this.toHexString()},_applyModification:function(a,b){a=a.apply(null,[this].concat([].slice.call(b)));this._r=a._r;this._g=a._g;this._b=a._b;this.setAlpha(a._a);return this},lighten:function(){return this._applyModification(k,arguments)},brighten:function(){return this._applyModification(l,arguments)},darken:function(){return this._applyModification(m,arguments)},desaturate:function(){return this._applyModification(f,arguments)},saturate:function(){return this._applyModification(g,
arguments)},greyscale:function(){return this._applyModification(h,arguments)},spin:function(){return this._applyModification(x,arguments)},_applyCombination:function(a,b){return a.apply(null,[this].concat([].slice.call(b)))},analogous:function(){return this._applyCombination(ia,arguments)},complement:function(){return this._applyCombination(B,arguments)},monochromatic:function(){return this._applyCombination(ca,arguments)},splitcomplement:function(){return this._applyCombination(E,arguments)},triad:function(){return this._applyCombination(A,
arguments)},tetrad:function(){return this._applyCombination(D,arguments)}};z.fromRatio=function(a,b){if("object"==typeof a){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]="a"===d?a[d]:pa(a[d]));a=c}return z(a,b)};z.equals=function(a,b){return a&&b?z(a).toRgbString()==z(b).toRgbString():!1};z.random=function(){return z.fromRatio({r:F(),g:F(),b:F()})};z.mix=function(a,b,c){c=0===c?0:c||50;a=z(a).toRgb();b=z(b).toRgb();c/=100;var d=2*c-1,e=b.a-a.a;d=((-1==d*e?d:(d+e)/(1+d*e))+1)/2;e=1-d;return z({r:b.r*
d+a.r*e,g:b.g*d+a.g*e,b:b.b*d+a.b*e,a:b.a*c+a.a*(1-c)})};z.readability=function(a,b){var c=z(a),d=z(b);b=c.toRgb();a=d.toRgb();c=c.getBrightness();d=d.getBrightness();return{brightness:Math.abs(c-d),color:Math.max(b.r,a.r)-Math.min(b.r,a.r)+Math.max(b.g,a.g)-Math.min(b.g,a.g)+Math.max(b.b,a.b)-Math.min(b.b,a.b)}};z.isReadable=function(a,b){a=z.readability(a,b);return 125<a.brightness&&500<a.color};z.mostReadable=function(a,b){for(var c=null,d=0,e=!1,f=0;f<b.length;f++){var g=z.readability(a,b[f]),
h=125<g.brightness&&500<g.color;g=g.brightness/125*3+g.color/500;if(h&&!e||h&&e&&g>d||!h&&!e&&g>d)e=h,d=g,c=z(b[f])}return c};var ea=z.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",
cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",
floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",
lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",
mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",
sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},va=z.hexNames=function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[a[c]]=c);return b}(ea),Q={rgb:/rgb[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,
rgba:/rgba[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,hsl:/hsl[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,hsla:/hsla[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,
hsv:/hsv[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,hsva:/hsva[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};
window.tinycolor=z})();a(function(){a.fn.spectrum.load&&a.fn.spectrum.processNativeColorInputs()})});
(function(a){var e={reCalcOnWindowResize:!0,throttleDuration:17},f=function(a){var c=a.find("img").attr("src");a.data("imageSrc",c);b(c,function(b,c){a.data({imageW:c.width,imageH:c.height});h(a)})},b=function(b,c){a("<img />").one("load",function(){c(null,{width:this.width,height:this.height})}).attr("src",b)},c=function(a,b){var c=!1;return function(){var d=Array.prototype.slice.call(arguments,0);if(c)return!1;c=!0;setTimeout(function(){c=!1;a.apply(null,d)},b)}},d=function(a,b,c,d,e){var f=Math.floor(b/
2);a=Math.floor(c/a);d=Math.floor((d+1)/2*a);e&&(d=a-d);e=d-f;d=a-d;f=b-f;d<f&&(e-=f-d);0>e&&(e=0);return-100*e/b+"%"},h=function(a){var b=a.data("imageW"),c=a.data("imageH"),e=a.data("imageSrc");if(!b&&!c&&!e)return f(a);e=a.outerWidth();var g=a.outerHeight(),h=parseFloat(a.data("focusX")),k=parseFloat(a.data("focusY"));a=a.find("img").first();var m=0,p=0;if(!(0<e&&0<g&&0<b&&0<c))return!1;var w=b/e,t=c/g;a.css({"max-width":"","max-height":""});b>e&&c>g&&a.css(w>t?"max-height":"max-width","100%");
a.css(w>t?"max-width":"max-height","none");w>t?m=d(t,e,b,h):w<t&&(p=d(w,g,c,k,!0));a.css({top:p,left:m})},k=a(window),m=function(a,b){var d=b.throttleDuration?c(function(){h(a)},b.throttleDuration):function(){h(a)},e=!1;h(a);return{adjustFocus:function(){return h(a)},windowOn:function(){if(!e)return k.on("resize",d),e=!0},windowOff:function(){if(e)return k.off("resize",d),e=!1,!0}}};a.fn.focusPoint=function(b){if("string"===typeof b)return this.each(function(){a(this).data("focusPoint")[b]()});var c=
a.extend({},e,b);return this.each(function(){var b=a(this),d=m(b,c);b.data("focusPoint")&&b.data("focusPoint").windowOff();b.data("focusPoint",d);c.reCalcOnWindowResize&&d.windowOn()})};a.fn.adjustFocus=function(){return this.each(function(){h(a(this))})}})(jQuery);
